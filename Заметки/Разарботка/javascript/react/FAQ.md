## что такое useState?

useState - это хук (hook) в React, позволяющий функциональным компонентам иметь внутреннее состояние. С помощью useState мы можем изменять и использовать состояние компонента в его жизненном цикле.

Как работает useState:
1. Первый аргумент useState - это начальное значение состояния, которое будет установлено при первом рендеринге компонента.
2. Второй аргумент useState - это функция, позволяющая изменить текущее состояние компонента. Если мы используем setState, React выполняет слияние (merge) текущего состояния и нового состояния, а не заменяет его полностью. Таким образом мы можем изменить значение только нужных частей состояния, не затрагивая остальные.
3. Каждый раз, когда функция-компонент рендерится на экране, useState возвращает пару значений - текущее значение состояния и функцию, которую мы можем использовать для его изменения.

Для примера рассмотрим компонент, который использует useState для отображения счетчика и функции увеличения значения:
```javascript
import React, { useState } from 'react';

const Counter = () => {
  const [count, setCount] = useState(0);

  const handleClick = () => {
    setCount(count + 1);
  };

  return (
    <div>
      <h1>{count}</h1>
      <button onClick={handleClick}>Increment</button>
    </div>
  );
};

export default Counter;
```

При первом рендеринге компонента, значение состояния count будет установлено на 0. Мы также создаем функцию handleClick, которая будет увеличивать значение count на 1 при каждом нажатии на кнопку Increment. 

Возвращаемое значение - это div, содержащий h1 элемент с текущим значением count и кнопку, которая вызывает handleClick при клике.

Здесь useCallback не используется, так как handleClick создается у каждого рендеринга. Это может вызвать необоснованных потерь производительности, когда мемоизация необходима.

## что такое useEffect?

useEffect - это хук (hook) в React, который позволяет функциональным компонентам выполнять побочные эффекты, такие как запросы к API, изменения DOM, подписки на события и т.д., в ответ на изменение состояния компонента.

useEffect выполняется после каждого рендеринга компонента (за исключением первого рендеринга) и принимает два аргумента - функцию-эффект и массив, зависимостей (deps). 

Функция-эффект - это функция, которая будет выполняться каждый раз при рендеринге компонента (тысячи раз, если нет указания зависимостей). Эта функция может содержать любой код, который реагирует на изменение состояния компонента и выполняет побочный эффект.

Массив зависимостей - это массив, которые эксплицитно указывает на переменные, состояния, которая надо следить. Когда одно из этих значений изменится, React выполнит повторный рендеринг компонента и вызовет функцию-эффект.

Например, рассмотрим компонент, который загружает данные из API и сохраняет их в состояние:

```javascript
import React, { useState, useEffect } from 'react';

const DataComponent = () => {
  const [data, setData] = useState(null);

  useEffect(() => {
    const fetchData = async () => {
      const response = await fetch('https://my-api.com/data');
      const data = await response.json();
      setData(data);
    };
    fetchData();
  }, []);

  return (
    <div>
      {data ? (
        <ul>
          {data.map((item) => (
            <li key={item.id}>{item.name}</li>
          ))}
        </ul>
      ) : (
        <p>Loading data...</p>
      )}
    </div>
  );
};

export default DataComponent;
```
 
Здесь useEffect выполняет функцию fetchData и сохраняет полученные данные в состояние data при каждом рендеринге компонента. Мы также используем показ разметки "Загрузка данных ..." в том случае, если данных еще нет.

В примере выше мы передали пустой массив зависимостей в качестве второго аргумента для useEffect. Это гарантирует, что функция эффекта будет выполняться только один раз при первом рендеринге компонента. Если бы мы передали массив, содержащий зависимости, useEffect бы выполнял функцию-эффект каждый раз, когда любая из этих зависимостей изменилась.