(window.webpackJsonp=window.webpackJsonp||[]).push([[245],{516:function(t,r,e){"use strict";e.r(r);var a=e(14),_=Object(a.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("p",[t._v("Это пятая статья в серии статей про REST API:")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://habr.com/ru/post/483202/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Введение в REST API — RESTful веб-сервисы"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://habr.com/ru/post/483204/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Различия REST и SOAP"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://habr.com/ru/post/483206/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Разработка REST API — что такое Contract First (контракт в первую очередь)?"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://habr.com/ru/post/483322/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Разработка REST API — что такое Code First (код в первую очередь)?"),r("OutboundLink")],1)]),t._v(" "),r("li",[t._v("REST API — Что такое HATEOAS?")]),t._v(" "),r("li",[t._v("Рекомендации по REST API — примеры проектирования веб-сервисов на Java и Spring")])]),t._v(" "),r("p",[t._v("В этой статье вы продолжите изучать REST API и узнаете о HATEOAS.")]),t._v(" "),r("p",[t._v("При просмотре веб-страницы вы можете просматривать данные на странице и выполнять с ними действия.")]),t._v(" "),r("p",[t._v("Как насчет REST API? Как правило, когда вы запрашиваете REST ресурс, вы получаете информацию о ресурсе обратно. Как насчет отправки операций, которые вы можете сделать с ресурсом в ответе?")]),t._v(" "),r("h3",{attrs:{id:"вы-изучите"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#вы-изучите"}},[t._v("#")]),t._v(" Вы изучите:")]),t._v(" "),r("ul",[r("li",[t._v("Что такое HATEOAS?")]),t._v(" "),r("li",[t._v("Почему вам нужно использовать HATEOAS?")]),t._v(" "),r("li",[t._v("Когда использовать HATEOAS?")])]),t._v(" "),r("h3",{attrs:{id:"что-означает-hateoas"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#что-означает-hateoas"}},[t._v("#")]),t._v(" Что означает HATEOAS?")]),t._v(" "),r("p",[t._v("Термин "),r("strong",[t._v("HATEOAS")]),t._v(" означает фразу «"),r("strong",[t._v("H")]),t._v("ypermedia "),r("strong",[t._v("A")]),t._v("s "),r("strong",[t._v("T")]),t._v("he "),r("strong",[t._v("E")]),t._v("ngine "),r("strong",[t._v("O")]),t._v("f "),r("strong",[t._v("A")]),t._v("pplication "),r("strong",[t._v("S")]),t._v("tate» (Гипермедиа как двигатель состояния приложения). Чтобы понять это глубже, нам сначала нужно понять значение гипермедиа. Взгляните на следующую веб-страницу:")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://habrastorage.org/webt/tq/5i/jn/tq5ijnir5utbfkikdg25xb4itno.png",alt:""}})]),t._v(" "),r("p",[t._v("Когда браузер загружает страницу, вы определенно можете увидеть весь контент, который может предложить эта страница. Что еще более интересно, страница также позволяет вам выполнять множество действий с этими данными, например:")]),t._v(" "),r("ul",[r("li",[t._v("Нажатие на кнопки (зеленое «Clone» (Клонировать) или «Download» (Скачать)")]),t._v(" "),r("li",[t._v("Нажатие на вкладки (например, для просмотра «Issues» (Проблемы))")]),t._v(" "),r("li",[t._v("и еще несколько")])]),t._v(" "),r("p",[t._v("Теперь давайте посмотрим, как ведут себя наши REST API:")]),t._v(" "),r("p",[t._v("Если вы посмотрите на типичный запрос GET к RESTful серверу, такой как этот:")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://habrastorage.org/webt/bh/d5/or/bhd5or6wjb-8rn_wn0fklsazynk.png",alt:""}})]),t._v(" "),r("p",[t._v("Запрос "),r("strong",[t._v("GET")]),t._v(" "),r("strong",[r("em",[r("a",{attrs:{href:"http://localhost/",target:"_blank",rel:"noopener noreferrer"}},[t._v("localhost"),r("OutboundLink")],1),t._v(":8080/users")])]),t._v(" получает набор данных трех пользователей в этом случае. Отправив запрос с помощью "),r("strong",[t._v("GET "),r("em",[r("a",{attrs:{href:"http://localhost/",target:"_blank",rel:"noopener noreferrer"}},[t._v("localhost"),r("OutboundLink")],1),t._v(":8080/users/1")])]),t._v(", вы получите сведения только о первом пользователе. Как правило, когда мы выполняем запрос REST, мы получаем только данные, а не какие-либо действия с ними. Вот где HATEOAS восполняет пробел. Запрос HATEOAS позволяет вам не только отправлять данные, но и указывать связанные действия:")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://habrastorage.org/webt/wf/w3/xn/wfw3xnklhpyr5kekaqla8f0cvto.png",alt:""}})]),t._v(" "),r("p",[t._v("Этот пример был в формате JSON. Формат XML для другого примера будет выглядеть примерно так:")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://habrastorage.org/webt/oo/cc/9e/oocc9epejnlnn5zknz3wtcsrxps.png",alt:""}})]),t._v(" "),r("p",[t._v("Когда вы отправляете этот запрос для получения данных учетной записи, вы получаете оба:")]),t._v(" "),r("ul",[r("li",[t._v("Номер счета и данные баланса")]),t._v(" "),r("li",[t._v("Ссылки, которые обеспечивают действия, чтобы сделать депозит/снятие/перевод/закрытие")])]),t._v(" "),r("p",[t._v("С HATEOAS запрос на REST ресурс дает мне как данные, так и действия, связанные с данными.")]),t._v(" "),r("h3",{attrs:{id:"зачем-нам-нужен-hateoas"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#зачем-нам-нужен-hateoas"}},[t._v("#")]),t._v(" Зачем нам нужен HATEOAS?")]),t._v(" "),r("p",[t._v("Единственная самая важная причина для HATEOAS — слабая связь (loose coupling). Если потребителю службы REST необходимо жестко закодировать все URL-адреса ресурсов, он тесно связан с реализацией вашей службы. Вместо этого, если вы вернете URL-адреса, которые он может использовать для действий, он будет слабосвязанным. Нет строгой зависимости от структуры URI, так как она указана и используется в ответе. Несколько важных тем, связанных с HATEOAS:")]),t._v(" "),r("h3",{attrs:{id:"hal-язык-гипертекстовых-приложении"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#hal-язык-гипертекстовых-приложении"}},[t._v("#")]),t._v(" HAL — язык гипертекстовых приложений")]),t._v(" "),r("p",[t._v("При разработке службы RESTful необходимо указать, как возвращать данные и ссылки, соответствующие запросу. HAL — это формат, который обеспечивает простой и согласованный способ гиперссылки между ресурсами в вашем REST API. Вот пример:")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://habrastorage.org/webt/cz/7l/nq/cz7lnqx2clwstyhbfehxfps7fbo.png",alt:""}})]),t._v(" "),r("p",[t._v("С HAL у вас есть несколько категорий представлений:")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("Links")]),t._v(" (Ссылки): указано как комбинация")]),t._v(" "),r("li",[r("strong",[t._v("Target")]),t._v(" (Цель) — указана в качестве URI")]),t._v(" "),r("li",[t._v("Relation (Отношение) — имя")]),t._v(" "),r("li",[r("strong",[t._v("Embedded Resources")]),t._v(" (Встроенные ресурсы): другие ресурсы, содержащиеся в данном REST ресурсе")]),t._v(" "),r("li",[t._v("State (Состояние): фактические данные ресурса")])]),t._v(" "),r("p",[t._v("Если вам довелось использовать Spring Framework для разработки REST сервиса, то Spring HATEOAS — хороший механизм для вашего сервиса.")]),t._v(" "),r("p",[t._v("По этому вопросу имеется авторское "),r("a",{attrs:{href:"https://youtu.be/gCNAudrbWCo",target:"_blank",rel:"noopener noreferrer"}},[t._v("видео"),r("OutboundLink")],1),t._v(".")]),t._v(" "),r("h3",{attrs:{id:"резюме"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#резюме"}},[t._v("#")]),t._v(" Резюме")]),t._v(" "),r("p",[t._v("В этой статье мы рассмотрели, что означает HATEOAS.")]),t._v(" "),r("p",[t._v("С помощью HATEOAS ответы на запросы REST возвращают не только данные, но и действия, которые можно выполнить с ресурсом.")]),t._v(" "),r("p",[t._v("Это помогает сделать приложения слабосвязанными.")]),t._v(" "),r("h3",{attrs:{id:"дополнительное-чтение"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#дополнительное-чтение"}},[t._v("#")]),t._v(" Дополнительное чтение")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://dzone.com/articles/rest-mongodb-hateoas",target:"_blank",rel:"noopener noreferrer"}},[t._v("REST + MongoDB + HATEOAS?"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://dzone.com/articles/hypermedia-driven-rest-services-with-spring-hateoa",target:"_blank",rel:"noopener noreferrer"}},[t._v("HATEOAS REST Services With Spring"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("a",{attrs:{href:"https://www.infoq.com/presentations/spring-hateoas-1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring HATEOAS: Hypermedia APIs with Spring"),r("OutboundLink")],1),t._v(" (добавлено переводчиком)")])])}),[],!1,null,null,null);r.default=_.exports}}]);