(window.webpackJsonp=window.webpackJsonp||[]).push([[274],{547:function(n,e,t){"use strict";t.r(e);var a=t(14),o=Object(a.a)({},(function(){var n=this,e=n._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("p",[n._v("https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.contextfilter")]),n._v(" "),e("p",[n._v("{% raw %}")]),n._v(" "),e("p",[n._v("Приведенные в материале "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/",title:"Вспомогательные декораторы и функции модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[n._v("вспомогательные функции и классы модуля "),e("code",[n._v("jinja2")]),e("OutboundLink")],1),n._v(" полезны, если добавляются свои собственные фильтры или функции в среду модуля "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/",title:"Модуль jinja2 в Python, язык шаблонов.",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2")]),e("OutboundLink")],1),n._v(".")]),n._v(" "),e("h3",{attrs:{id:"содержание"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#содержание"}},[n._v("#")]),n._v(" Содержание:")]),n._v(" "),e("ul",[e("li",[e("code",[n._v("jinja2.pass_context()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.pass_context",target:"_blank",rel:"noopener noreferrer"}},[n._v("передает "),e("code",[n._v("Context")]),n._v(" в качестве первого аргумента декорированной функции"),e("OutboundLink")],1),n._v(",")]),n._v(" "),e("li",[e("code",[n._v("jinja2.pass_environment()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.pass_environment",target:"_blank",rel:"noopener noreferrer"}},[n._v("передает "),e("code",[n._v("Environment")]),n._v(" в качестве первого аргумента декорированной функции"),e("OutboundLink")],1),n._v(",")]),n._v(" "),e("li",[e("code",[n._v("jinja2.environmentfilter()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.environmentfilter",target:"_blank",rel:"noopener noreferrer"}},[n._v("маркирует фильтры, зависящие от "),e("code",[n._v("Environment")]),e("OutboundLink")],1),n._v(",")]),n._v(" "),e("li",[e("code",[n._v("jinja2.environmentfunction()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.environmentfunction",target:"_blank",rel:"noopener noreferrer"}},[n._v("маркирует функцию или метод как вызываемые из "),e("code",[n._v("Environment")]),e("OutboundLink")],1),n._v(",")]),n._v(" "),e("li",[e("code",[n._v("jinja2.contextfilter()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.contextfilter",target:"_blank",rel:"noopener noreferrer"}},[n._v("маркирует фильтры, зависящие от "),e("code",[n._v("Context")]),e("OutboundLink")],1),n._v(",")]),n._v(" "),e("li",[e("code",[n._v("jinja2.contextfunction()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.contextfunction",target:"_blank",rel:"noopener noreferrer"}},[n._v("маркирует функцию или метод как вызываемые из "),e("code",[n._v("Context")]),e("OutboundLink")],1),n._v(",")]),n._v(" "),e("li",[e("code",[n._v("jinja2.escape()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.escape",target:"_blank",rel:"noopener noreferrer"}},[n._v("преобразует "),e("code",[n._v("&")]),n._v(", "),e("code",[n._v("<")]),n._v(", "),e("code",[n._v(">")]),n._v(", "),e("code",[n._v("'")]),n._v(" и "),e("code",[n._v('"')]),n._v(" в HTML-сущности"),e("OutboundLink")],1),n._v(",")]),n._v(" "),e("li",[e("code",[n._v("jinja2.clear_caches()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.clear_caches",target:"_blank",rel:"noopener noreferrer"}},[n._v("очищает кэши среды окружения и лексеров"),e("OutboundLink")],1),n._v(",")]),n._v(" "),e("li",[e("code",[n._v("jinja2.is_undefined()")]),n._v(" "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.is_undefined",target:"_blank",rel:"noopener noreferrer"}},[n._v("проверяет, не определен ли переменная контекста"),e("OutboundLink")],1),n._v(".")])]),n._v(" "),e("hr"),n._v(" "),e("h4",{attrs:{id:"jinja2-pass-context-f"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-pass-context-f"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.pass_context(f)")])]),n._v(":")]),n._v(" "),e("p",[n._v("Декоратор "),e("code",[n._v("jinja2.pass_context()")]),n._v(" передает "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/klass-context/",title:"Класс Context() модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[n._v("контекст "),e("code",[n._v("Context")]),e("OutboundLink")],1),n._v(" в качестве первого аргумента декорированной функции при вызове во время рендеринга шаблона.")]),n._v(" "),e("p",[n._v("Может использоваться в функциях, фильтрах и тестах.")]),n._v(" "),e("p",[n._v("Если нужен только "),e("code",[n._v("Context.eval_ctx")]),n._v(", используйте "),e("code",[n._v("jinja2.pass_eval_context()")]),n._v(". Если требуется только "),e("code",[n._v("Context.environment")]),n._v(", используйте "),e("code",[n._v("jinja2.pass_environment()")]),n._v(".")]),n._v(" "),e("p",[n._v("Новое в версии 3.0: заменяет контекстную функцию "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.contextfunction",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2.contextfunction")]),e("OutboundLink")],1),n._v(" и контекстный фильтр "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.contextfilter",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2.contextfilter")]),e("OutboundLink")],1),n._v(".")]),n._v(" "),e("h4",{attrs:{id:"jinja2-pass-environment-f"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-pass-environment-f"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.pass_environment(f)")])]),n._v(":")]),n._v(" "),e("p",[n._v("Декоратор "),e("code",[n._v("jinja2.pass_environment()")]),n._v(" передает "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/klass-environment/",title:"Класс Environment() модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("Environment")]),e("OutboundLink")],1),n._v(" в качестве первого аргумента декорированной функции при вызове во время рендеринга шаблона.")]),n._v(" "),e("p",[n._v("Может использоваться в функциях, фильтрах и тестах.")]),n._v(" "),e("p",[n._v("Новое в версии 3.0: заменяет функцию "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.environmentfunction",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2.environmentfunction()")]),e("OutboundLink")],1),n._v(" и фильтр "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.environmentfilter",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2.environmentfilter()")]),e("OutboundLink")],1),n._v(".")]),n._v(" "),e("h4",{attrs:{id:"jinja2-environmentfilter-f"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-environmentfilter-f"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.environmentfilter(f)")])]),n._v(":")]),n._v(" "),e("p",[n._v("Декоратор "),e("code",[n._v("jinja2.environmentfilter()")]),n._v(" передает "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/klass-environment/",title:"Класс Environment() модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[n._v("среду "),e("code",[n._v("Environment")]),e("OutboundLink")],1),n._v(" в качестве первого аргумента декорированной функции.")]),n._v(" "),e("p",[n._v("Устарело с версии 3.0: будет удалено в Jinja 3.1. Вместо этого используйте "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.pass_environment",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2.pass_environment()")]),e("OutboundLink")],1),n._v(".")]),n._v(" "),e("h4",{attrs:{id:"jinja2-environmentfunction-f"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-environmentfunction-f"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.environmentfunction(f)")])]),n._v(":")]),n._v(" "),e("p",[n._v("Декоратор "),e("code",[n._v("jinja2.environmentfunction()")]),n._v(" передает "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/klass-environment/",title:"Класс Environment() модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[n._v("среду "),e("code",[n._v("Environment")]),e("OutboundLink")],1),n._v(" в качестве первого аргумента декорированной функции.")]),n._v(" "),e("p",[n._v("Устарело с версии 3.0: будет удалено в Jinja 3.1. Вместо этого используйте "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.pass_environment",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2.pass_environment()")]),e("OutboundLink")],1),n._v(".")]),n._v(" "),e("h4",{attrs:{id:"jinja2-contextfilter-f"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-contextfilter-f"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.contextfilter(f)")])]),n._v(":")]),n._v(" "),e("p",[n._v("Декоратор "),e("code",[n._v("jinja2.contextfilter()")]),n._v(" передает "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/klass-context/",title:"Класс Context() модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[n._v("контекст "),e("code",[n._v("Context")]),e("OutboundLink")],1),n._v(" в качестве первого аргумента декорированной функции.")]),n._v(" "),e("p",[n._v("Устарело с версии 3.0: будет удалено в Jinja 3.1. Вместо этого используйте "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.pass_context",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2.pass_context()")]),e("OutboundLink")],1),n._v(".")]),n._v(" "),e("h4",{attrs:{id:"jinja2-contextfunction-f"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-contextfunction-f"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.contextfunction(f)")])]),n._v(":")]),n._v(" "),e("p",[n._v("Декоратор "),e("code",[n._v("jinja2.contextfunction()")]),n._v(" передает "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/klass-context/",title:"Класс Context() модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[n._v("контекст "),e("code",[n._v("Context")]),e("OutboundLink")],1),n._v(" в качестве первого аргумента декорированной функции.")]),n._v(" "),e("p",[n._v("Такое поведение полезно, если функция хочет получить доступ к контексту или функциям, предоставленным в "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/klass-context/",title:"Класс Context() модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[n._v("объекте контекста"),e("OutboundLink")],1),n._v(". Пример функции, которая возвращает отсортированный список переменных шаблона, экспортируемых текущим шаблоном:")]),n._v(" "),e("p",[n._v("@contextfunction\ndef get_exported_names(context):\nreturn sorted(context.exported_vars)")]),n._v(" "),e("p",[n._v("Устарело с версии 3.0: будет удалено в Jinja 3.1. Вместо этого используйте "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/vspomogatelnye-funktsii-klassy-modulja-jinja2/#jinja2.pass_context",target:"_blank",rel:"noopener noreferrer"}},[e("code",[n._v("jinja2.pass_context()")]),e("OutboundLink")],1),n._v(".")]),n._v(" "),e("h4",{attrs:{id:"jinja2-escape-s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-escape-s"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.escape(s)")])]),n._v(":")]),n._v(" "),e("p",[n._v("Функция "),e("code",[n._v("jinja2.escape()")]),n._v(" преобразует символы "),e("code",[n._v("&")]),n._v(", "),e("code",[n._v("<")]),n._v(", "),e("code",[n._v(">")]),n._v(", "),e("code",[n._v("'")]),n._v(" и "),e("code",[n._v('"')]),n._v(" в строках "),e("code",[n._v("s")]),n._v(" в безопасные для HTML последовательности. Используйте эту функцию, если необходимо отобразить текст, который может содержать такие символы в HTML.")]),n._v(" "),e("p",[n._v("Эта функция не будет экранировать объекты, которые имеют представление HTML, например, уже экранированные данные.")]),n._v(" "),e("p",[n._v("Возвращаемое значение представляет собой "),e("a",{attrs:{href:"https://docs-python.ru/packages/modul-jinja2-python/funktsija-markup/",title:"Класс Markup() модуля jinja2 в Python.",target:"_blank",rel:"noopener noreferrer"}},[n._v("объект "),e("code",[n._v("Markup")]),e("OutboundLink")],1),n._v(".")]),n._v(" "),e("blockquote",[e("blockquote",[e("blockquote",[e("p",[n._v("import jinja2\nm = jinja2.escape('&, <, >')\nm")])])])]),n._v(" "),e("h1",{attrs:{id:"markup"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#markup"}},[n._v("#")]),n._v(" Markup('&, <, >')")]),n._v(" "),e("blockquote",[e("blockquote",[e("blockquote",[e("p",[n._v("str(m)")])])])]),n._v(" "),e("h1",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[n._v("#")]),n._v(" '&, <, >'")]),n._v(" "),e("h4",{attrs:{id:"jinja2-clear-caches"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-clear-caches"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.clear_caches()")])]),n._v(":")]),n._v(" "),e("p",[n._v("Jinja хранит внутренние кэши для среды окружения и лексеров. Они используются для того, чтобы Jinja не приходилось их постоянно воссоздавать. Обычно, не нужно об этом заботиться, но если необходимо измерить потребление памяти, то можно очистить кэши при помощи функции "),e("code",[n._v("jinja2.clear_caches()")]),n._v(".")]),n._v(" "),e("h4",{attrs:{id:"jinja2-is-undefined-obj"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jinja2-is-undefined-obj"}},[n._v("#")]),n._v(" "),e("em",[e("code",[n._v("jinja2.is_undefined(obj)")])]),n._v(":")]),n._v(" "),e("p",[n._v("Функция "),e("code",[n._v("jinja2.is_undefined()")]),n._v(" проверяет, не определен ли переданный объект. Это не что иное, как проверка экземпляра на "),e("code",[n._v("Undefined")]),n._v(", но выглядит лучше.")]),n._v(" "),e("p",[n._v("Функцию можно использовать для настраиваемых фильтров или тестов, которые должны реагировать на неопределенные "),e("code",[n._v("Undefined")]),n._v(" переменные.")]),n._v(" "),e("p",[n._v("Например, настраиваемый фильтр по умолчанию может выглядеть так:")]),n._v(" "),e("p",[n._v("def default(var, default=''):\nif is_undefined(var):\nreturn default\nreturn var")]),n._v(" "),e("p",[n._v("{% endraw %}")])])}),[],!1,null,null,null);e.default=o.exports}}]);