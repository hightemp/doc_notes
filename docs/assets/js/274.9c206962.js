(window.webpackJsonp=window.webpackJsonp||[]).push([[274],{545:function(e,a,t){"use strict";t.r(a);var r=t(14),n=Object(r.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("p",[e._v("https://habr.com/ru/companies/skillfactory/articles/576912/")]),e._v(" "),a("h3",{attrs:{id:"и-минимум-зависимостеи"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#и-минимум-зависимостеи"}},[e._v("#")]),e._v(" И минимум зависимостей")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/675/d37/b8f/675d37b8fd5033fa4a4a031b847ec7d5.png",alt:"DearPyGui",title:"DearPyGui"}})]),e._v(" "),a("p",[e._v("DearPyGui")]),e._v(" "),a("p",[e._v("Dear PyGui принципиально отличается от других фреймворков GUI Python. Рендеринг на GPU, более 70 виджетов, встроенная поддержка асинхронности — это лишь некоторые возможности Dear PyGui. Руководством по работе с этим пакетом делимся к старту курса "),a("a",{attrs:{href:"https://skillfactory.ru/python-developer?utm_source=habr&utm_medium=habr&utm_campaign=article&utm_content=coding_py_080921&utm_term=lead",target:"_blank",rel:"noopener noreferrer"}},[e._v("по разработке на Python"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("Парадигма Retained Mode позволяет создавать чрезвычайно динамичные интерфейсы. Dear PyGui не использует нативные виджеты, а рисует с помощью видеокарты компьютера, как PyQt (используя API рендеринга DirectX11, Metal и Vulkan).")]),e._v(" "),a("h2",{attrs:{id:"почему-dear-pygui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#почему-dear-pygui"}},[e._v("#")]),e._v(" Почему Dear PyGui?")]),e._v(" "),a("p",[e._v("По сравнению с другими библиотеками Python GUI Dear PyGui уникален:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Рендеринг на GPU.")])]),e._v(" "),a("li",[a("p",[e._v("Простая встроенная поддержка асинхронных функций.")])]),e._v(" "),a("li",[a("p",[e._v("Полное управление темами и стилями.")])]),e._v(" "),a("li",[a("p",[e._v("Простое встроенное окно логирования.")])]),e._v(" "),a("li",[a("p",[e._v("70+ виджетов, сотни их комбинаций.")])]),e._v(" "),a("li",[a("p",[e._v("Подробная документация, примеры и беспрецедентная поддержка.")])])]),e._v(" "),a("h2",{attrs:{id:"основные-моменты"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#основные-моменты"}},[e._v("#")]),e._v(" Основные моменты")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Темы — 10 встроенных тем и система пользовательских тем.")])]),e._v(" "),a("li",[a("p",[e._v("Graphing — API для работы с графиками (обертка ImPlot).")])]),e._v(" "),a("li",[a("p",[e._v("Canvas — низкоуровневый API для рисования.")])]),e._v(" "),a("li",[a("p",[e._v("Logging — API логирования.")])]),e._v(" "),a("li",[a("p",[e._v("Виджеты — просто прокрутите вниз, чтобы увидеть их.")])])]),e._v(" "),a("h2",{attrs:{id:"установка"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#установка"}},[e._v("#")]),e._v(" Установка")]),e._v(" "),a("p",[e._v("Убедитесь, что у вас установлен как минимум Python 3.7 (64 бит).")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("pip install dearpygui\n# или\npip3 install dearpygui\n")])])]),a("h3",{attrs:{id:"зависимости"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#зависимости"}},[e._v("#")]),e._v(" Зависимости")]),e._v(" "),a("ul",[a("li",[a("p",[a("a",{attrs:{href:"https://github.com/ocornut/imgui",target:"_blank",rel:"noopener noreferrer"}},[e._v("Dear ImGui"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/python/cpython",target:"_blank",rel:"noopener noreferrer"}},[e._v("CPython"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/epezent/implot",target:"_blank",rel:"noopener noreferrer"}},[e._v("ImPlot"),a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/CLIUtils/CLI11",target:"_blank",rel:"noopener noreferrer"}},[e._v("CLI11"),a("OutboundLink")],1)])])]),e._v(" "),a("h2",{attrs:{id:"начинаем-писать-gui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#начинаем-писать-gui"}},[e._v("#")]),e._v(" Начинаем писать GUI")]),e._v(" "),a("p",[e._v("Dear PyGui предоставляет разработчикам python простой способ создания быстрых и мощных графических интерфейсов для скриптов. Dear PyGui состоит из окна программы, окон и виджетов. Окно программы является главным окном вашей программы и создаётся в конце основного скрипта вызовом start_dearpygui().")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\n\ndef save_callback(sender, data):\n    print("Save Clicked")\n\n\nadd_text("Hello, world")\nadd_button("Save", callback=save_callback)\nadd_input_text("string", default_value="Quick brown fox")\nadd_slider_float("float", default_value=0.273, max_value=1)\n\nstart_dearpygui()\n')])])]),a("p",[e._v("Результат:")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/0c9/888/3eb/0c98883eb6502cf1bf025f96ddf6d7e5.png",alt:"Вывод",title:"Вывод"}})]),e._v(" "),a("p",[e._v("Вывод")]),e._v(" "),a("p",[e._v("В приведённом ниже примере программы показано окно программы и ещё одно окно, в котором с помощью встроенной функции документации отображается документация:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("from dearpygui.core import *\n\nset_main_window_size(800, 800)\nshow_about()\nshow_documentation()\n\n# when running this code please look at the about window and it will report which version of Dear PyGUI is running\n# Even if you just did a pip install please ensure you your environment is using the latest package\nstart_dearpygui()\n")])])]),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/74e/77a/92f/74e77a92f393d5e6f9faadbeab0fd400.png",alt:"Встроенная документация",title:"Встроенная документация"}})]),e._v(" "),a("p",[e._v("Встроенная документация")]),e._v(" "),a("p",[e._v("Dear PyGui состоит из двух модулей: dearpygui.core и dearpygui.simple.")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("dearpygui.core содержит базовую функциональность Dear PyGUI. Через ядро можно делать всё. На самом деле это расширение на языке Си, просто обёрнутое в модуль.")])]),e._v(" "),a("li",[a("p",[e._v("dearpygui.simple содержит обёртки и утилиты уже из кода ядра для удобства работы с Dear PyGui.")])])]),e._v(" "),a("h3",{attrs:{id:"инструменты-разработки"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#инструменты-разработки"}},[e._v("#")]),e._v(" Инструменты разработки")]),e._v(" "),a("p",[e._v("В Dear PyGui есть полезные инструменты разработки. Метод show_source() принимает имя входного файла Python.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\nshow_documentation()\nshow_debug()\nshow_about()\nshow_metrics()\nshow_source("main.py")  # replace "main.py" with your python file name\nshow_logger()\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"встроенное-логирование"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#встроенное-логирование"}},[e._v("#")]),e._v(" Встроенное логирование")]),e._v(" "),a("p",[e._v("Мощный инструмент разработки — Logger, он вызывается методом show_logger(). Уровней логирования 6: Trace, Debug, Info, Warning, Error, Off. Логгер выведет установленный уровень и отфильтрует все уровни ниже.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/53b/a1d/0df/53ba1d0df055f122183f67b8f0fca2f0.png",alt:"Логирование",title:"Логирование"}})]),e._v(" "),a("p",[e._v("Логирование")]),e._v(" "),a("p",[e._v("Уровень лога mvTRACE покажет все команды.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\nshow_logger()\nset_log_level(mvTRACE)\nlog("trace message")\nlog_debug("debug message")\nlog_info("info message")\nlog_warning("warning message")\nlog_error("error message")\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"пишем-виджеты-и-контеинеры"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#пишем-виджеты-и-контеинеры"}},[e._v("#")]),e._v(" Пишем виджеты и контейнеры")]),e._v(" "),a("p",[e._v("Элементы библиотеки можно разделить на:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("обычные предметы: поля ввода, кнопки;")])]),e._v(" "),a("li",[a("p",[e._v("контейнеры (окно, всплывающее окно, всплывающая подсказка, элемент-потомок);")])]),e._v(" "),a("li",[a("p",[e._v("элементы макета (группа, следующая колонка (next_column)).")])])]),e._v(" "),a("p",[e._v("Элементы добавляются командами с префиксом add_.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/8af/7c2/35b/8af7c235b8f9682dff46e0890d9237f4.png",alt:"Виджеты",title:"Виджеты"}})]),e._v(" "),a("p",[e._v("Виджеты")]),e._v(" "),a("p",[e._v("Каждый элемент должен иметь уникальное имя. По умолчанию, если это применимо, имя станет меткой элемента. При желании можно изменить метку:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Поставьте ## после имени (например displayed_name##unique_part). Всё после ## в отображаемом имени будет скрыто.")])]),e._v(" "),a("li",[a("p",[e._v("Ключевое слово label, которое отобразит метку вместо имени.")])])]),e._v(" "),a("p",[e._v("Некоторые имена элементов автоматически генерируются для элементов без аргументов имени в функции (т. е. same_line). Но у них есть необязательное ключевое слово name, и его можно заполнить, когда понадобится ссылка на элемент.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\nadd_button("Apply")\nadd_same_line(spacing=10)\nadd_button("Apply##1")\nadd_same_line(spacing=10, name="sameline1")\nadd_button("Apply2", label="Apply")\nadd_spacing(count=5, name="spacing1")\nadd_button("Apply##3")\n\nstart_dearpygui()\n')])])]),a("p",[e._v("Контекстные менеджеры dearpygui.simple автоматизируют вызов функции end, позволяют сворачивать код и в самом коде показывают иерархию.")]),e._v(" "),a("p",[e._v("По умолчанию элементы создаются в порядке их описания в коде.")]),e._v(" "),a("p",[e._v("Но, указав контейнер parent, элементы можно добавлять не по порядку. parent вставляет виджет в конец списка дочерних элементов родителя. before в сочетании с ключевым словом parent помещает один элемент перед другим в списке элементов-потомков.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\nfrom dearpygui.simple import *\n\nadd_text("First coded widget") \nadd_text("This is some text on window 2", parent="window 2")  \n# we can even specify the parent before it was coded\nadd_text("This is some text on child 1", parent="child 1")    \n# we can even specify the parent before it was coded\nwith window("window 1"):                                      \n# simple\n    with child("child 1"):                                    \n# simple\n        add_checkbox("Checkbox")                              \n# this is a input item added inside of the child\nadd_checkbox("Last coded widget", parent="MainWindow", before="First coded widget")\nadd_checkbox("Last coded widget 2", parent="child 1", before="Checkbox")\n\n# empty window\nwith window("window 3"): # simple\n    pass\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"виджеты"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#виджеты"}},[e._v("#")]),e._v(" Виджеты")]),e._v(" "),a("p",[e._v("Каждый виджет ввода имеет значение, которое можно задать с помощью ключевого слова default_value при создании или во время выполнения команды set_value. Для доступа к значению виджета можно использовать команду get_value. Мы также можем передавать значение виджета непосредственно в переменную python и из неё.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\nmy_var = True\nadd_checkbox("Radio Button", default_value=my_var)\nprint("Radio Button Value: ", get_value("Radio Button"))\nprint("my_var Value: ", my_var)\n\nset_value("Radio Button", False)\nprint("Radio Button Value: ", get_value("Radio Button"))\nprint("my_var Value: ", my_var)\n\nmy_var = get_value("Radio Button")\nprint("Radio Button Value: ", get_value("Radio Button"))\nprint("my_var Value: ", my_var)\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"виджеты-и-обратные-вызовы-окна"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#виджеты-и-обратные-вызовы-окна"}},[e._v("#")]),e._v(" Виджеты и обратные вызовы окна")]),e._v(" "),a("p",[e._v("Каждый элемент ввода имеет обратный вызов, который выполняется при взаимодействии с виджетом.")]),e._v(" "),a("p",[e._v("Обратные вызовы добавляют виджетам функциональность. Они могут присваиваться до или после создания элемента функцией set_item_callback, как в коде ниже.")]),e._v(" "),a("blockquote",[a("p",[e._v("Каждый обратный вызов должен принимать аргументы sender и data.")])]),e._v(" "),a("p",[e._v("sender сообщает обратному вызову имя элемента, которым он вызывается.")]),e._v(" "),a("p",[e._v("Аргумент data применяется разными стандартными обратными вызовами для отправки дополнительных данных через определение callback_data.")]),e._v(" "),a("p",[e._v("Виджеты оконного типа имеют специальные обратные вызовы, которые срабатывают при таких событиях, как изменение размера или закрытие окна. Обратные вызовы для конкретных окон могут быть применены к виджету любого типа окна. on_close будет запускать обратный вызов, назначенный ключевому слову, при закрытии окна, а set_resize_callback() будет запускаться при каждом изменении размера контейнера и может быть установлен на любое конкретное окно ключевым словом handler, по умолчанию это MainWindow.")]),e._v(" "),a("p",[e._v("Если вы хотите, чтобы обратный вызов выполнялся на каждом фрейме, воспользуйтесь set_render_callback().")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\nfrom dearpygui.simple import *\n\n\ndef close_me(sender, data):\n    log_debug(f"{sender} window has been closed")\n\n\ndef render_me(sender, data):\n    log_debug(f"window {sender} has ran a render callback")\n\n\ndef resize_me(sender, data):\n    log_debug(f"window {sender} has ran a rezise callback")\n\n\nshow_logger()                                      # were going to use the logger to display callback replies\nwith window("Tester", on_close=close_me):          # simple\n    add_text(\'resize this window resize callback will occur\')\n    add_text(\'close this window using the "x" button and a close callback will occur\')\n\nset_render_callback(render_me)\nset_resize_callback(resize_me, handler="Tester")\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"добавляем-и-удаляем-виджеты-в-рантаиме"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#добавляем-и-удаляем-виджеты-в-рантаиме"}},[e._v("#")]),e._v(" Добавляем и удаляем виджеты в рантайме")]),e._v(" "),a("p",[e._v("С помощью Dear PyGui вы можете динамически добавлять и удалять любые элементы во время выполнения программы. Это можно сделать, используя обратный вызов для выполнения команды add_* нужного элемента, указав родителя, к которому будет принадлежать элемент. По умолчанию, если не указан родительский элемент, виджет будет добавлен в MainWindow.Используя ключевое слово before при добавлении элемента, вы можете контролировать, перед каким элементом родительской группы будет находиться новый элемент. По умолчанию новый виджет помещается в конец.")]),e._v(" "),a("h3",{attrs:{id:"хранилище-значении-и-данных"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#хранилище-значении-и-данных"}},[e._v("#")]),e._v(" Хранилище значений и данных")]),e._v(" "),a("p",[e._v('Когда новый виджет добавлен, в системное хранилище добавляется некое значение. По умолчанию идентификатор этого значения — имя виджета. Значения извлекаются из системы значений с помощью get_value("source name"). Меняются значения вручную, методом set_value("source name"). Чтобы виджеты разных типов значений могли использовать одно и то же значение в системе хранения, сначала должно быть создано большее значение.')]),e._v(" "),a("blockquote",[a("p",[e._v("Помните, что вы можете хранить любой объект Python в хранилище данных, даже пользовательские типы данных.")])]),e._v(" "),a("p",[e._v("Вот так можно хранить отображение:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\n\ndef store_data(sender, data):\n    custom_data = {\n        "Radio Button": get_value("Radio Button"),\n        "Checkbox": get_value("Checkbox"),\n        "Text Input": dget_value("Text Input"),\n    }\n    add_data("stored_data", custom_data)\n\n\ndef print_data(sender, data):\n    log_debug(get_data("stored_data"))\n\n\nshow_logger()\nshow_debug()\nadd_radio_button("Radio Button", items=["item1", "item2"])\nadd_checkbox("Checkbox")\nadd_input_text("Text Input")\nadd_button("Store Data", callback=store_data)\nadd_button("Print Data", callback=print_data)\n\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"меню"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#меню"}},[e._v("#")]),e._v(" Меню")]),e._v(" "),a("p",[e._v("Очень важный виджет для функциональности GUI — это бар меню. Строки меню всегда отображаются в верхней части окна и состоят в основном из:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Лента главного меню.")])]),e._v(" "),a("li",[a("p",[e._v("Выпадающие подменю.")])]),e._v(" "),a("li",[a("p",[e._v("Конкретные элементы меню.")])])]),e._v(" "),a("p",[e._v("Элементы меню добавляются слева направо, а элементы подменю — сверху вниз. Они могут быть вложенными, насколько это необходимо:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\nfrom dearpygui.simple import *\n\n\ndef print_me(sender, data):\n    log_debug(f"Menu Item: {sender}")\n\n\nshow_logger()\nwith menu_bar("Main Menu Bar"):                    # simple\n\n    with menu("File"):                             # simple\n    \n        add_menu_item("Save", callback=print_me)\n        add_menu_item("Save As", callback=print_me)\n        \n        with menu("Settings"):                     # simple\n        \n            add_menu_item("Setting 1", callback=print_me)\n            add_menu_item("Setting 2", callback=print_me)\n            \n    add_menu_item("Help", callback=print_me)\n    \n    with menu("Widget Items"):\n    \n        add_checkbox("Pick Me", callback=print_me)\n        add_button("Press Me", callback=print_me)\n        add_color_picker4("Color Me", callback=print_me)\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"диалоги-выбора-фаилов-и-каталогов"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#диалоги-выбора-фаилов-и-каталогов"}},[e._v("#")]),e._v(" Диалоги выбора файлов и каталогов")]),e._v(" "),a("p",[e._v("Диалог выбора каталога вызывается select_directory_dialog(), которому необходим обратный вызов.")]),e._v(" "),a("p",[e._v("Файловые диалоги вызываются open_file_dialog(), которому должен быть задан обратный вызов. Аргумент data возвращаемого обратного вызова будет заполнен списком строк из пути к папке и к файлу. Расширения — это дополнительное ключевое слово к диалогу файлов, которое позволяет отфильтровать файлы в диалоге по расширениям.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\n\ndef file_picker(sender, data):\n    open_file_dialog(callback=apply_selected_file, extensions=".*,.py")\n\n\ndef apply_selected_file(sender, data):\n    log_debug(data)  # so we can see what is inside of data\n    directory = data[0]\n    file = data[1]\n    set_value("directory", directory)\n    set_value("file", file)\n    set_value("file_path", f"{directory}\\\\{file}")\n\n\nshow_logger()\nadd_button("Directory Selector", callback=file_picker)\nadd_text("Directory Path: ")\nadd_same_line()\nadd_label_text("##filedir", source="directory", color=[255, 0, 0])\nadd_text("File: ")\nadd_same_line()\nadd_label_text("##file", source="file", color=[255, 0, 0])\nadd_text("File Path: ")\nadd_same_line()\nadd_label_text("##filepath", source="file_path", color=[255, 0, 0])\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"графики"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#графики"}},[e._v("#")]),e._v(" Графики")]),e._v(" "),a("p",[e._v("В Dear PyGui есть «простые графики» и «графики», оба типа могут быть динамическими.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/083/61e/4f3/08361e4f31a1b31cbb298335256ce170.png",alt:"Графики",title:"Графики"}})]),e._v(" "),a("p",[e._v("Графики")]),e._v(" "),a("p",[e._v("Простые графики берут список и строят данные по оси y в зависимости от количества элементов в списке. Это могут быть линейные графики или гистограммы.")]),e._v(" "),a("p",[e._v("В «графиках» используются координаты x и y. Вызывать их нужно командой add_plot(), затем данные могут быть добавлены в виде линейного или рассеянного ряда. Вот список возможностей:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Клик с перетаскиванием панорамирует график.")])]),e._v(" "),a("li",[a("p",[e._v("Клик с перетаскиванием по оси панорамирует график в одном направлении.")])]),e._v(" "),a("li",[a("p",[e._v("Двойной клик масштабирует данные.")])]),e._v(" "),a("li",[a("p",[e._v("Правый клик и перетаскивание увеличивают область.")])]),e._v(" "),a("li",[a("p",[e._v("Двойной правый клик открывает настройки.")])]),e._v(" "),a("li",[a("p",[e._v("Shift + правый клик и перетаскивание масштабирует область, заполняющую текущую ось.")])]),e._v(" "),a("li",[a("p",[e._v("Прокрутка колёсика позволяет рассмотреть детали.")])]),e._v(" "),a("li",[a("p",[e._v("Прокрутка колёсика по оси увеличивает только по этой оси.")])]),e._v(" "),a("li",[a("p",[e._v("Можно переключать и скрывать наборы данных на легенде.")])])]),e._v(" "),a("p",[e._v("Простые графики можно сделать динамическими, изменив значение вызова plot с помощью set_value().")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/dc1/a63/6ba/dc1a636ba01e3aaaf17b748ef1a72b8e.gif",alt:"Управление графиками",title:"Управление графиками"}})]),e._v(" "),a("p",[e._v("Управление графиками")]),e._v(" "),a("p",[e._v("Динамическая функция может очищать график и добавлять новые данные с помощью обратного вызова, например для рендеринга или обратного вызова элемента.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\nfrom math import cos\n\n\ndef plot_callback(sender, data):\n    # keeping track of frames\n    frame_count = get_data("frame_count")\n    frame_count += 1\n    add_data("frame_count", frame_count)\n\n    # updating plot data\n    plot_data = get_data("plot_data")\n    if len(plot_data) > 2000:\n        frame_count = 0\n        plot_data.clear()\n    plot_data.append([3.14 * frame_count / 180, cos(3 * 3.14 * frame_count / 180)])\n    add_data("plot_data", plot_data)\n\n    # plotting new data\n    clear_plot("Plot")\n    add_line_series("Plot", "Cos", plot_data, weight=2)\n\n\nadd_plot("Plot", height=-1)\nadd_data("plot_data", [])\nadd_data("frame_count", 0)\nset_render_callback(plot_callback)\n\nstart_dearpygui()\n')])])]),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/d64/5c1/e56/d645c1e5601b4316898d91e81c786e51.gif",alt:"Представления графиков",title:"Представления графиков"}})]),e._v(" "),a("p",[e._v("Представления графиков")]),e._v(" "),a("h3",{attrs:{id:"рисование-и-холст"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#рисование-и-холст"}},[e._v("#")]),e._v(" Рисование и холст")]),e._v(" "),a("p",[e._v("В Dear PyGui есть низкоуровневый API, хорошо подходящий для рисования примитивов, пользовательских виджетов и даже динамических рисунков.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/bee/ec5/c8d/beeec5c8d4a615a88bce3c88b45acedc.png",alt:""}})]),e._v(" "),a("p",[e._v("Рисунок запускается вызовом add_drawing(). Начало холста — в левом нижнем углу.")]),e._v(" "),a("p",[e._v("Рисунки имеют масштаб, начало и размер, к которым можно получить доступ и задать их. Масштаб — это множитель значений элементов x и y. Размер указывается в пикселях. На рисунках можно отображать .png, .jpg или .bmp. Изображения рисуются с помощью функции draw_image().")]),e._v(" "),a("p",[e._v("Хотя рисунки можно сделать динамичными, очищая и перерисовывая всё заново, предлагается метод эффективнее: чтобы сделать рисунок динамичным, мы должны использовать ключевое слово tag для обозначения элементов, которые хотим перерисовать. Затем нужно просто вызвать команду рисования, используя тот же тег. Это позволит удалить только один элемент и перерисовать его с помощью новой команды.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\n\ndef on_render(sender, data):\n    counter = get_data("counter")\n    counter += 1\n    modifier = get_data("modifier")\n    if counter < 300:\n        modifier += 1\n    elif counter < 600:\n        modifier -= 1\n    else:\n        counter = 0\n        modifier = 2\n\n    xpos = 15 + modifier*1.25\n    ypos = 15 + modifier*1.25\n    color1 = 255 - modifier*.8\n    color3 = 255 - modifier*.3\n    color2 = 255 - modifier*.8\n    radius = 15 + modifier/2\n    segments = round(35-modifier/10)\n    draw_circle("Drawing_1", [xpos, ypos], radius, [color1, color3, color2, 255], segments, tag="circle##dynamic")\n    add_data("counter", counter)\n    add_data("modifier", modifier)\n\n\nadd_data("counter", 0)\nadd_data("modifier", 2)\nadd_drawing("Drawing_1", width=700, height=700)\nset_render_callback(on_render)\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"дельта-время-и-внутренние-часы"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#дельта-время-и-внутренние-часы"}},[e._v("#")]),e._v(" Дельта-время и внутренние часы")]),e._v(" "),a("p",[e._v("Dear PyGui имеет встроенные часы для проверки общего времени работы. get_total_time(), возвращается общее время работы в секундах.")]),e._v(" "),a("p",[e._v("Также с помощью команды get_delta_time() мы можем проверить время между кадрами рендеринга в секундах.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\n\ndef on_render(sender, data):\n    delta_time = str(round(get_delta_time(), 4))\n    total_time = str(round(get_total_time(), 4))\n    set_value("delta_time", delta_time)\n    set_value("total_time", total_time)\n\n\nadd_text("Total Time: ")\nadd_same_line()\nadd_label_text("##total_time_text", source="total_time")\nadd_text("Delta Time: ")\nadd_same_line()\nadd_label_text("##delta_time_text", source="delta_time")\nset_render_callback(callback=on_render)\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"таблицы"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#таблицы"}},[e._v("#")]),e._v(" Таблицы")]),e._v(" "),a("p",[e._v("Dear PyGui имеет простой API таблиц, который хорошо подходит для статических и динамических таблиц.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/487/b28/2ff/487b282ffddb314772ee7076bd3c72cc.png",alt:"Таблицы",title:"Таблицы"}})]),e._v(" "),a("p",[e._v("Таблицы")]),e._v(" "),a("p",[e._v("Виджет таблицы запускается вызовом add_table(). Для редактирования виджета таблицы мы можем использовать методы add_row(), add_column(), которые добавят строку/столбец к последнему слоту таблицы.")]),e._v(" "),a("p",[e._v("В качестве альтернативы мы можем вставить строки/столбцы с помощью insert_row(), insert_column(). Столбцы и строки вставляются в соответствии с их индексным аргументом. Если указанный индекс уже существует, то выходящие столбцы/строки будут удалены, а новая строка/столбец будет вставлена по указанному индексу.")]),e._v(" "),a("p",[e._v("Кроме того, при добавлении или вставке строки/столбца неуказанные ячейки по умолчанию окажутся пустыми. Кроме того, заголовки и ячейки могут быть переименованы, а их значения изменены. Ячейки можно выбирать. Это означает, что мы можем применить обратный вызов к таблице и получить через отправителя данные о том, какая ячейка была выбрана, и даже получить текст внутри ячейки.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\n\ndef table_printer(sender, data):\n    log_debug(f"Table Called: {sender}")\n    coord_list = get_table_selections("Table Example")\n    log_debug(f"Selected Cells (coordinates): {coord_list}")\n    names = []\n    for coordinates in coord_list:\n        names.append(get_table_item("Table Example", coordinates[0], coordinates[1]))\n    log_debug(names)\n\n\nshow_logger()\nadd_table("Table Example", ["Header 0", "Header 1"], callback=table_printer)\nadd_row("Table Example", ["awesome row", "text"])\nadd_row("Table Example", ["super unique", "unique text"])\nadd_column("Table Example", "Header 3", ["text from column", "text from column"])\nadd_row("Table Example", ["boring row"])\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"опрос-устроиств-ввода"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#опрос-устроиств-ввода"}},[e._v("#")]),e._v(" Опрос устройств ввода")]),e._v(" "),a("p",[e._v("Опрос ввода в Dear PyGui делается вызовом команды опроса в функции. Функция должна быть установлена на обратный вызов рендеринга окна, чтобы опрос происходил, когда это окно активно. Обратные вызовы рендеринга выполняются каждый кадр, Dear PyGui может опрашивать на предмет ввода между кадрами.")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/336/803/40f/33680340fdf0ba2e2a4fd5a2dff108e4.png",alt:"Опрос устройств ввода",title:"Опрос устройств ввода"}})]),e._v(" "),a("p",[e._v("Опрос устройств ввода")]),e._v(" "),a("p",[e._v("Вот список функций опроса")]),e._v(" "),a("p",[e._v("Подробности смотрите в "),a("a",{attrs:{href:"https://hoffstadt.github.io/DearPyGui/",target:"_blank",rel:"noopener noreferrer"}},[e._v("описании"),a("OutboundLink")],1),e._v(" API. Чтобы добиться желаемого поведения, комбинируйте методы.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\n\n\ndef main_callback(sender, data):\n    set_value("Mouse Position", str(get_mouse_pos()))\n\n    if is_key_down(mvKey_A):\n        set_value("A key Down", "True")\n    else:\n        set_value("A key Down", "False")\n\n    if is_key_pressed(mvKey_A):\n        set_value("A key Pressed", "True")\n    else:\n        set_value("A key Pressed", "False")\n\n    if is_key_released(mvKey_A):\n        set_value("A key Released", "True")\n    else:\n        set_value("A key Released", "False")\n\n    if is_mouse_button_dragging(mvMouseButton_Left, 10):\n        set_value("Left Mouse Dragging", "True")\n    else:\n        set_value("Left Mouse Dragging", "False")\n\n    if is_mouse_button_clicked(mvMouseButton_Left):\n        set_value("Left Mouse Clicked", "True")\n    else:\n        set_value("Left Mouse Clicked", "False")\n\n    if is_mouse_button_double_clicked(mvMouseButton_Left):\n        set_value("Left Mouse Double Clicked", "True")\n    else:\n        set_value("Left Mouse Double Clicked", "False")\n\n    if is_key_down(mvKey_Shift) and is_mouse_button_clicked(mvMouseButton_Left):\n        set_value("Shift + Left Mouse Clicked", "True")\n    else:\n        set_value("Shift + Left Mouse Clicked", "False")\n\n\nadd_label_text("A key Down", value="False", color=[0, 200, 255])\nadd_label_text("A key Pressed", value="False", color=[0, 200, 255])\nadd_label_text("A key Released", value="False", color=[0, 200, 255])\nadd_spacing()\nadd_label_text("Mouse Position", value="(0,0)", color=[0, 200, 255])\nadd_label_text("Left Mouse Clicked", value="False", color=[0, 200, 255])\nadd_label_text("Left Mouse Dragging", value="False", color=[0, 200, 255])\nadd_label_text("Left Mouse Double Clicked", value="False", color=[0, 200, 255])\nadd_label_text("Shift + Left Mouse Clicked", value="False", color=[0, 200, 255])\n\nset_render_callback(main_callback)\n\nstart_dearpygui()\n')])])]),a("h3",{attrs:{id:"многопоточность-и-асинхронные-функции"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#многопоточность-и-асинхронные-функции"}},[e._v("#")]),e._v(" Многопоточность и асинхронные функции")]),e._v(" "),a("p",[e._v("Для вычислений и обратных вызовов, требующих длительного времени, может быть полезно реализовать асинхронные функции или функции, выполняемые в отдельных потоках. Просто вызовите run_async_function().")]),e._v(" "),a("blockquote",[a("p",[e._v("Важно отметить, что запущенные с помощью команды async функции не могут вызывать другие функции API Dear PyGui.")])]),e._v(" "),a("p",[e._v("Асинхронные функции не могут получить доступ к add_data() или get_data(). Поэтому, когда необходимо передать данные в асинхронную функцию, вы должны использовать аргументы с ключевыми словами data и return handler. Любой объект Python можно сделать доступным для функции async, отправив его в функцию через data. Кроме того, любые возвращаемые данные из функции Async будут доступны через ввод data указанного обратного вызова.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('from dearpygui.core import *\nfrom time import sleep\n\n\ndef long_async_preparer(data, sender):\n    floaty = get_value("Async Input Data")\n    run_async_function(long_callback, floaty, return_handler=long_async_return)\n\n\ndef long_callback(sender, data):\n    sleep(3)\n    return data * 2\n\n\ndef long_async_return(sender, data):\n    log_debug(data)\n\n\ndef long_callback2(sender, data):\n    sleep(3)\n    log_debug(data * 2)\n\nshow_logger()\nadd_text(\n    "input a number and see the logger window for the output of the long callback that would normally freeze the GUI")\nadd_input_float("Async Input Data", default_value=1.0)\nadd_button("long Function", callback=long_callback2, callback_data=get_value("Async Input Data"), tip="This is the long callback that will freeze the gui")\nadd_button("long Asynchronous Function", callback=long_async_preparer, tip="this will not a freeze the GUI")\n\nstart_dearpygui()\n')])])]),a("p",[e._v("Когда вызывается метод асинхронной функциональности, создаётся пул потоков. Настраиваются время ожидания и количество потоков.")]),e._v(" "),a("p",[e._v("Используя set_thread_count(), мы можем установить количество потоков в пуле, использовать set_threadpool_high_performance(), чтобы указать пулу потоков максимум потоков на компьютере пользователя. Имейте в виду, что при вызове асинхронных функций процессор будет работать на 100 %. Установить время ожидания для пула потоков можно с помощью set_threadpool_timeout(). Это уничтожит пул и освободит ресурсы через заданное время.")]),e._v(" "),a("h3",{attrs:{id:"темы-и-стили"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#темы-и-стили"}},[e._v("#")]),e._v(" Темы и стили")]),e._v(" "),a("p",[e._v("Темы и стилизация виджетов могут применяться к отдельному виджету или приложению в целом. Вот примеры атрибутов стиля:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("размер шрифта;")])]),e._v(" "),a("li",[a("p",[e._v("цветовая схема приложения;")])]),e._v(" "),a("li",[a("p",[e._v("скругление углов.")])])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://habrastorage.org/getpro/habr/upload_files/bf9/615/cd1/bf9615cd1e3c23646dd94b67d33023f9.png",alt:"Темы и стили",title:"Темы и стили"}})]),e._v(" "),a("p",[e._v("Темы и стили")]),e._v(" "),a("h2",{attrs:{id:"примеры"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#примеры"}},[e._v("#")]),e._v(" Примеры")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/Pcothren/DearPyGui-Examples.git",target:"_blank",rel:"noopener noreferrer"}},[e._v("Репозиторий"),a("OutboundLink")],1),e._v(" демонстраций Dear PyGui.")]),e._v(" "),a("p",[e._v("Для установки необходимых зависимостей запустите в репозитории")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("pip install -r requirements.txt\n")])])]),a("p",[e._v("или")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("pip3 install -r requirements.txt.\n")])])]),a("h2",{attrs:{id:"заключение"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#заключение"}},[e._v("#")]),e._v(" Заключение")]),e._v(" "),a("p",[e._v("Dear PyGui — это простой и мощный фреймворк для создания графических интерфейсов пользователя с помощью скриптов на языке Python. Он рисует через GPU и работает на Windows 10, macOS и Linux, содержит функции графики, темы, API для пользовательских отрисовок и инструменты для разработки приложений.")]),e._v(" "),a("p",[e._v("DearPyGui оборачивает Dear ImGui, включает дополнительные виджеты и дополнения (графики, диалоги файлов, изображения, виджет редактирования текста и т. д.), поддерживает асинхронность, добавление элементов на холст, дополнительные инструменты отладки и т. д.")]),e._v(" "),a("p",[e._v("Планы [на 12 октября 2020]:")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Интерфейс в стиле ООП ["),a("a",{attrs:{href:"https://github.com/mwerezak/DearPyGui-Obj",target:"_blank",rel:"noopener noreferrer"}},[e._v("вот"),a("OutboundLink")],1),e._v(" вариант].")])]),e._v(" "),a("li",[a("p",[e._v("Гистограмма, круговая диаграмма и другие элементы.")])]),e._v(" "),a("li",[a("p",[e._v("Улучшения для закрепления окон и двух вьюпортов.")])]),e._v(" "),a("li",[a("p",[e._v("Виджет 3D.")])]),e._v(" "),a("li",[a("p",[e._v("API персонализации виджетов.")])])]),e._v(" "),a("p",[e._v("Ссылки")]),e._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"https://pypi.org/project/dearpygui/0.1.0a18/",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://hoffstadt.github.io/DearPyGui/",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://github.com/Pcothren/DearPyGui-Examples",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://hoffstadt.github.io/DearPyGui/",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1)])]),e._v(" "),a("li",[a("p",[a("a",{attrs:{href:"https://hoffstadt.github.io/DearPyGui/tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[a("OutboundLink")],1)])])]),e._v(" "),a("p",[e._v("Вот так на Python можно сделать достойный графический интерфейс. Язык продолжает развиваться, а благодаря лаконичности и простоте превращается в швейцарский нож программиста. Если разработка на Python вам интересна, "),a("a",{attrs:{href:"https://skillfactory.ru/catalogue?utm_source=habr&utm_medium=habr&utm_campaign=article&utm_content=sf_allcourses_080921&utm_term=conc",target:"_blank",rel:"noopener noreferrer"}},[e._v("переходите"),a("OutboundLink")],1),e._v(" на страницы наших курсов, чтобы увидеть, как мы готовим людей к началу карьеры "),a("a",{attrs:{href:"https://skillfactory.ru/python-developer?utm_source=habr&utm_medium=habr&utm_campaign=article&utm_content=coding_py_080921&utm_term=conc",target:"_blank",rel:"noopener noreferrer"}},[e._v("Python-разработчика"),a("OutboundLink")],1),e._v(".")])])}),[],!1,null,null,null);a.default=n.exports}}]);