<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Obsidian notes</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Obsidian notes">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/doc_notes/assets/css/0.styles.60b82a90.css" as="style"><link rel="preload" href="/doc_notes/assets/js/app.d7b7570d.js" as="script"><link rel="preload" href="/doc_notes/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/doc_notes/assets/js/349.36014517.js" as="script"><link rel="prefetch" href="/doc_notes/assets/js/10.466a3961.js"><link rel="prefetch" href="/doc_notes/assets/js/100.eed12daa.js"><link rel="prefetch" href="/doc_notes/assets/js/101.c2c72797.js"><link rel="prefetch" href="/doc_notes/assets/js/102.3a5b3674.js"><link rel="prefetch" href="/doc_notes/assets/js/103.4df54047.js"><link rel="prefetch" href="/doc_notes/assets/js/104.4e3d031e.js"><link rel="prefetch" href="/doc_notes/assets/js/105.fb56ad64.js"><link rel="prefetch" href="/doc_notes/assets/js/106.4cd1492c.js"><link rel="prefetch" href="/doc_notes/assets/js/107.a916259a.js"><link rel="prefetch" href="/doc_notes/assets/js/108.dfbcdb35.js"><link rel="prefetch" href="/doc_notes/assets/js/109.b85d5957.js"><link rel="prefetch" href="/doc_notes/assets/js/11.70fc3590.js"><link rel="prefetch" href="/doc_notes/assets/js/110.dc40183f.js"><link rel="prefetch" href="/doc_notes/assets/js/111.a9f83101.js"><link rel="prefetch" href="/doc_notes/assets/js/112.1b402c16.js"><link rel="prefetch" href="/doc_notes/assets/js/113.89928947.js"><link rel="prefetch" href="/doc_notes/assets/js/114.8be0db96.js"><link rel="prefetch" href="/doc_notes/assets/js/115.bd9e24bd.js"><link rel="prefetch" href="/doc_notes/assets/js/116.1979db39.js"><link rel="prefetch" href="/doc_notes/assets/js/117.7a439523.js"><link rel="prefetch" href="/doc_notes/assets/js/118.680aed03.js"><link rel="prefetch" href="/doc_notes/assets/js/119.dfdba03a.js"><link rel="prefetch" href="/doc_notes/assets/js/12.0f945969.js"><link rel="prefetch" href="/doc_notes/assets/js/120.37c405a9.js"><link rel="prefetch" href="/doc_notes/assets/js/121.672a368b.js"><link rel="prefetch" href="/doc_notes/assets/js/122.f1b5fad1.js"><link rel="prefetch" href="/doc_notes/assets/js/123.b0d4c3db.js"><link rel="prefetch" href="/doc_notes/assets/js/124.7f08733e.js"><link rel="prefetch" href="/doc_notes/assets/js/125.619db48f.js"><link rel="prefetch" href="/doc_notes/assets/js/126.048ed0c7.js"><link rel="prefetch" href="/doc_notes/assets/js/127.cc65fb73.js"><link rel="prefetch" href="/doc_notes/assets/js/128.27591c7f.js"><link rel="prefetch" href="/doc_notes/assets/js/129.e848d5ea.js"><link rel="prefetch" href="/doc_notes/assets/js/13.353aee93.js"><link rel="prefetch" href="/doc_notes/assets/js/130.0b6325e2.js"><link rel="prefetch" href="/doc_notes/assets/js/131.a4a8dc74.js"><link rel="prefetch" href="/doc_notes/assets/js/132.f78488ea.js"><link rel="prefetch" href="/doc_notes/assets/js/133.2c57ab36.js"><link rel="prefetch" href="/doc_notes/assets/js/134.c041a644.js"><link rel="prefetch" href="/doc_notes/assets/js/135.dd89210d.js"><link rel="prefetch" href="/doc_notes/assets/js/136.127b0247.js"><link rel="prefetch" href="/doc_notes/assets/js/137.1ff783eb.js"><link rel="prefetch" href="/doc_notes/assets/js/138.e72eaf60.js"><link rel="prefetch" href="/doc_notes/assets/js/139.135c74d8.js"><link rel="prefetch" href="/doc_notes/assets/js/14.a3283f94.js"><link rel="prefetch" href="/doc_notes/assets/js/140.4a7f191d.js"><link rel="prefetch" href="/doc_notes/assets/js/141.fa563aa9.js"><link rel="prefetch" href="/doc_notes/assets/js/142.266c8a69.js"><link rel="prefetch" href="/doc_notes/assets/js/143.3c3e596e.js"><link rel="prefetch" href="/doc_notes/assets/js/144.46a5cdc6.js"><link rel="prefetch" href="/doc_notes/assets/js/145.c33d2f51.js"><link rel="prefetch" href="/doc_notes/assets/js/146.ecf9ffa3.js"><link rel="prefetch" href="/doc_notes/assets/js/147.ecc8f162.js"><link rel="prefetch" href="/doc_notes/assets/js/148.57a0cc2c.js"><link rel="prefetch" href="/doc_notes/assets/js/149.243334a6.js"><link rel="prefetch" href="/doc_notes/assets/js/15.c66e3407.js"><link rel="prefetch" href="/doc_notes/assets/js/150.6811595e.js"><link rel="prefetch" href="/doc_notes/assets/js/151.a1b33f48.js"><link rel="prefetch" href="/doc_notes/assets/js/152.754c44e2.js"><link rel="prefetch" href="/doc_notes/assets/js/153.b6b30dd0.js"><link rel="prefetch" href="/doc_notes/assets/js/154.78d410b8.js"><link rel="prefetch" href="/doc_notes/assets/js/155.767f3fb1.js"><link rel="prefetch" href="/doc_notes/assets/js/156.f9095760.js"><link rel="prefetch" href="/doc_notes/assets/js/157.c538a726.js"><link rel="prefetch" href="/doc_notes/assets/js/158.9835a2a3.js"><link rel="prefetch" href="/doc_notes/assets/js/159.9d7c5a05.js"><link rel="prefetch" href="/doc_notes/assets/js/16.e7ecc933.js"><link rel="prefetch" href="/doc_notes/assets/js/160.addf636e.js"><link rel="prefetch" href="/doc_notes/assets/js/161.b9499ae3.js"><link rel="prefetch" href="/doc_notes/assets/js/162.9ebe738a.js"><link rel="prefetch" href="/doc_notes/assets/js/163.4860d1e7.js"><link rel="prefetch" href="/doc_notes/assets/js/164.148cebf3.js"><link rel="prefetch" href="/doc_notes/assets/js/165.41046f67.js"><link rel="prefetch" href="/doc_notes/assets/js/166.6deaed29.js"><link rel="prefetch" href="/doc_notes/assets/js/167.6d02a205.js"><link rel="prefetch" href="/doc_notes/assets/js/168.c86d38a7.js"><link rel="prefetch" href="/doc_notes/assets/js/169.eb313225.js"><link rel="prefetch" href="/doc_notes/assets/js/17.65a71bb5.js"><link rel="prefetch" href="/doc_notes/assets/js/170.889855cd.js"><link rel="prefetch" href="/doc_notes/assets/js/171.b95cf306.js"><link rel="prefetch" href="/doc_notes/assets/js/172.0b1e5fe3.js"><link rel="prefetch" href="/doc_notes/assets/js/173.99679181.js"><link rel="prefetch" href="/doc_notes/assets/js/174.f28ad52f.js"><link rel="prefetch" href="/doc_notes/assets/js/175.1c1f371e.js"><link rel="prefetch" href="/doc_notes/assets/js/176.662a9d28.js"><link rel="prefetch" href="/doc_notes/assets/js/177.6e464bd5.js"><link rel="prefetch" href="/doc_notes/assets/js/178.102c88e4.js"><link rel="prefetch" href="/doc_notes/assets/js/179.dddab088.js"><link rel="prefetch" href="/doc_notes/assets/js/18.8fedcbac.js"><link rel="prefetch" href="/doc_notes/assets/js/180.345e741e.js"><link rel="prefetch" href="/doc_notes/assets/js/181.59db7110.js"><link rel="prefetch" href="/doc_notes/assets/js/182.7f628252.js"><link rel="prefetch" href="/doc_notes/assets/js/183.e8653839.js"><link rel="prefetch" href="/doc_notes/assets/js/184.3eec36ec.js"><link rel="prefetch" href="/doc_notes/assets/js/185.cb0c13d5.js"><link rel="prefetch" href="/doc_notes/assets/js/186.1ccbe1a2.js"><link rel="prefetch" href="/doc_notes/assets/js/187.55e6bc99.js"><link rel="prefetch" href="/doc_notes/assets/js/188.1829998b.js"><link rel="prefetch" href="/doc_notes/assets/js/189.e86e8099.js"><link rel="prefetch" href="/doc_notes/assets/js/19.8fd4f833.js"><link rel="prefetch" href="/doc_notes/assets/js/190.3263ca68.js"><link rel="prefetch" href="/doc_notes/assets/js/191.6973d93a.js"><link rel="prefetch" href="/doc_notes/assets/js/192.8c648d4c.js"><link rel="prefetch" href="/doc_notes/assets/js/193.135dc6c4.js"><link rel="prefetch" href="/doc_notes/assets/js/194.2387809d.js"><link rel="prefetch" href="/doc_notes/assets/js/195.4e094a48.js"><link rel="prefetch" href="/doc_notes/assets/js/196.faae151e.js"><link rel="prefetch" href="/doc_notes/assets/js/197.6ca84b2f.js"><link rel="prefetch" href="/doc_notes/assets/js/198.99d5a7c7.js"><link rel="prefetch" href="/doc_notes/assets/js/199.5ac6f260.js"><link rel="prefetch" href="/doc_notes/assets/js/20.b7871733.js"><link rel="prefetch" href="/doc_notes/assets/js/200.434715d2.js"><link rel="prefetch" href="/doc_notes/assets/js/201.df5e4553.js"><link rel="prefetch" href="/doc_notes/assets/js/202.4f5738c7.js"><link rel="prefetch" href="/doc_notes/assets/js/203.7bdee8f2.js"><link rel="prefetch" href="/doc_notes/assets/js/204.5b4e69e3.js"><link rel="prefetch" href="/doc_notes/assets/js/205.58586a6e.js"><link rel="prefetch" href="/doc_notes/assets/js/206.b5603313.js"><link rel="prefetch" href="/doc_notes/assets/js/207.e1a4577a.js"><link rel="prefetch" href="/doc_notes/assets/js/208.2369d699.js"><link rel="prefetch" href="/doc_notes/assets/js/209.baadeea1.js"><link rel="prefetch" href="/doc_notes/assets/js/21.1cff06fb.js"><link rel="prefetch" href="/doc_notes/assets/js/210.2b107173.js"><link rel="prefetch" href="/doc_notes/assets/js/211.c8eea835.js"><link rel="prefetch" href="/doc_notes/assets/js/212.1fae6417.js"><link rel="prefetch" href="/doc_notes/assets/js/213.5696d97f.js"><link rel="prefetch" href="/doc_notes/assets/js/214.bbd783da.js"><link rel="prefetch" href="/doc_notes/assets/js/215.1c0c350c.js"><link rel="prefetch" href="/doc_notes/assets/js/216.498044dc.js"><link rel="prefetch" href="/doc_notes/assets/js/217.319f81c6.js"><link rel="prefetch" href="/doc_notes/assets/js/218.8911d413.js"><link rel="prefetch" href="/doc_notes/assets/js/219.f37e96ea.js"><link rel="prefetch" href="/doc_notes/assets/js/22.2cd72a62.js"><link rel="prefetch" href="/doc_notes/assets/js/220.b5ac8e75.js"><link rel="prefetch" href="/doc_notes/assets/js/221.cde91cfa.js"><link rel="prefetch" href="/doc_notes/assets/js/222.df059246.js"><link rel="prefetch" href="/doc_notes/assets/js/223.3ce433b3.js"><link rel="prefetch" href="/doc_notes/assets/js/224.36f2c1ff.js"><link rel="prefetch" href="/doc_notes/assets/js/225.fbee00f9.js"><link rel="prefetch" href="/doc_notes/assets/js/226.306f0e70.js"><link rel="prefetch" href="/doc_notes/assets/js/227.4e7373a0.js"><link rel="prefetch" href="/doc_notes/assets/js/228.44fd0171.js"><link rel="prefetch" href="/doc_notes/assets/js/229.f832a1d6.js"><link rel="prefetch" href="/doc_notes/assets/js/23.e9957abc.js"><link rel="prefetch" href="/doc_notes/assets/js/230.043a91e9.js"><link rel="prefetch" href="/doc_notes/assets/js/231.7616cdd1.js"><link rel="prefetch" href="/doc_notes/assets/js/232.c3eb262d.js"><link rel="prefetch" href="/doc_notes/assets/js/233.645ff598.js"><link rel="prefetch" href="/doc_notes/assets/js/234.bb763bdf.js"><link rel="prefetch" href="/doc_notes/assets/js/235.f6724c17.js"><link rel="prefetch" href="/doc_notes/assets/js/236.2fe5969c.js"><link rel="prefetch" href="/doc_notes/assets/js/237.c379ae13.js"><link rel="prefetch" href="/doc_notes/assets/js/238.bc474d07.js"><link rel="prefetch" href="/doc_notes/assets/js/239.b4b3094b.js"><link rel="prefetch" href="/doc_notes/assets/js/24.e4e0f07a.js"><link rel="prefetch" href="/doc_notes/assets/js/240.b7298fad.js"><link rel="prefetch" href="/doc_notes/assets/js/241.edc191c3.js"><link rel="prefetch" href="/doc_notes/assets/js/242.d79274ed.js"><link rel="prefetch" href="/doc_notes/assets/js/243.db97328a.js"><link rel="prefetch" href="/doc_notes/assets/js/244.68cd4704.js"><link rel="prefetch" href="/doc_notes/assets/js/245.f501295b.js"><link rel="prefetch" href="/doc_notes/assets/js/246.ddc4d5d9.js"><link rel="prefetch" href="/doc_notes/assets/js/247.ff22cc5b.js"><link rel="prefetch" href="/doc_notes/assets/js/248.4a61cd51.js"><link rel="prefetch" href="/doc_notes/assets/js/249.be49f5ca.js"><link rel="prefetch" href="/doc_notes/assets/js/25.c7ae079a.js"><link rel="prefetch" href="/doc_notes/assets/js/250.43caa09e.js"><link rel="prefetch" href="/doc_notes/assets/js/251.26d5a6e9.js"><link rel="prefetch" href="/doc_notes/assets/js/252.b3bcf0c8.js"><link rel="prefetch" href="/doc_notes/assets/js/253.1a1b2b11.js"><link rel="prefetch" href="/doc_notes/assets/js/254.1c4090ef.js"><link rel="prefetch" href="/doc_notes/assets/js/255.a49e9f41.js"><link rel="prefetch" href="/doc_notes/assets/js/256.78de4e85.js"><link rel="prefetch" href="/doc_notes/assets/js/257.3f3d8408.js"><link rel="prefetch" href="/doc_notes/assets/js/258.2a59b276.js"><link rel="prefetch" href="/doc_notes/assets/js/259.8916e4fc.js"><link rel="prefetch" href="/doc_notes/assets/js/26.1ae4ceb3.js"><link rel="prefetch" href="/doc_notes/assets/js/260.9e38f578.js"><link rel="prefetch" href="/doc_notes/assets/js/261.bb658a8a.js"><link rel="prefetch" href="/doc_notes/assets/js/262.e3dc3020.js"><link rel="prefetch" href="/doc_notes/assets/js/263.f1020a9b.js"><link rel="prefetch" href="/doc_notes/assets/js/264.b8f1ff3a.js"><link rel="prefetch" href="/doc_notes/assets/js/265.d3eb13d8.js"><link rel="prefetch" href="/doc_notes/assets/js/266.f27ca21b.js"><link rel="prefetch" href="/doc_notes/assets/js/267.338c834f.js"><link rel="prefetch" href="/doc_notes/assets/js/268.b9ebda2b.js"><link rel="prefetch" href="/doc_notes/assets/js/269.dc7525cf.js"><link rel="prefetch" href="/doc_notes/assets/js/27.42caa565.js"><link rel="prefetch" href="/doc_notes/assets/js/270.137ed51c.js"><link rel="prefetch" href="/doc_notes/assets/js/271.b6fdb998.js"><link rel="prefetch" href="/doc_notes/assets/js/272.ddc1ee03.js"><link rel="prefetch" href="/doc_notes/assets/js/273.df6133aa.js"><link rel="prefetch" href="/doc_notes/assets/js/274.9115305d.js"><link rel="prefetch" href="/doc_notes/assets/js/275.13342d76.js"><link rel="prefetch" href="/doc_notes/assets/js/276.a9e1f1ec.js"><link rel="prefetch" href="/doc_notes/assets/js/277.f2728f30.js"><link rel="prefetch" href="/doc_notes/assets/js/278.7e726870.js"><link rel="prefetch" href="/doc_notes/assets/js/279.648ad6bd.js"><link rel="prefetch" href="/doc_notes/assets/js/28.45f1bbb9.js"><link rel="prefetch" href="/doc_notes/assets/js/280.720a2918.js"><link rel="prefetch" href="/doc_notes/assets/js/281.5a2d475b.js"><link rel="prefetch" href="/doc_notes/assets/js/282.62bc635b.js"><link rel="prefetch" href="/doc_notes/assets/js/283.ff6be5f5.js"><link rel="prefetch" href="/doc_notes/assets/js/284.3f7c0af1.js"><link rel="prefetch" href="/doc_notes/assets/js/285.c2f51624.js"><link rel="prefetch" href="/doc_notes/assets/js/286.a5b99138.js"><link rel="prefetch" href="/doc_notes/assets/js/287.829ac9bd.js"><link rel="prefetch" href="/doc_notes/assets/js/288.54aabaae.js"><link rel="prefetch" href="/doc_notes/assets/js/289.71b4d090.js"><link rel="prefetch" href="/doc_notes/assets/js/29.0fdf0aa1.js"><link rel="prefetch" href="/doc_notes/assets/js/290.df175e90.js"><link rel="prefetch" href="/doc_notes/assets/js/291.014245fe.js"><link rel="prefetch" href="/doc_notes/assets/js/292.8d375ce2.js"><link rel="prefetch" href="/doc_notes/assets/js/293.8591ceba.js"><link rel="prefetch" href="/doc_notes/assets/js/294.d979d20b.js"><link rel="prefetch" href="/doc_notes/assets/js/295.372c2d39.js"><link rel="prefetch" href="/doc_notes/assets/js/296.07d572ab.js"><link rel="prefetch" href="/doc_notes/assets/js/297.5de1073e.js"><link rel="prefetch" href="/doc_notes/assets/js/298.5a6ac1ca.js"><link rel="prefetch" href="/doc_notes/assets/js/299.e87a7ab3.js"><link rel="prefetch" href="/doc_notes/assets/js/3.8087b6c9.js"><link rel="prefetch" href="/doc_notes/assets/js/30.33c143cb.js"><link rel="prefetch" href="/doc_notes/assets/js/300.c011f877.js"><link rel="prefetch" href="/doc_notes/assets/js/301.479875ba.js"><link rel="prefetch" href="/doc_notes/assets/js/302.fe22cf89.js"><link rel="prefetch" href="/doc_notes/assets/js/303.fe59bc5d.js"><link rel="prefetch" href="/doc_notes/assets/js/304.17566e0f.js"><link rel="prefetch" href="/doc_notes/assets/js/305.235d62da.js"><link rel="prefetch" href="/doc_notes/assets/js/306.6a899aaa.js"><link rel="prefetch" href="/doc_notes/assets/js/307.a6302576.js"><link rel="prefetch" href="/doc_notes/assets/js/308.53d18516.js"><link rel="prefetch" href="/doc_notes/assets/js/309.44746635.js"><link rel="prefetch" href="/doc_notes/assets/js/31.f3c83a33.js"><link rel="prefetch" href="/doc_notes/assets/js/310.2b0b41b5.js"><link rel="prefetch" href="/doc_notes/assets/js/311.a2425d85.js"><link rel="prefetch" href="/doc_notes/assets/js/312.ee8bb224.js"><link rel="prefetch" href="/doc_notes/assets/js/313.cdb7a074.js"><link rel="prefetch" href="/doc_notes/assets/js/314.5c46337b.js"><link rel="prefetch" href="/doc_notes/assets/js/315.d2f5d6ef.js"><link rel="prefetch" href="/doc_notes/assets/js/316.1d1b10d7.js"><link rel="prefetch" href="/doc_notes/assets/js/317.18978adf.js"><link rel="prefetch" href="/doc_notes/assets/js/318.725aaa9e.js"><link rel="prefetch" href="/doc_notes/assets/js/319.10c27323.js"><link rel="prefetch" href="/doc_notes/assets/js/32.2e4a5d25.js"><link rel="prefetch" href="/doc_notes/assets/js/320.be122112.js"><link rel="prefetch" href="/doc_notes/assets/js/321.21d59327.js"><link rel="prefetch" href="/doc_notes/assets/js/322.1c7aa8b5.js"><link rel="prefetch" href="/doc_notes/assets/js/323.61f2e664.js"><link rel="prefetch" href="/doc_notes/assets/js/324.d5ef212c.js"><link rel="prefetch" href="/doc_notes/assets/js/325.8dcaad1a.js"><link rel="prefetch" href="/doc_notes/assets/js/326.27ae755d.js"><link rel="prefetch" href="/doc_notes/assets/js/327.23295181.js"><link rel="prefetch" href="/doc_notes/assets/js/328.b1038029.js"><link rel="prefetch" href="/doc_notes/assets/js/329.685f438a.js"><link rel="prefetch" href="/doc_notes/assets/js/33.78d67de4.js"><link rel="prefetch" href="/doc_notes/assets/js/330.29d01e38.js"><link rel="prefetch" href="/doc_notes/assets/js/331.56ede5a6.js"><link rel="prefetch" href="/doc_notes/assets/js/332.26f5337e.js"><link rel="prefetch" href="/doc_notes/assets/js/333.7a1b5bed.js"><link rel="prefetch" href="/doc_notes/assets/js/334.ccc83ffa.js"><link rel="prefetch" href="/doc_notes/assets/js/335.dd4d24f2.js"><link rel="prefetch" href="/doc_notes/assets/js/336.5cd8a3be.js"><link rel="prefetch" href="/doc_notes/assets/js/337.725cd669.js"><link rel="prefetch" href="/doc_notes/assets/js/338.ca370789.js"><link rel="prefetch" href="/doc_notes/assets/js/339.4db35fe1.js"><link rel="prefetch" href="/doc_notes/assets/js/34.10602eab.js"><link rel="prefetch" href="/doc_notes/assets/js/340.11e5684e.js"><link rel="prefetch" href="/doc_notes/assets/js/341.87af888b.js"><link rel="prefetch" href="/doc_notes/assets/js/342.6288246d.js"><link rel="prefetch" href="/doc_notes/assets/js/343.10836901.js"><link rel="prefetch" href="/doc_notes/assets/js/344.85db1640.js"><link rel="prefetch" href="/doc_notes/assets/js/345.f1a97cf1.js"><link rel="prefetch" href="/doc_notes/assets/js/346.dd502824.js"><link rel="prefetch" href="/doc_notes/assets/js/347.b211385a.js"><link rel="prefetch" href="/doc_notes/assets/js/348.f255c270.js"><link rel="prefetch" href="/doc_notes/assets/js/35.03fbbb65.js"><link rel="prefetch" href="/doc_notes/assets/js/350.817bd0e1.js"><link rel="prefetch" href="/doc_notes/assets/js/351.abf45be4.js"><link rel="prefetch" href="/doc_notes/assets/js/352.4254451f.js"><link rel="prefetch" href="/doc_notes/assets/js/353.c0b15b9d.js"><link rel="prefetch" href="/doc_notes/assets/js/354.d725c37e.js"><link rel="prefetch" href="/doc_notes/assets/js/355.10f1ce9b.js"><link rel="prefetch" href="/doc_notes/assets/js/356.a5e2bfda.js"><link rel="prefetch" href="/doc_notes/assets/js/357.80f39a19.js"><link rel="prefetch" href="/doc_notes/assets/js/358.5c69b1d1.js"><link rel="prefetch" href="/doc_notes/assets/js/359.12d21c81.js"><link rel="prefetch" href="/doc_notes/assets/js/36.aa74ba81.js"><link rel="prefetch" href="/doc_notes/assets/js/360.1183658a.js"><link rel="prefetch" href="/doc_notes/assets/js/361.33b745b6.js"><link rel="prefetch" href="/doc_notes/assets/js/362.a56596c0.js"><link rel="prefetch" href="/doc_notes/assets/js/363.1fadef9e.js"><link rel="prefetch" href="/doc_notes/assets/js/364.e43e06a1.js"><link rel="prefetch" href="/doc_notes/assets/js/365.1b191379.js"><link rel="prefetch" href="/doc_notes/assets/js/366.77112bc2.js"><link rel="prefetch" href="/doc_notes/assets/js/367.cbbf1410.js"><link rel="prefetch" href="/doc_notes/assets/js/368.6e4af412.js"><link rel="prefetch" href="/doc_notes/assets/js/369.9d8214a4.js"><link rel="prefetch" href="/doc_notes/assets/js/37.bad965a6.js"><link rel="prefetch" href="/doc_notes/assets/js/370.5dcbc931.js"><link rel="prefetch" href="/doc_notes/assets/js/371.3e798a72.js"><link rel="prefetch" href="/doc_notes/assets/js/372.99fbe027.js"><link rel="prefetch" href="/doc_notes/assets/js/373.783fc78c.js"><link rel="prefetch" href="/doc_notes/assets/js/374.8fc2e9fe.js"><link rel="prefetch" href="/doc_notes/assets/js/375.2831b29c.js"><link rel="prefetch" href="/doc_notes/assets/js/376.8a690d9f.js"><link rel="prefetch" href="/doc_notes/assets/js/377.c6401c22.js"><link rel="prefetch" href="/doc_notes/assets/js/38.57a79422.js"><link rel="prefetch" href="/doc_notes/assets/js/39.7ab71035.js"><link rel="prefetch" href="/doc_notes/assets/js/4.da3ef268.js"><link rel="prefetch" href="/doc_notes/assets/js/40.ffa22594.js"><link rel="prefetch" href="/doc_notes/assets/js/41.b2fc54d1.js"><link rel="prefetch" href="/doc_notes/assets/js/42.c43bc930.js"><link rel="prefetch" href="/doc_notes/assets/js/43.5c93d7a1.js"><link rel="prefetch" href="/doc_notes/assets/js/44.605a54a6.js"><link rel="prefetch" href="/doc_notes/assets/js/45.f85a75a3.js"><link rel="prefetch" href="/doc_notes/assets/js/46.2cd25346.js"><link rel="prefetch" href="/doc_notes/assets/js/47.93f7d1a6.js"><link rel="prefetch" href="/doc_notes/assets/js/48.7fd0b6dc.js"><link rel="prefetch" href="/doc_notes/assets/js/49.c64bb839.js"><link rel="prefetch" href="/doc_notes/assets/js/5.dac787d8.js"><link rel="prefetch" href="/doc_notes/assets/js/50.d2fe7364.js"><link rel="prefetch" href="/doc_notes/assets/js/51.b9189617.js"><link rel="prefetch" href="/doc_notes/assets/js/52.4689b562.js"><link rel="prefetch" href="/doc_notes/assets/js/53.f0b1d96b.js"><link rel="prefetch" href="/doc_notes/assets/js/54.f52a48ab.js"><link rel="prefetch" href="/doc_notes/assets/js/55.98bfca4a.js"><link rel="prefetch" href="/doc_notes/assets/js/56.6c0a81f6.js"><link rel="prefetch" href="/doc_notes/assets/js/57.e17dfa82.js"><link rel="prefetch" href="/doc_notes/assets/js/58.f9a5000b.js"><link rel="prefetch" href="/doc_notes/assets/js/59.3296ea1c.js"><link rel="prefetch" href="/doc_notes/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/doc_notes/assets/js/60.610d4eca.js"><link rel="prefetch" href="/doc_notes/assets/js/61.64b18740.js"><link rel="prefetch" href="/doc_notes/assets/js/62.87e34293.js"><link rel="prefetch" href="/doc_notes/assets/js/63.fbd2d78b.js"><link rel="prefetch" href="/doc_notes/assets/js/64.493b857a.js"><link rel="prefetch" href="/doc_notes/assets/js/65.0a60479c.js"><link rel="prefetch" href="/doc_notes/assets/js/66.800419f9.js"><link rel="prefetch" href="/doc_notes/assets/js/67.343f5dab.js"><link rel="prefetch" href="/doc_notes/assets/js/68.fed77f78.js"><link rel="prefetch" href="/doc_notes/assets/js/69.8b1601da.js"><link rel="prefetch" href="/doc_notes/assets/js/7.c9d31aa2.js"><link rel="prefetch" href="/doc_notes/assets/js/70.aedd0ab9.js"><link rel="prefetch" href="/doc_notes/assets/js/71.b166238f.js"><link rel="prefetch" href="/doc_notes/assets/js/72.27a66c82.js"><link rel="prefetch" href="/doc_notes/assets/js/73.1d9b487f.js"><link rel="prefetch" href="/doc_notes/assets/js/74.84702901.js"><link rel="prefetch" href="/doc_notes/assets/js/75.2f6ae560.js"><link rel="prefetch" href="/doc_notes/assets/js/76.4856c210.js"><link rel="prefetch" href="/doc_notes/assets/js/77.9fc6950e.js"><link rel="prefetch" href="/doc_notes/assets/js/78.cb2f07a0.js"><link rel="prefetch" href="/doc_notes/assets/js/79.5e43d0b7.js"><link rel="prefetch" href="/doc_notes/assets/js/8.da9db8f9.js"><link rel="prefetch" href="/doc_notes/assets/js/80.d59ea8af.js"><link rel="prefetch" href="/doc_notes/assets/js/81.9fc53f43.js"><link rel="prefetch" href="/doc_notes/assets/js/82.5838801e.js"><link rel="prefetch" href="/doc_notes/assets/js/83.d2006fd2.js"><link rel="prefetch" href="/doc_notes/assets/js/84.9b965f14.js"><link rel="prefetch" href="/doc_notes/assets/js/85.de0c498b.js"><link rel="prefetch" href="/doc_notes/assets/js/86.ce67f8b8.js"><link rel="prefetch" href="/doc_notes/assets/js/87.5d47b003.js"><link rel="prefetch" href="/doc_notes/assets/js/88.eee9be64.js"><link rel="prefetch" href="/doc_notes/assets/js/89.42153946.js"><link rel="prefetch" href="/doc_notes/assets/js/9.0ccc34a6.js"><link rel="prefetch" href="/doc_notes/assets/js/90.13a9f4b2.js"><link rel="prefetch" href="/doc_notes/assets/js/91.832ae5d2.js"><link rel="prefetch" href="/doc_notes/assets/js/92.bd7c25ca.js"><link rel="prefetch" href="/doc_notes/assets/js/93.8a6f3f34.js"><link rel="prefetch" href="/doc_notes/assets/js/94.221348bd.js"><link rel="prefetch" href="/doc_notes/assets/js/95.86b48f96.js"><link rel="prefetch" href="/doc_notes/assets/js/96.7c6d0372.js"><link rel="prefetch" href="/doc_notes/assets/js/97.307341f8.js"><link rel="prefetch" href="/doc_notes/assets/js/98.14120c7c.js"><link rel="prefetch" href="/doc_notes/assets/js/99.40560c36.js">
    <link rel="stylesheet" href="/doc_notes/assets/css/0.styles.60b82a90.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/doc_notes/" class="home-link router-link-active"><!----> <span class="site-name">Obsidian notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doc_notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/doc_notes/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doc_notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/doc_notes/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>https://habr.com/ru/post/121254/</p> <p>–û–¥–Ω–∞–∂–¥—ã, –≤ –æ–¥–Ω–æ–º –∏–∑ –ø—Ä–æ–µ–∫—Ç–æ–≤, –º–Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏–ª–æ—Å—å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–æ–≥–∏–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –≤—Å–µ–º–∏ —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, —Ç–∞–±–ª–∏—Ü–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –∞ —Ç–∞–∫ –∂–µ –ø–æ–ª—É—á–∞—Ç—å –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö. –ë—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ-–¥–æ–±—Ä—ã–µ ioctl netdevice (SIOCGIFMETRIC, SIOCSIFNAME –∏ —Ç.–ø.) –∏–ª–∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —É—Ç–∏–ª–∏—Ç (ifconfig, route –∏ —Ç.–¥.), –∞ –Ω–∞–π—Ç–∏ –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∏ –±–æ–ª–ª–µ —É–¥–æ–±–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –û–Ω–æ –±—ã–ª–æ –Ω–∞–π–¥–µ–Ω–æ ‚Äî libnetlink. –≠—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ —Å —è–¥—Ä–æ–º, —Å –ø–æ–º–æ—â—å—é –º–µ—Ö–∞–Ω–∏–∑–º–∞¬†<a href="http://en.wikipedia.org/wiki/Netlink" target="_blank" rel="noopener noreferrer">netlink<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. –î–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏–ª–∞ –¥–ª—è –º–æ–∏—Ö —Ü–µ–ª–µ–π, –ø–æ–∑–≤–æ–ª—è—è —Ä–µ—à–∏—Ç—å –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —É –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –æ–∫–∞–∑–∞–ª—Å—è –Ω–µ –æ—Å–æ–±–æ —É–¥–æ–±–Ω—ã–π –∏ –¥–æ–≤–æ–ª—å–Ω–æ —Å–ª–æ–∂–Ω—ã–π API, —Ç—Ä–µ–±–æ–≤–∞–≤—à–∏–π —Å–æ–≤–µ—Ä—à–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π. –û—Å–æ–±–æ–≥–æ –≤–µ—Å–µ–ª—å—è –¥–æ–±–∞–≤–ª—è–ª–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª–Ω–æ–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –≤–æ–æ–±—â–µ –ª—é–±—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞ —ç—Ç—É —Ç–µ–º—É.<br>
–ü–æ–¥—É–º–∞–≤, —è —Ä–µ—à–∏–ª –∫–∞–∫ —Å–ª–µ–¥—É–µ—Ç —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è –≤ netlink –∏ –Ω–∞–ø–∏—Å–∞—Ç—å —Å–≤–æ—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É. –í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π, —Å–µ—Ç–µ–≤—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, —Ç–∞–±–ª–∏—Ü–∞–º–∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, —Ä–∞–∑—É–º–µ–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è IPv4 –∏ IPv6. –í –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–∫–æ—Ä–æ–º –≤—Ä–µ–º–µ–Ω–∏ –¥–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç–∏–∫ –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –Ω–∞ —Å—É–¥ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ üòÉ –ê –ø–æ–∫–∞ —è –±—ã —Ö–æ—Ç–µ–ª –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö—Å—è —Å –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º –º–∏—Ä–æ–º netlink, –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.</p> <h5 id="—á—Ç–æ-—Ç–∞–∫–æ–µ-netlink"><a href="#—á—Ç–æ-—Ç–∞–∫–æ–µ-netlink" class="header-anchor">#</a> –ß—Ç–æ —Ç–∞–∫–æ–µ netlink?</h5> <p>–ò—Ç–∞–∫, netlink –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π —Å–æ–±–æ–π —Å–ø–æ—Å–æ–± –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É —é–∑–µ—Ä—Å–ø–µ–π—Å–æ–º –∏ —è–¥—Ä–æ–º Linux. –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –æ–±—ã—á–Ω–æ–≥–æ —Å–æ–∫–µ—Ç–∞, —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Å–æ–±–æ–≥–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ ‚Äî AF_NETLINK.<br>
Netlink –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–¥—Å–∏—Å—Ç–µ–º —è–¥—Ä–∞ ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä —Å–µ—Ç–µ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –º–æ–∂–Ω–æ –æ–±—â–∞—Ç—å—Å—è —Å–æ —Å–≤–æ–∏–º –º–æ–¥—É–ª–µ–º —è–¥—Ä–∞. –†–∞–∑—É–º–µ–µ—Ç—Å—è –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–∫–æ–≥–æ —Å–ø–æ—Å–æ–±–∞ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.<br>
–ö–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ netlink –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π nlmsghdr, –∞ —Ç–∞–∫ –∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –±–∞–π—Ç ‚Äî ¬´–ø–æ–ª–µ–∑–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏¬ª (playload). –î–∞–Ω–Ω–∞—è ¬´–Ω–∞–≥—Ä—É–∑–∫–∞¬ª –º–æ–∂–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Å–æ–±–æ–π –∫–∞–∫—É—é –ª–∏–±–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –ª–∏–±–æ –∂–µ –ø—Ä–æ—Å—Ç–æ RAW –¥–∞–Ω–Ω—ã–µ. –°–æ–æ–±—â–µ–Ω–∏–µ, –≤–æ –≤—Ä–µ–º—è –¥–æ—Å—Ç–∞–≤–∫–∏, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–±–∏—Ç–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –ø–∞–∫–µ—Ç –ø–æ–º–µ—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º NLM_F_MULTI, –∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ñ–ª–∞–≥–æ–º NLMSG_DONE. –î–ª—è —Ä–∞–∑–±–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–º–µ–µ—Ç—Å—è —Ü–µ–ª—ã–π –Ω–∞–±–æ—Ä –º–∞–∫—Ä–æ—Å–æ–≤, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –≤ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö netlink.h –∏ rtnetlink.h</p> <h6 id="—Å–æ–∑–¥–∞–Ω–∏–µ-—Å–æ–∫–µ—Ç–∞-netlink"><a href="#—Å–æ–∑–¥–∞–Ω–∏–µ-—Å–æ–∫–µ—Ç–∞-netlink" class="header-anchor">#</a> –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–∫–µ—Ç–∞ netlink.</h6> <p>–û–±—ä—è–≤–ª–µ–Ω–∏–µ netlink —Å–æ–∫–µ—Ç–∞ –≤—ã–≥–ª—è–¥–∏—Ç –≤–ø–æ–ª–Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ:</p> <p><code>socket(AF_NETLINK, SOCK_RAW, NETLINK_ROUTE)</code></p> <p>–ì–¥–µ¬†<strong>AF_NETLINK</strong>¬†‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª netlink<br> <strong>SOCK_RAW</strong>¬†‚Äî —Ç–∏–ø —Å–æ–∫–µ—Ç–∞<br> <strong>NETLINK_ROUTE</strong>¬†‚Äî —Å–µ–º–µ–π—Å—Ç–≤–æ netlink –ø—Ä–æ—Ç–æ–∫–æ–ª–∞.</p> <p>–ü–æ—Å–ª–µ–¥–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–º, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –º—ã –∏–º–µ–Ω–Ω–æ —Ö–æ—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å –æ—Ç netlink.<br>
–ü—Ä–∏–≤–µ–¥—É —Ç–∞–±–ª–∏—Ü—É —Å–æ –Ω–∞–∏–±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):</p> <p><strong>NETLINK_ROUTE</strong>¬†‚Äî –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤.<br>
—Ç–∞–∫ –∂–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤—ã—à–µ–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.<br> <strong>NETLINK_USERSOCK</strong>¬†‚Äî –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤.<br> <strong>NETLINK_FIREWALL</strong>¬†‚Äî —Å–ª—É–∂–∏—Ç –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ IPv4 –ø–∞–∫–µ—Ç–æ–≤ –∏–∑ —Å–µ—Ç–µ–≤–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å<br> <strong>NETLINK_INET_DIAG</strong>¬†‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ inet —Å–æ–∫–µ—Ç–æ–≤<br> <strong>NETLINK_NFLOG</strong>¬†‚Äî ULOG —Å–µ—Ç–µ–≤–æ–≥–æ/–ø–∞–∫–µ—Ç–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞<br> <strong>NETLINK_SELINUX</strong>¬†‚Äî –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç —Å–∏—Å—Ç–µ–º—ã Selinux<br> <strong>NETLINK_NETFILTER</strong>¬†‚Äî —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–¥—Å–∏—Å—Ç–µ–º–æ–π —Å–µ—Ç–µ–≤–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞<br> <strong>NETLINK_KOBJECT_UEVENT</strong>¬†‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —è–¥—Ä–∞</p> <p>–î–∞–ª–µ–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å–æ–∫–µ—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ send –∏ –ø—Ä–∏–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –ø–æ–º–æ—â—å—é recvmsg.</p> <h6 id="—Å–æ–æ–±—â–µ–Ω–∏–µ-netlink"><a href="#—Å–æ–æ–±—â–µ–Ω–∏–µ-netlink" class="header-anchor">#</a> –°–æ–æ–±—â–µ–Ω–∏–µ netlink.</h6> <p>–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π nlmsghdr</p> <div class="language- extra-class"><pre class="language-text"><code>struct nlmsghdr
{
	__u32 nlmsg_len;	// —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è, —Å —É—á–µ—Ç–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–∞
	__u16 nlmsg_type; 	// —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (–æ–± —ç—Ç–æ–º –Ω–∏–∂–µ)
	__u16 nlmsg_flags;	// —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–ª–∞–≥–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
	__u32 nlmsg_seq; 	// –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è
	__u32 nlmsg_pid; 	// –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞ (PID), –æ—Ç–æ—Å–ª–∞–≤—à–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–µ
};
</code></pre></div><p>–ü–æ–ª–µ nlmsg_type –º–æ–∂–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –æ–¥–∏–Ω –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ç–∏–ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è:<br> <strong>NLMSG_NOOP</strong>¬†‚Äî —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.<br> <strong>NLMSG_ERROR</strong>¬†‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ—à–∏–±–∫–æ–π, –∏ –≤ —Å–µ–∫—Ü–∏–∏ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±—É–¥–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ nlmsgerr (–æ –Ω–µ–π —á—É—Ç—å –Ω–∏–∂–µ)<br> <strong>NLMSG_DONE</strong>¬†‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —ç—Ç–∏–º —Ñ–ª–∞–≥–æ–º –¥–æ–ª–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, —Ä–∞–∑–±–∏—Ç–æ–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π</p> <p>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ nlmsgerr</p> <div class="language- extra-class"><pre class="language-text"><code>struct nlmsgerr
{
	int error; 				// –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ–¥–∞ –æ—à–∏–±–∫–∏
	struct nlmsghdr msg; 	// –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å –æ—à–∏–±–∫–æ–π
};
</code></pre></div><p>–°–æ–æ–±—â–µ–Ω–∏—è –º–æ–≥—É—Ç –±—ã—Ç—å –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö (—Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –æ–±—ä–µ–¥–µ–Ω—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∏–ª–∏ ) —Ç–∏–ø–æ–≤:</p> <p><strong>NLM_F_REQUEST</strong>¬†‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –∑–∞–ø—Ä–æ—Å —á–µ–≥–æ –ª–∏–±–æ<br> <strong>NLM_F_MULTI</strong>¬†‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ, —á–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ä–∞–∑–±–∏—Ç–æ–≥–æ –Ω–∞ —á–∞—Å—Ç–∏<br> <strong>NLM_F_ACK</strong>¬†‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è<br> <strong>NLM_F_ECHO</strong>¬†‚Äî —ç—Ö–æ –∑–∞–ø—Ä–æ—Å. –æ–±—ã—á–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî –∑–∞–ø—Ä–æ—Å—ã –∏–∑ —É—Ä–æ–≤–Ω—è —è–¥—Ä–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å<br> <strong>NLM_F_ROOT</strong>¬†‚Äî –¥–∞–Ω–Ω—ã–π —Ç–∏–ø –∑–∞–ø—Ä–æ—Å–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–µ–∫—É—é —Ç–∞–±–ª–∏—Ü—É, –≤–Ω—É—Ç—Ä–∏ –Ω–µ–∫–æ–π —Å—É—â–Ω–æ—Å—Ç–∏<br> <strong>NLM_F_MATCH</strong>¬†‚Äî –∑–∞–ø—Ä–æ—Å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è<br> <strong>NLM_F_ATOMIC</strong>¬†‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω—ã–π —Å—Ä–µ–∑ –Ω–µ–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã<br> <strong>NLM_F_DUMP</strong>¬†‚Äî –∞–Ω–∞–ª–æ–≥ NLM_F_ROOT|NLM_F_MATCH</p> <p>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏:</p> <p><strong>NLM_F_REPLACE</strong>¬†‚Äî –∑–∞–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –æ–±—ä–µ–∫—Ç<br> <strong>NLM_F_EXCL</strong>¬†‚Äî –Ω–µ –∑–∞–º–µ–Ω—è—Ç—å, –µ—Å–ª–∏ —Ç–∞–∫–æ–π –æ–±—ä–µ–∫—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç<br> <strong>NLM_F_CREATE</strong>¬†‚Äî —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç, –µ—Å–ª–∏ –æ–Ω –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç<br> <strong>NLM_F_APPEND</strong>¬†‚Äî –¥–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç –≤ —Å–ø–∏—Å–æ–∫ –∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É</p> <p>–î–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–Ω–∞ —É—Ä–æ–≤–Ω–µ —è–¥—Ä–∞ –∏ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —É—Ä–æ–≤–Ω–µ) —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∞–¥—Ä–µ—Å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ ‚Äî nladdr:</p> <div class="language- extra-class"><pre class="language-text"><code>struct sockaddr_nl
{
	sa_family_t nl_family; 	// —Å–µ–º–µ–π—Å—Ç–≤–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ - –≤—Å–µ–≥–¥–∞ AF_NETLINK
	unsigned short nl_pad; 	// –ø–æ–ª–µ –≤—Å–µ–≥–¥–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –Ω—É–ª—è–º–∏
	pid_t nl_pid; 			// –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞
	__u32 nl_groups; 		// –º–∞—Å–∫–∞ –≥—Ä—É–ø–ø –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π/–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–π
};
</code></pre></div><p>nl_pid ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Å–æ–∫–µ—Ç–∞. –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ —è–¥—Ä–µ –æ–Ω –≤—Å–µ–≥–¥–∞ —Ä–∞–≤–µ–Ω –Ω—É–ª—é. –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —É—Ä–æ–≤–Ω–µ –æ–Ω —Ä–∞–≤–µ–Ω –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É –ø—Ä–æ—Ü–µ—Å—Å–∞, –≤–ª–∞–¥–µ—é—â–µ–≥–æ —Å–æ–∫–µ—Ç–æ–º. –ö–∞–∂–¥—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º, –ø–æ—ç—Ç–æ–º—É —Ç—É—Ç –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Ç–æ–ª–∫–Ω—É—Ç—Å—è –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É, –∫–æ–≥–¥–∞ –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ netlink —Å–æ–∫–µ—Ç–æ–≤ –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏: –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–∫–µ—Ç–∞ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –æ—à–∏–±–∫–∞ ¬´Operation not permitted¬ª. –î–ª—è –æ–±—Ö–æ–¥–∞ –¥–∞–Ω–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–ª–µ–¥—É—é—Ç nl_pid –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è:<br> <code>pthread_self() &lt;&lt; 16 | getpid();</code><br>
–ü—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Å–ª–µ–¥—É–µ—Ç –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω bind() –¥–ª—è —Å–æ–∫–µ—Ç–∞.<br>
–¢–∞–∫ –∂–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É –º–æ–∂–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –Ω—É–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å—Å—è —è–¥—Ä–æ, –Ω–æ –ø–µ—Ä–≤–æ–º—É —Å–æ–∫–µ—Ç—É —Å–æ–∑–¥–∞–Ω–Ω–æ–º—É –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ø—Ä–∏—Å–≤–∞–∏–≤–∞—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p> <p><strong>nl_groups</strong>¬†‚Äî —ç—Ç–æ –±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞, –∫–∞–∂–¥—ã–π –±–∏—Ç –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–º–µ—Ä –≥—Ä—É–ø–ø—ã netlink. –ü—Ä–∏ –≤—ã–∑–æ–≤–µ bind() –¥–ª—è —Å–æ–∫–µ—Ç–∞ netlink —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –±–∏—Ç–æ–≤—É—é –º–∞—Å–∫—É –≥—Ä—É–ø–ø—ã, –∫–æ—Ç–æ—Ä—É—é –∂–µ–ª–∞–µ—Ç –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤ –¥–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ. –†–∞–∑–ª–∏—á–Ω—ã–µ –≥—Ä—É–ø–ø—ã –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –∏–ª–∏.<br>
–û—Å–Ω–æ–≤–Ω—ã–µ –≥—Ä—É–ø–ø—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–º —Ñ–∞–π–ª–µ netlink.<br>
–ü—Ä–∏–º–µ—Ä –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–∑ –Ω–∏—Ö:</p> <p><strong>RTMGRP_LINK</strong>¬†‚Äî —ç—Ç–∞ –≥—Ä—É–ø–ø–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–¥–∞–ª–∏–ª—Å—è, –¥–æ–±–∞–≤–∏–ª—Å—è, –æ–ø—É—Å—Ç–∏–ª—Å—è, –ø–æ–¥–Ω—è–ª—Å—è)<br> <strong>RTMGRP_IPV4_IFADDR</strong>¬†‚Äî —ç—Ç–∞ –≥—Ä—É–ø–ø–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ IPv4 –∞–¥—Ä–µ—Å–∞—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (–∞–¥—Ä–µ—Å –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –∏–ª–∏ —É–¥–∞–ª–µ–Ω)<br> <strong>RTMGRP_IPV6_IFADDR</strong>¬†‚Äî —ç—Ç–∞ –≥—Ä—É–ø–ø–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ IPv6 –∞–¥—Ä–µ—Å–∞—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (–∞–¥—Ä–µ—Å –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –∏–ª–∏ —É–¥–∞–ª–µ–Ω)<br> <strong>RTMGRP_IPV4_ROUTE</strong>¬†‚Äî —ç—Ç–∞ –≥—Ä—É–ø–ø–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è IPv4 –∞–¥—Ä–µ—Å–æ–≤<br> <strong>RTMGRP_IPV6_ROUTE</strong>¬†‚Äî —ç—Ç–∞ –≥—Ä—É–ø–ø–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è IPv6 –∞–¥—Ä–µ—Å–æ–≤</p> <p>–ü–æ—Å–ª–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∑–∞–≥–æ–ª–æ–≤–∫–∞ nlmsghdr –≤—Å–µ–≥–¥–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö. –î–æ—Å—Ç—É–ø –∫ –Ω–µ–º—É –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –º–∞–∫—Ä–æ—Å–æ–≤, –æ –∫–æ—Ç–æ—Ä—ã—Ö –±—É–¥–µ—Ç —Ä–∞—Å—Å–∫–∞–∑–∞–Ω–æ –¥–∞–ª–µ–µ.</p> <h5 id="–º–∞–∫—Ä–æ—Å—ã-netlink"><a href="#–º–∞–∫—Ä–æ—Å—ã-netlink" class="header-anchor">#</a> –ú–∞–∫—Ä–æ—Å—ã netlink</h5> <p>–ù–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–µ–∑–Ω—ã–º–∏, –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, –º–∞–∫—Ä–æ—Å–∞–º–∏ —è–≤–ª—è—é—Ç—Å—è:<br> <strong>NLMSG_ALIGN</strong>¬†‚Äî –û–∫—Ä—É–≥–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è netlink –¥–æ –±–ª–∏–∂–∞–π—à–µ–≥–æ –±–æ–ª—å—à–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–≥–æ –ø–æ –≥—Ä–∞–Ω–∏—Ü–µ.<br> <strong>NLMSG_LENGTH</strong>¬†‚Äî –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ä–∞–∑–º–µ—Ä –ø–æ–ª—è –¥–∞–Ω–Ω—ã—Ö (payload) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–µ –ø–æ –≥—Ä–∞–Ω–∏—Ü–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ –ø–æ–ª–µ nlmsg_len –∑–∞–≥–æ–ª–æ–≤–∫–∞ nlmsghdr.<br> <strong>NLMSG_SPACE</strong>¬†‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–π–º—É—Ç –¥–∞–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã –≤ –ø–∞–∫–µ—Ç–µ netlink.<br> <strong>NLMSG_DATA</strong>¬†‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –¥–∞–Ω–Ω—ã–µ, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–º nlmsghdr.<br> <strong>NLMSG_NEXT</strong>¬†‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —á–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è, —Å–æ—Å—Ç–æ—è—â–µ–≥–æ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —á–∞—Å—Ç–µ–π. –ú–∞–∫—Ä–æ—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ nlmsghdr –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏, —Å–æ—Å—Ç–æ—è—â–µ–º –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —á–∞—Å—Ç–µ–π. –í—ã–∑—ã–≤–∞—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –≤ —Ç–µ–∫—É—â–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–µ nlmsghdr —Ñ–ª–∞–≥–∞¬†<strong>NLMSG_DONE</strong>¬†‚Äì —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ NULL –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è. –í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–¥–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ—Å—Ç–∞–≤—à–µ–π—Å—è —á–∞—Å—Ç–∏ –±—É—Ñ–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è. –ú–∞–∫—Ä–æ—Å —É–º–µ–Ω—å—à–∞–µ—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è.<br> <strong>NLMSG_OK</strong>¬†‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ true –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –±—ã–ª–æ —É—Å–µ—á–µ–Ω–æ –∏ –µ–≥–æ —Ä–∞–∑–±–æ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ.<br> <strong>NLMSG_PAYLOAD</strong>¬†‚Äî –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö (payload), —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º nlmsghdr.</p> <h3 id="–æ—Ç-—Ç–µ–æ—Ä–∏–∏-–∫-–ø—Ä–∞–∫—Ç–∏–∫–µ"><a href="#–æ—Ç-—Ç–µ–æ—Ä–∏–∏-–∫-–ø—Ä–∞–∫—Ç–∏–∫–µ" class="header-anchor">#</a> –û—Ç —Ç–µ–æ—Ä–∏–∏ –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ.</h3> <p>–ù—É —á—Ç–æ –∂–µ. –î—É–º–∞—é, —á—Ç–æ —è —É–∂–µ —É—Å–ø–µ–ª –Ω–∞–¥–æ–µ—Å—Ç—å —Å–æ —Å–∫—É—á–Ω–æ–π —Ç–µ–æ—Ä–∏–µ–π üòÉ –ú–æ–∂–µ—Ç –±—ã—Ç—å —á—Ç–æ-—Ç–æ –ø–æ–∫–∞–∑–∞–ª–æ—Å—å –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–º –∏–ª–∏ –Ω–µ –ø–æ–Ω—è—Ç–Ω—ã–º ‚Äî –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å —Ä–∞–∑–∂–µ–≤–∞—Ç—å –≤—Å–µ –≤ –Ω–∞–≥–ª—è–¥–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–∞—Ö, —Ç–∞–º –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ —Å–ª–æ–∂–Ω–æ–≥–æ.<br>
–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –æ–±–µ—â–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö –∏ —Ç–∞–±–ª–∏—Ü–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.<br>
–í –ø—Ä–∏–º–µ—Ä–µ –≤–≤–µ–¥–µ–Ω —Ü–µ–ª—ã–π —Ä—è–¥ –Ω–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä:</p> <div class="language- extra-class"><pre class="language-text"><code>struct iovec
{
	void *iov_base;     	// –±—É—Ñ–µ—Ä –¥–∞–Ω–Ω—ã—Ö
	__kernel_size_t iov_len;  // —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
};
</code></pre></div><p>–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª—É–∂–∏—Ç —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö —á–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç—ã netlink. –ü–æ–ª—é iov_base –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–∞–π—Ç–æ–≤—ã–π –º–∞—Å—Å–∏–≤. –ò–º–µ–Ω–Ω–æ –≤ —ç—Ç–æ—Ç –±–∞–π—Ç–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –±—É–¥—É—Ç –∑–∞–ø–∏—Å–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.</p> <div class="language- extra-class"><pre class="language-text"><code>struct msghdr {
    void   *msg_name;   // –∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞ (–∏–º—è —Å–æ–∫–µ—Ç–∞)
    int     	msg_namelen;    // –¥–ª–∏–Ω–∞ –∞–¥—Ä–µ—Å–∞
    struct iovec *msg_iov;    // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö
    __kernel_size_t msg_iovlen; // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö
    void    *msg_control;  // –º–∞–≥–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ –¥–ª—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–∞–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö
    __kernel_size_t msg_controllen; // –¥–ª–∏–Ω–∞ –ø—Ä–µ–¥–∏–¥—É—â–µ–≥–æ –ø–æ–ª—è –¥–∞–Ω–Ω—ã—Ö
    unsigned  msg_flags;	// —Ñ–ª–∞–≥–∏ —Å–æ–æ–±—â–µ–Ω–∏—è
};
</code></pre></div><p>–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç. –û–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–ª–æ–∫ –ø–æ–ª–µ–∑–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤, –∞ —Ç–∞–∫ –∂–µ —Ä—è–¥ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–ª–∞–≥–æ–≤ –∏ –ø–æ–ª–µ–π, –ø—Ä–∏—à–µ–¥—à–∏—Ö, –ø–æ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏, —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã BSD.</p> <div class="language- extra-class"><pre class="language-text"><code>struct ifinfomsg
{
    unsigned char  ifi_family;  // —Å–µ–º–µ–π—Å—Ç–≤–æ (AF_UNSPEC)
    unsigned short ifi_type;    // —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    int            ifi_index;   // –∏–Ω–¥–µ–∫—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    unsigned int   ifi_flags;   // —Ñ–ª–∞–≥–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
    unsigned int   ifi_change;  // –º–∞—Å–∫–∞ —Å–º–µ–Ω—ã, –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±—É–¥—É—â–µ–º –∏ –≤—Å–µ–≥–¥–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞–≤–Ω–æ 0xFFFFFFFF
};
</code></pre></div><p>–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, –µ–≥–æ —Å–µ–º–µ–π—Å—Ç–≤–∞, —Ç–∏–ø–∞, –∏–Ω–¥–µ–∫—Å–∞ –∏ —Ñ–ª–∞–≥–æ–≤.</p> <div class="language- extra-class"><pre class="language-text"><code>struct ifaddrmsg
{
    unsigned char  ifa_family;    // –¢–∏–ø –∞–¥—Ä–µ—Å–∞ (AF_INET –∏–ª–∏ AF_INET6)
    unsigned char  ifa_prefixlen; // –î–ª–∏–Ω–∞ –ø—Ä–µ—Ñ–∏–∫—Å–∞ –∞–¥—Ä–µ—Å–∞ (–¥–ª–∏–Ω–∞ —Å–µ—Ç–µ–≤–æ–π –º–∞—Å–∫–∏)
    unsigned char  ifa_flags;     // –§–ª–∞–≥–∏ –∞–¥—Ä–µ—Å–∞
    unsigned char  ifa_scope;     // –û–±–ª–∞—Å—Ç—å –∞–¥—Ä–µ—Å–∞
    int            ifa_index;     // –ò–Ω–¥–µ–∫—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Ä–∞–≤–µ–Ω –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–º—É –ø–æ–ª—é –≤ ifinfomsg
};
</code></pre></div><p>–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª—É–∂–∏—Ç –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç–µ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –Ω–∞ —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.</p> <div class="language- extra-class"><pre class="language-text"><code>struct rtattr
{
    unsigned short rta_len;     // –î–ª–∏–Ω–∞ –æ–ø—Ü–∏–∏
    unsigned short rta_type;    // –¢–∏–ø –æ–ø—Ü–∏–∏
    /* –¥–∞–Ω–Ω—ã–µ */ 
}
</code></pre></div><p>–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª—É–∂–∏—Ç –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞–∫–æ–≥–æ –ª–∏–±–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–ª–∏ –∞–¥—Ä–µ—Å–∞.</p> <h5 id="–∏—Å—Ö–æ–¥–Ω—ã–∏-–∫–æ–¥-–º–æ–Ω–∏—Ç–æ—Ä"><a href="#–∏—Å—Ö–æ–¥–Ω—ã–∏-–∫–æ–¥-–º–æ–Ω–∏—Ç–æ—Ä" class="header-anchor">#</a> –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, –º–æ–Ω–∏—Ç–æ—Ä</h5> <div class="language- extra-class"><pre class="language-text"><code>#include &lt;errno.h&gt;
#include &lt;stdio.h&gt;
#include &lt;memory.h&gt;
#include &lt;net/if.h&gt;
#include &lt;arpa/inet.h&gt;
#include &lt;sys/socket.h&gt;
#include &lt;linux/rtnetlink.h&gt;

// –Ω–µ–±–æ–ª—å—à–∞—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è —Å –ø–æ–º–æ—â—å—é –º–∞–∫—Ä–∞—Å–æ–≤ netlink —Ä–∞–∑–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ 
// –ø–æ–º–µ—â–∞–µ—Ç –±–ª–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –º–∞—Å—Å–∏–≤ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ rtattr
void parseRtattr(struct rtattr *tb[], int max, struct rtattr *rta, int len)
{
	memset(tb, 0, sizeof(struct rtattr *) * (max + 1));

	while (RTA_OK(rta, len)) {	// –ø–æ–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å
		if (rta-&gt;rta_type &lt;= max) {
			tb[rta-&gt;rta_type] = rta;	//—á–∏—Ç–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç
		}
		rta = RTA_NEXT(rta,len);	// –ø–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â–∏–π –∞—Ç—Ä–∏–±—É—Ç
	}
}

int main()
{
	int fd = socket(AF_NETLINK, SOCK_RAW, NETLINK_ROUTE);	// —Å–æ–∑–¥–∞–µ–º –Ω—É–∂–Ω—ã–π —Å–æ–∫–µ—Ç

	if (fd &lt; 0) {
		printf(&quot;–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è netlink —Å–æ–∫–µ—Ç–∞: %s&quot;, (char*)strerror(errno));
		return 1;
	}

	struct sockaddr_nl	local;	// –ª–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å
	char buf[8192];				// –±—É—Ñ–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è
	struct iovec iov;			// —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
	iov.iov_base = buf;			// —É–∫–∞–∑—ã–≤–∞–µ–º buf –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±—É—Ñ–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è iov
	iov.iov_len = sizeof(buf);	// —É–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞

	memset(&amp;local, 0, sizeof(local));	// –æ—á–∏—â–∞–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É

	local.nl_family = AF_NETLINK;		// —É–∫–∞–∑—ã–≤–∞–µ–º —Å–µ–º–µ–π—Å—Ç–≤–æ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
	local.nl_groups = 	RTMGRP_LINK | RTMGRP_IPV4_IFADDR | RTMGRP_IPV4_ROUTE;	// —É–∫–∞–∑—ã–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≥—Ä—É–ø–ø—ã
	local.nl_pid = getpid();	//–≤ –∫–∞—á–µ—Å—Ç–≤–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —É–∫–∞–∑—ã–≤–∞–µ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

	// —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è netlink - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –≤—Å–µ –ø–æ–ª—è
	struct msghdr msg;	
	{
		msg.msg_name = &amp;local;					// –∑–∞–¥–∞–µ–º –∏–º—è - —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞
		msg.msg_namelen = sizeof(local);		// —É–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä
		msg.msg_iov = &amp;iov;						// —É–∫–∞–∑—ã–≤–∞–µ–º –≤–µ–∫—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è
		msg.msg_iovlen = 1;						// –∑–∞–¥–∞–µ–º –¥–ª–∏–Ω—É –≤–µ–∫—Ç–æ—Ä–∞
	}	

	if (bind(fd, (struct sockaddr*)&amp;local, sizeof(local)) &lt; 0) {		// —Å–≤—è–∑—ã–≤–∞–µ–º—Å—è —Å —Å–æ–∫–µ—Ç–æ–º
		printf(&quot;–û—à–∏–±–∫–∞ —Å–≤—è–∑—ã–≤–∞–Ω–∏—è —Å netlink —Å–æ–∫–µ—Ç–æ–º: %s&quot;, (char*)strerror(errno));
		close(fd);
		return 1;
	}	

	// —á–∏—Ç–∞–µ–º –∏ —Ä–∞–∑–±–∏—Ä–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —Å–æ–∫–µ—Ç–∞
	while (1) {
		ssize_t status = recvmsg(fd, &amp;msg, MSG_DONTWAIT);	// –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ bind() –º—ã –º–æ–∂–µ–º –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø

		//	–Ω–µ–±–æ–ª—å—à–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
		if (status &lt; 0) {
			if (errno == EINTR || errno == EAGAIN)
			{
				usleep(250000);
				continue;
			}

			printf(&quot;–û—à–∏–±–∫–∞ –ø—Ä–∏–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏—è netlink: %s&quot;, (char*)strerror(errno));
			continue;
		}

		if (msg.msg_namelen != sizeof(local)) {	//–ø—Ä–æ–≤—Ä—è–µ–º –¥–ª–∏–Ω—É –∞–¥—Ä–µ—Å–∞, –º–∞–ª–æ –ª–∏ :)
			printf(&quot;–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –¥–ª–∏–Ω–∞ –∞–¥—Ä–µ—Å–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è&quot;);
			continue;
		}

		// —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Ä–∞–∑–±–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è
		struct nlmsghdr *h; // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏—è

		for (h = (struct nlmsghdr*)buf; status &gt;= (ssize_t)sizeof(*h); ) {	// –¥–ª—è –≤—Å–µ—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π
			int len = h-&gt;nlmsg_len;		// –¥–ª–∏–Ω–∞ –≤—Å–µ–≥–æ –±–ª–æ–∫–∞
			int l = len - sizeof(*h);	// –¥–ª–∏–Ω–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
			char *ifName;				// –∏–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

			if ((l &lt; 0) || (len &gt; status)) {
				printf(&quot;–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è: %i&quot;, len);
				continue;
			}

			// —Å–º–æ—Ç—Ä–∏–º —Ç–∏–ø —Å–æ–æ–±—â–µ–Ω–∏—è
			if ((h-&gt;nlmsg_type == RTM_NEWROUTE) || (h-&gt;nlmsg_type == RTM_DELROUTE)) {	// –µ—Å–ª–∏ —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–æ—É—Ç–æ–≤ - –ø–µ—á–∞—Ç–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
				printf(&quot;–ü—Ä–æ–∏–∑–æ—à–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏\n&quot;);	
			} else {	// –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –Ω–∞—á–∏–Ω–∞–µ–º –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è
				char *ifUpp;		// —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
				char *ifRunn;		// —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
				struct ifinfomsg *ifi;  // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Å–æ–¥–µ—Ä–∂–∞—â—é—é –¥–∞–Ω–Ω—ã–µ –æ —Å–µ—Ç–µ–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
				struct rtattr *tb[IFLA_MAX + 1];	// –º–∞—Å—Å–∏–≤ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, IFLA_MAX –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ rtnetlink.h

				ifi	= (struct ifinfomsg*) NLMSG_DATA(h);	// –ø–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ç–µ–≤–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏ –≤ –∫–æ—Ä–æ–º –ø—Ä–æ–∏–∑–æ—à–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è

				parseRtattr(tb, IFLA_MAX, IFLA_RTA(ifi), h-&gt;nlmsg_len);	// –ø–æ–ª—É—á–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
				
				if (tb[IFLA_IFNAME]) {	// –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∞—Ç—Ä–∏–±—É—Ç–∞, —Ö—Ä–∞–Ω—è—â–µ–≥–æ –∏–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
					ifName = (char*)RTA_DATA(tb[IFLA_IFNAME]); //–ø–æ–ª—É—á–∞–µ–º –∏–º—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
				}

				if (ifi-&gt;ifi_flags &amp; IFF_UP) { // –ø–æ–ª—É—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–ª–∞–≥–∞ UP –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
					ifUpp = (char*)&quot;UP&quot;;
				} else {
					ifUpp = (char*)&quot;DOWN&quot;;
				}

				if (ifi-&gt;ifi_flags &amp; IFF_RUNNING) { // –ø–æ–ª—É—á–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–ª–∞–≥–∞ RUNNING –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
					ifRunn = (char*)&quot;RUNNING&quot;;
				} else {
					ifRunn = (char*)&quot;NOT RUNNING&quot;;
				}

				char ifAddress[256];	// —Å–µ—Ç–µ–≤–æ–π –∞–¥—Ä–µ—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
				struct ifaddrmsg *ifa; // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ–¥–µ—Ä–∂–∞—â—É—é –¥–∞–Ω–Ω—ã–µ –æ —Å–µ—Ç–µ–≤–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
				struct rtattr *tba[IFA_MAX+1];	// –º–∞—Å—Å–∏–≤ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∞–¥—Ä–µ—Å–∞

				ifa = (struct ifaddrmsg*)NLMSG_DATA(h);	// –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

				parseRtattr(tba, IFA_MAX, IFA_RTA(ifa), h-&gt;nlmsg_len);	// –ø–æ–ª—É—á–∞–µ–º –∞—Ç—Ä–∏–±—É—Ç—ã —Å–µ—Ç–µ–≤–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

				if (tba[IFA_LOCAL]) {  // –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞
					inet_ntop(AF_INET, RTA_DATA(tba[IFA_LOCAL]), ifAddress, sizeof(ifAddress));	// –ø–æ–ª—É—á–∞–µ–º IP –∞–¥—Ä–µ—Å
				}

				switch (h-&gt;nlmsg_type) {	//—á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ
					case RTM_DELADDR:
						printf(&quot;–ë—ã–ª —É–¥–∞–ª–µ–Ω –∞–¥—Ä–µ—Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ %s\n&quot;, ifName);
						break;

					case RTM_DELLINK:
						printf(&quot;–ë—ã–ª —É–¥–∞–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å %s\n&quot;, ifName);
						break;

					case RTM_NEWLINK:
						printf(&quot;–ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å %s, —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ %s %s\n&quot;, ifName, ifUpp, ifRunn);
						break;

					case RTM_NEWADDR:
						printf(&quot;–ë—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –∞–¥—Ä–µ—Å –¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ %s: %s\n&quot;, ifName, ifAddress);
						break;
				}
			}

			status -= NLMSG_ALIGN(len);	// –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º—Å—è –ø–æ –¥–ª–∏–Ω–µ —Å–æ–æ–±—â–µ–Ω–∏—è (–µ—Å–ª–∏ —ç—Ç–æ–≥–æ –Ω–µ —Å–¥–µ–ª–∞—Ç—å - –±—É–¥–µ—Ç –æ—á–µ–Ω—å –ø–ª–æ—Ö–æ, –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å :))

			h = (struct nlmsghdr*)((char*)h + NLMSG_ALIGN(len));	//–ø–æ–ª—É—á–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
		}

		usleep(250000);	// –Ω–µ–º–Ω–æ–∂–∫–æ —Å–ø–∏–º, —á—Ç–æ –±—ã –Ω–µ –æ—á–µ–Ω—å –≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
	}

	close(fd);	// –∑–∞–∫—Ä—ã–≤–∞–µ–º –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å–æ–∫–µ—Ç–∞

	return 0;
}
</code></pre></div><p>–ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã:<br> <strong><code>gcc monitor.c -o monitor</code></strong></p> <p>–ò —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:<br> <img src="http://habrastorage.org/r/w1560/storage/2c9f5070/71cea516/515d4925/340045ea.png" alt=""></p> <p>–ü–æ—è—Å–Ω–µ–Ω–∏—è –∫ –∫–æ–¥—É.<br>
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –º—ã —Å–æ–∑–¥–∞–µ–º netlink —Å–æ–∫–µ—Ç –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è. –î–∞–ª–µ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞. –¢—É—Ç –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º –≥—Ä—É–ø–ø—ã —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç–∏–º –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è: RTMGRP_LINK, RTMGRP_IPV4_IFADDR, RTMGRP_IPV4_ROUTE.<br>
–¢–∞–∫ –∂–µ –æ–±—ä—è–≤–ª—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–≤—è–∑—ã–≤–∞–µ–º —Å –Ω–µ–π –æ–¥–∏–Ω –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö.<br>
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ —Å —Å–æ–∫–µ—Ç–æ–º, —Å –ø–æ–º–æ—â—å—é bind(). –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º—ã —Å—Ç–∞–Ω–æ–≤–∏–º—Å—è –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø. –ú–æ–∂–Ω–æ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å–æ–∫–µ—Ç.<br>
–î–∞–ª–µ–µ —Å–ª–µ–¥—É–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∏–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–∑ —Å–æ–∫–µ—Ç–∞. –¢.–∫. –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã–π –±–ª–æ–∫ –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å –Ω–∏–º–∏ –¥–∞–Ω–Ω—ã—Ö ‚Äî –Ω–∞—á–∏–Ω–∞–µ–º –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å, —Å –ø–æ–º–æ—â—å—é netlink –º–∞–∫—Ä–æ—Å–æ–≤ –≤—Å–µ –ø—Ä–∏–Ω—è—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ.<br>
–ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–æ –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é struct nlmsghdr *h.<br>
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ. –°–º–æ—Ç—Ä–∏–º –Ω–∞ –ø–æ–ª–µ nlmsg_type –∏ –≤—ã—è—Å–Ω—è–µ–º, —á—Ç–æ –∂–µ –∑–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫ –Ω–∞–º –ø—Ä–∏–µ—Ö–∞–ª–æ. –ï—Å–ª–∏ –æ–Ω–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–∞–±–ª–∏—Ü–µ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ ‚Äî –ø–µ—á–∞—Ç–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∏–¥–µ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é. –ê –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –Ω–∞—á–∏–Ω–∞–µ–º –¥–µ—Ç–∞–ª—å–Ω–æ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è.<br>
–û–±—ä—è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤—ã –æ–ø—Ü–∏–π rtattr, –∫—É–¥–∞ –±—É–¥—É—Ç —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å—Å—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ. –ó–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—á–∞–µ—Ç –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è parseRtattr. –û–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–∫—Ä–æ—Å—ã netlink –∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π –º–∞—Å—Å–∏–≤ –≤—Å–µ–º–∏ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ –∏–∑ –±–ª–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ifinfomsg –∏–ª–∏ ifaddrmsg.<br>
–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –º—ã –ø–æ–ª—É—á–∏–ª–∏ –º–∞—Å—Å–∏–≤—ã, –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç–∞–º–∏ ‚Äî –º–æ–∂–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å —Å —ç—Ç–∏–º –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö, –ø–µ—á–∞—Ç–∞—Ç—å.<br>
–î–æ—Å—Ç—É–ø –∫ –∫–∞–∂–¥–æ–º—É –∞—Ç—Ä–∏–±—É—Ç—É –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ –µ–≥–æ –∏–Ω–¥–µ–∫—Å—É. –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö netlink –∏ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã.<br>
–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã:<br>
IFLA_IFNAME ‚Äî –∏–Ω–¥–µ–∫—Å –∞—Ç—Ä–∏–±—É—Ç–∞ —Å –∏–º–µ–Ω–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.<br>
IFA_LOCAL ‚Äî –∏–Ω–¥–µ–∫—Å –∞—Ç—Ä–∏–±—É—Ç–∞ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º IP –∞–¥—Ä–µ—Å–æ–º.<br>
–ü–æ—Å–ª–µ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ –º—ã –æ–±–ª–∞–¥–∞–µ–º –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–º, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∏ –º–æ–∂–µ–º –ø–µ—á–∞—Ç–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —ç–∫—Ä–∞–Ω.</p> <p>–í–æ—Ç –∏ –≤—Å–µ. –û—á–µ–Ω—å –Ω–∞–¥–µ—é—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–µ–Ω –∫–æ–º—É-—Ç–æ.<br>
–ï—Å–ª–∏ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂–µ–ª–∞—é—â–∏—Ö (–±–æ–ª—å—à–µ –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞:) ) ‚Äî –º–æ–≥—É –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∏ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –º–æ–¥—É–ª–µ–º —è–¥—Ä–∞ –∏–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ä–∞–±–æ—Ç—ã —Å IPv6.</p> <p>–ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å:<br>
1.¬†<a href="http://tools.ietf.org/html/rfc3549" target="_blank" rel="noopener noreferrer">tools.ietf.org/html/rfc3549<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
2.¬†<a href="http://www.linuxjournal.com/article/7356" target="_blank" rel="noopener noreferrer">www.linuxjournal.com/article/7356<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/doc_notes/assets/js/app.d7b7570d.js" defer></script><script src="/doc_notes/assets/js/2.733019b2.js" defer></script><script src="/doc_notes/assets/js/349.36014517.js" defer></script>
  </body>
</html>
