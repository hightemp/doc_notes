<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Obsidian notes</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Obsidian notes">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/doc_notes/assets/css/0.styles.60b82a90.css" as="style"><link rel="preload" href="/doc_notes/assets/js/app.d7b7570d.js" as="script"><link rel="preload" href="/doc_notes/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/doc_notes/assets/js/271.b6fdb998.js" as="script"><link rel="prefetch" href="/doc_notes/assets/js/10.466a3961.js"><link rel="prefetch" href="/doc_notes/assets/js/100.eed12daa.js"><link rel="prefetch" href="/doc_notes/assets/js/101.c2c72797.js"><link rel="prefetch" href="/doc_notes/assets/js/102.3a5b3674.js"><link rel="prefetch" href="/doc_notes/assets/js/103.4df54047.js"><link rel="prefetch" href="/doc_notes/assets/js/104.4e3d031e.js"><link rel="prefetch" href="/doc_notes/assets/js/105.fb56ad64.js"><link rel="prefetch" href="/doc_notes/assets/js/106.4cd1492c.js"><link rel="prefetch" href="/doc_notes/assets/js/107.a916259a.js"><link rel="prefetch" href="/doc_notes/assets/js/108.dfbcdb35.js"><link rel="prefetch" href="/doc_notes/assets/js/109.b85d5957.js"><link rel="prefetch" href="/doc_notes/assets/js/11.70fc3590.js"><link rel="prefetch" href="/doc_notes/assets/js/110.dc40183f.js"><link rel="prefetch" href="/doc_notes/assets/js/111.a9f83101.js"><link rel="prefetch" href="/doc_notes/assets/js/112.1b402c16.js"><link rel="prefetch" href="/doc_notes/assets/js/113.89928947.js"><link rel="prefetch" href="/doc_notes/assets/js/114.8be0db96.js"><link rel="prefetch" href="/doc_notes/assets/js/115.bd9e24bd.js"><link rel="prefetch" href="/doc_notes/assets/js/116.1979db39.js"><link rel="prefetch" href="/doc_notes/assets/js/117.7a439523.js"><link rel="prefetch" href="/doc_notes/assets/js/118.680aed03.js"><link rel="prefetch" href="/doc_notes/assets/js/119.dfdba03a.js"><link rel="prefetch" href="/doc_notes/assets/js/12.0f945969.js"><link rel="prefetch" href="/doc_notes/assets/js/120.37c405a9.js"><link rel="prefetch" href="/doc_notes/assets/js/121.672a368b.js"><link rel="prefetch" href="/doc_notes/assets/js/122.f1b5fad1.js"><link rel="prefetch" href="/doc_notes/assets/js/123.b0d4c3db.js"><link rel="prefetch" href="/doc_notes/assets/js/124.7f08733e.js"><link rel="prefetch" href="/doc_notes/assets/js/125.619db48f.js"><link rel="prefetch" href="/doc_notes/assets/js/126.048ed0c7.js"><link rel="prefetch" href="/doc_notes/assets/js/127.cc65fb73.js"><link rel="prefetch" href="/doc_notes/assets/js/128.27591c7f.js"><link rel="prefetch" href="/doc_notes/assets/js/129.e848d5ea.js"><link rel="prefetch" href="/doc_notes/assets/js/13.353aee93.js"><link rel="prefetch" href="/doc_notes/assets/js/130.0b6325e2.js"><link rel="prefetch" href="/doc_notes/assets/js/131.a4a8dc74.js"><link rel="prefetch" href="/doc_notes/assets/js/132.f78488ea.js"><link rel="prefetch" href="/doc_notes/assets/js/133.2c57ab36.js"><link rel="prefetch" href="/doc_notes/assets/js/134.c041a644.js"><link rel="prefetch" href="/doc_notes/assets/js/135.dd89210d.js"><link rel="prefetch" href="/doc_notes/assets/js/136.127b0247.js"><link rel="prefetch" href="/doc_notes/assets/js/137.1ff783eb.js"><link rel="prefetch" href="/doc_notes/assets/js/138.e72eaf60.js"><link rel="prefetch" href="/doc_notes/assets/js/139.135c74d8.js"><link rel="prefetch" href="/doc_notes/assets/js/14.a3283f94.js"><link rel="prefetch" href="/doc_notes/assets/js/140.4a7f191d.js"><link rel="prefetch" href="/doc_notes/assets/js/141.fa563aa9.js"><link rel="prefetch" href="/doc_notes/assets/js/142.266c8a69.js"><link rel="prefetch" href="/doc_notes/assets/js/143.3c3e596e.js"><link rel="prefetch" href="/doc_notes/assets/js/144.46a5cdc6.js"><link rel="prefetch" href="/doc_notes/assets/js/145.c33d2f51.js"><link rel="prefetch" href="/doc_notes/assets/js/146.ecf9ffa3.js"><link rel="prefetch" href="/doc_notes/assets/js/147.ecc8f162.js"><link rel="prefetch" href="/doc_notes/assets/js/148.57a0cc2c.js"><link rel="prefetch" href="/doc_notes/assets/js/149.243334a6.js"><link rel="prefetch" href="/doc_notes/assets/js/15.c66e3407.js"><link rel="prefetch" href="/doc_notes/assets/js/150.6811595e.js"><link rel="prefetch" href="/doc_notes/assets/js/151.a1b33f48.js"><link rel="prefetch" href="/doc_notes/assets/js/152.754c44e2.js"><link rel="prefetch" href="/doc_notes/assets/js/153.b6b30dd0.js"><link rel="prefetch" href="/doc_notes/assets/js/154.78d410b8.js"><link rel="prefetch" href="/doc_notes/assets/js/155.767f3fb1.js"><link rel="prefetch" href="/doc_notes/assets/js/156.f9095760.js"><link rel="prefetch" href="/doc_notes/assets/js/157.c538a726.js"><link rel="prefetch" href="/doc_notes/assets/js/158.9835a2a3.js"><link rel="prefetch" href="/doc_notes/assets/js/159.9d7c5a05.js"><link rel="prefetch" href="/doc_notes/assets/js/16.e7ecc933.js"><link rel="prefetch" href="/doc_notes/assets/js/160.addf636e.js"><link rel="prefetch" href="/doc_notes/assets/js/161.b9499ae3.js"><link rel="prefetch" href="/doc_notes/assets/js/162.9ebe738a.js"><link rel="prefetch" href="/doc_notes/assets/js/163.4860d1e7.js"><link rel="prefetch" href="/doc_notes/assets/js/164.148cebf3.js"><link rel="prefetch" href="/doc_notes/assets/js/165.41046f67.js"><link rel="prefetch" href="/doc_notes/assets/js/166.6deaed29.js"><link rel="prefetch" href="/doc_notes/assets/js/167.6d02a205.js"><link rel="prefetch" href="/doc_notes/assets/js/168.c86d38a7.js"><link rel="prefetch" href="/doc_notes/assets/js/169.eb313225.js"><link rel="prefetch" href="/doc_notes/assets/js/17.65a71bb5.js"><link rel="prefetch" href="/doc_notes/assets/js/170.889855cd.js"><link rel="prefetch" href="/doc_notes/assets/js/171.b95cf306.js"><link rel="prefetch" href="/doc_notes/assets/js/172.0b1e5fe3.js"><link rel="prefetch" href="/doc_notes/assets/js/173.99679181.js"><link rel="prefetch" href="/doc_notes/assets/js/174.f28ad52f.js"><link rel="prefetch" href="/doc_notes/assets/js/175.1c1f371e.js"><link rel="prefetch" href="/doc_notes/assets/js/176.662a9d28.js"><link rel="prefetch" href="/doc_notes/assets/js/177.6e464bd5.js"><link rel="prefetch" href="/doc_notes/assets/js/178.102c88e4.js"><link rel="prefetch" href="/doc_notes/assets/js/179.dddab088.js"><link rel="prefetch" href="/doc_notes/assets/js/18.8fedcbac.js"><link rel="prefetch" href="/doc_notes/assets/js/180.345e741e.js"><link rel="prefetch" href="/doc_notes/assets/js/181.59db7110.js"><link rel="prefetch" href="/doc_notes/assets/js/182.7f628252.js"><link rel="prefetch" href="/doc_notes/assets/js/183.e8653839.js"><link rel="prefetch" href="/doc_notes/assets/js/184.3eec36ec.js"><link rel="prefetch" href="/doc_notes/assets/js/185.cb0c13d5.js"><link rel="prefetch" href="/doc_notes/assets/js/186.1ccbe1a2.js"><link rel="prefetch" href="/doc_notes/assets/js/187.55e6bc99.js"><link rel="prefetch" href="/doc_notes/assets/js/188.1829998b.js"><link rel="prefetch" href="/doc_notes/assets/js/189.e86e8099.js"><link rel="prefetch" href="/doc_notes/assets/js/19.8fd4f833.js"><link rel="prefetch" href="/doc_notes/assets/js/190.3263ca68.js"><link rel="prefetch" href="/doc_notes/assets/js/191.6973d93a.js"><link rel="prefetch" href="/doc_notes/assets/js/192.8c648d4c.js"><link rel="prefetch" href="/doc_notes/assets/js/193.135dc6c4.js"><link rel="prefetch" href="/doc_notes/assets/js/194.2387809d.js"><link rel="prefetch" href="/doc_notes/assets/js/195.4e094a48.js"><link rel="prefetch" href="/doc_notes/assets/js/196.faae151e.js"><link rel="prefetch" href="/doc_notes/assets/js/197.6ca84b2f.js"><link rel="prefetch" href="/doc_notes/assets/js/198.99d5a7c7.js"><link rel="prefetch" href="/doc_notes/assets/js/199.5ac6f260.js"><link rel="prefetch" href="/doc_notes/assets/js/20.b7871733.js"><link rel="prefetch" href="/doc_notes/assets/js/200.434715d2.js"><link rel="prefetch" href="/doc_notes/assets/js/201.df5e4553.js"><link rel="prefetch" href="/doc_notes/assets/js/202.4f5738c7.js"><link rel="prefetch" href="/doc_notes/assets/js/203.7bdee8f2.js"><link rel="prefetch" href="/doc_notes/assets/js/204.5b4e69e3.js"><link rel="prefetch" href="/doc_notes/assets/js/205.58586a6e.js"><link rel="prefetch" href="/doc_notes/assets/js/206.b5603313.js"><link rel="prefetch" href="/doc_notes/assets/js/207.e1a4577a.js"><link rel="prefetch" href="/doc_notes/assets/js/208.2369d699.js"><link rel="prefetch" href="/doc_notes/assets/js/209.baadeea1.js"><link rel="prefetch" href="/doc_notes/assets/js/21.1cff06fb.js"><link rel="prefetch" href="/doc_notes/assets/js/210.2b107173.js"><link rel="prefetch" href="/doc_notes/assets/js/211.c8eea835.js"><link rel="prefetch" href="/doc_notes/assets/js/212.1fae6417.js"><link rel="prefetch" href="/doc_notes/assets/js/213.5696d97f.js"><link rel="prefetch" href="/doc_notes/assets/js/214.bbd783da.js"><link rel="prefetch" href="/doc_notes/assets/js/215.1c0c350c.js"><link rel="prefetch" href="/doc_notes/assets/js/216.498044dc.js"><link rel="prefetch" href="/doc_notes/assets/js/217.319f81c6.js"><link rel="prefetch" href="/doc_notes/assets/js/218.8911d413.js"><link rel="prefetch" href="/doc_notes/assets/js/219.f37e96ea.js"><link rel="prefetch" href="/doc_notes/assets/js/22.2cd72a62.js"><link rel="prefetch" href="/doc_notes/assets/js/220.b5ac8e75.js"><link rel="prefetch" href="/doc_notes/assets/js/221.cde91cfa.js"><link rel="prefetch" href="/doc_notes/assets/js/222.df059246.js"><link rel="prefetch" href="/doc_notes/assets/js/223.3ce433b3.js"><link rel="prefetch" href="/doc_notes/assets/js/224.36f2c1ff.js"><link rel="prefetch" href="/doc_notes/assets/js/225.fbee00f9.js"><link rel="prefetch" href="/doc_notes/assets/js/226.306f0e70.js"><link rel="prefetch" href="/doc_notes/assets/js/227.4e7373a0.js"><link rel="prefetch" href="/doc_notes/assets/js/228.44fd0171.js"><link rel="prefetch" href="/doc_notes/assets/js/229.f832a1d6.js"><link rel="prefetch" href="/doc_notes/assets/js/23.e9957abc.js"><link rel="prefetch" href="/doc_notes/assets/js/230.043a91e9.js"><link rel="prefetch" href="/doc_notes/assets/js/231.7616cdd1.js"><link rel="prefetch" href="/doc_notes/assets/js/232.c3eb262d.js"><link rel="prefetch" href="/doc_notes/assets/js/233.645ff598.js"><link rel="prefetch" href="/doc_notes/assets/js/234.bb763bdf.js"><link rel="prefetch" href="/doc_notes/assets/js/235.f6724c17.js"><link rel="prefetch" href="/doc_notes/assets/js/236.2fe5969c.js"><link rel="prefetch" href="/doc_notes/assets/js/237.c379ae13.js"><link rel="prefetch" href="/doc_notes/assets/js/238.bc474d07.js"><link rel="prefetch" href="/doc_notes/assets/js/239.b4b3094b.js"><link rel="prefetch" href="/doc_notes/assets/js/24.e4e0f07a.js"><link rel="prefetch" href="/doc_notes/assets/js/240.b7298fad.js"><link rel="prefetch" href="/doc_notes/assets/js/241.edc191c3.js"><link rel="prefetch" href="/doc_notes/assets/js/242.d79274ed.js"><link rel="prefetch" href="/doc_notes/assets/js/243.db97328a.js"><link rel="prefetch" href="/doc_notes/assets/js/244.68cd4704.js"><link rel="prefetch" href="/doc_notes/assets/js/245.f501295b.js"><link rel="prefetch" href="/doc_notes/assets/js/246.ddc4d5d9.js"><link rel="prefetch" href="/doc_notes/assets/js/247.ff22cc5b.js"><link rel="prefetch" href="/doc_notes/assets/js/248.4a61cd51.js"><link rel="prefetch" href="/doc_notes/assets/js/249.be49f5ca.js"><link rel="prefetch" href="/doc_notes/assets/js/25.c7ae079a.js"><link rel="prefetch" href="/doc_notes/assets/js/250.43caa09e.js"><link rel="prefetch" href="/doc_notes/assets/js/251.26d5a6e9.js"><link rel="prefetch" href="/doc_notes/assets/js/252.b3bcf0c8.js"><link rel="prefetch" href="/doc_notes/assets/js/253.1a1b2b11.js"><link rel="prefetch" href="/doc_notes/assets/js/254.1c4090ef.js"><link rel="prefetch" href="/doc_notes/assets/js/255.a49e9f41.js"><link rel="prefetch" href="/doc_notes/assets/js/256.78de4e85.js"><link rel="prefetch" href="/doc_notes/assets/js/257.3f3d8408.js"><link rel="prefetch" href="/doc_notes/assets/js/258.2a59b276.js"><link rel="prefetch" href="/doc_notes/assets/js/259.8916e4fc.js"><link rel="prefetch" href="/doc_notes/assets/js/26.1ae4ceb3.js"><link rel="prefetch" href="/doc_notes/assets/js/260.9e38f578.js"><link rel="prefetch" href="/doc_notes/assets/js/261.bb658a8a.js"><link rel="prefetch" href="/doc_notes/assets/js/262.e3dc3020.js"><link rel="prefetch" href="/doc_notes/assets/js/263.f1020a9b.js"><link rel="prefetch" href="/doc_notes/assets/js/264.b8f1ff3a.js"><link rel="prefetch" href="/doc_notes/assets/js/265.d3eb13d8.js"><link rel="prefetch" href="/doc_notes/assets/js/266.f27ca21b.js"><link rel="prefetch" href="/doc_notes/assets/js/267.338c834f.js"><link rel="prefetch" href="/doc_notes/assets/js/268.b9ebda2b.js"><link rel="prefetch" href="/doc_notes/assets/js/269.dc7525cf.js"><link rel="prefetch" href="/doc_notes/assets/js/27.42caa565.js"><link rel="prefetch" href="/doc_notes/assets/js/270.137ed51c.js"><link rel="prefetch" href="/doc_notes/assets/js/272.ddc1ee03.js"><link rel="prefetch" href="/doc_notes/assets/js/273.df6133aa.js"><link rel="prefetch" href="/doc_notes/assets/js/274.9115305d.js"><link rel="prefetch" href="/doc_notes/assets/js/275.13342d76.js"><link rel="prefetch" href="/doc_notes/assets/js/276.a9e1f1ec.js"><link rel="prefetch" href="/doc_notes/assets/js/277.f2728f30.js"><link rel="prefetch" href="/doc_notes/assets/js/278.7e726870.js"><link rel="prefetch" href="/doc_notes/assets/js/279.648ad6bd.js"><link rel="prefetch" href="/doc_notes/assets/js/28.45f1bbb9.js"><link rel="prefetch" href="/doc_notes/assets/js/280.720a2918.js"><link rel="prefetch" href="/doc_notes/assets/js/281.5a2d475b.js"><link rel="prefetch" href="/doc_notes/assets/js/282.62bc635b.js"><link rel="prefetch" href="/doc_notes/assets/js/283.ff6be5f5.js"><link rel="prefetch" href="/doc_notes/assets/js/284.3f7c0af1.js"><link rel="prefetch" href="/doc_notes/assets/js/285.c2f51624.js"><link rel="prefetch" href="/doc_notes/assets/js/286.a5b99138.js"><link rel="prefetch" href="/doc_notes/assets/js/287.829ac9bd.js"><link rel="prefetch" href="/doc_notes/assets/js/288.54aabaae.js"><link rel="prefetch" href="/doc_notes/assets/js/289.71b4d090.js"><link rel="prefetch" href="/doc_notes/assets/js/29.0fdf0aa1.js"><link rel="prefetch" href="/doc_notes/assets/js/290.df175e90.js"><link rel="prefetch" href="/doc_notes/assets/js/291.014245fe.js"><link rel="prefetch" href="/doc_notes/assets/js/292.8d375ce2.js"><link rel="prefetch" href="/doc_notes/assets/js/293.8591ceba.js"><link rel="prefetch" href="/doc_notes/assets/js/294.d979d20b.js"><link rel="prefetch" href="/doc_notes/assets/js/295.372c2d39.js"><link rel="prefetch" href="/doc_notes/assets/js/296.07d572ab.js"><link rel="prefetch" href="/doc_notes/assets/js/297.5de1073e.js"><link rel="prefetch" href="/doc_notes/assets/js/298.5a6ac1ca.js"><link rel="prefetch" href="/doc_notes/assets/js/299.e87a7ab3.js"><link rel="prefetch" href="/doc_notes/assets/js/3.8087b6c9.js"><link rel="prefetch" href="/doc_notes/assets/js/30.33c143cb.js"><link rel="prefetch" href="/doc_notes/assets/js/300.c011f877.js"><link rel="prefetch" href="/doc_notes/assets/js/301.479875ba.js"><link rel="prefetch" href="/doc_notes/assets/js/302.fe22cf89.js"><link rel="prefetch" href="/doc_notes/assets/js/303.fe59bc5d.js"><link rel="prefetch" href="/doc_notes/assets/js/304.17566e0f.js"><link rel="prefetch" href="/doc_notes/assets/js/305.235d62da.js"><link rel="prefetch" href="/doc_notes/assets/js/306.6a899aaa.js"><link rel="prefetch" href="/doc_notes/assets/js/307.a6302576.js"><link rel="prefetch" href="/doc_notes/assets/js/308.53d18516.js"><link rel="prefetch" href="/doc_notes/assets/js/309.44746635.js"><link rel="prefetch" href="/doc_notes/assets/js/31.f3c83a33.js"><link rel="prefetch" href="/doc_notes/assets/js/310.2b0b41b5.js"><link rel="prefetch" href="/doc_notes/assets/js/311.a2425d85.js"><link rel="prefetch" href="/doc_notes/assets/js/312.ee8bb224.js"><link rel="prefetch" href="/doc_notes/assets/js/313.cdb7a074.js"><link rel="prefetch" href="/doc_notes/assets/js/314.5c46337b.js"><link rel="prefetch" href="/doc_notes/assets/js/315.d2f5d6ef.js"><link rel="prefetch" href="/doc_notes/assets/js/316.1d1b10d7.js"><link rel="prefetch" href="/doc_notes/assets/js/317.18978adf.js"><link rel="prefetch" href="/doc_notes/assets/js/318.725aaa9e.js"><link rel="prefetch" href="/doc_notes/assets/js/319.10c27323.js"><link rel="prefetch" href="/doc_notes/assets/js/32.2e4a5d25.js"><link rel="prefetch" href="/doc_notes/assets/js/320.be122112.js"><link rel="prefetch" href="/doc_notes/assets/js/321.21d59327.js"><link rel="prefetch" href="/doc_notes/assets/js/322.1c7aa8b5.js"><link rel="prefetch" href="/doc_notes/assets/js/323.61f2e664.js"><link rel="prefetch" href="/doc_notes/assets/js/324.d5ef212c.js"><link rel="prefetch" href="/doc_notes/assets/js/325.8dcaad1a.js"><link rel="prefetch" href="/doc_notes/assets/js/326.27ae755d.js"><link rel="prefetch" href="/doc_notes/assets/js/327.23295181.js"><link rel="prefetch" href="/doc_notes/assets/js/328.b1038029.js"><link rel="prefetch" href="/doc_notes/assets/js/329.685f438a.js"><link rel="prefetch" href="/doc_notes/assets/js/33.78d67de4.js"><link rel="prefetch" href="/doc_notes/assets/js/330.29d01e38.js"><link rel="prefetch" href="/doc_notes/assets/js/331.56ede5a6.js"><link rel="prefetch" href="/doc_notes/assets/js/332.26f5337e.js"><link rel="prefetch" href="/doc_notes/assets/js/333.7a1b5bed.js"><link rel="prefetch" href="/doc_notes/assets/js/334.ccc83ffa.js"><link rel="prefetch" href="/doc_notes/assets/js/335.dd4d24f2.js"><link rel="prefetch" href="/doc_notes/assets/js/336.5cd8a3be.js"><link rel="prefetch" href="/doc_notes/assets/js/337.725cd669.js"><link rel="prefetch" href="/doc_notes/assets/js/338.ca370789.js"><link rel="prefetch" href="/doc_notes/assets/js/339.4db35fe1.js"><link rel="prefetch" href="/doc_notes/assets/js/34.10602eab.js"><link rel="prefetch" href="/doc_notes/assets/js/340.11e5684e.js"><link rel="prefetch" href="/doc_notes/assets/js/341.87af888b.js"><link rel="prefetch" href="/doc_notes/assets/js/342.6288246d.js"><link rel="prefetch" href="/doc_notes/assets/js/343.10836901.js"><link rel="prefetch" href="/doc_notes/assets/js/344.85db1640.js"><link rel="prefetch" href="/doc_notes/assets/js/345.f1a97cf1.js"><link rel="prefetch" href="/doc_notes/assets/js/346.dd502824.js"><link rel="prefetch" href="/doc_notes/assets/js/347.b211385a.js"><link rel="prefetch" href="/doc_notes/assets/js/348.f255c270.js"><link rel="prefetch" href="/doc_notes/assets/js/349.36014517.js"><link rel="prefetch" href="/doc_notes/assets/js/35.03fbbb65.js"><link rel="prefetch" href="/doc_notes/assets/js/350.817bd0e1.js"><link rel="prefetch" href="/doc_notes/assets/js/351.abf45be4.js"><link rel="prefetch" href="/doc_notes/assets/js/352.4254451f.js"><link rel="prefetch" href="/doc_notes/assets/js/353.c0b15b9d.js"><link rel="prefetch" href="/doc_notes/assets/js/354.d725c37e.js"><link rel="prefetch" href="/doc_notes/assets/js/355.10f1ce9b.js"><link rel="prefetch" href="/doc_notes/assets/js/356.a5e2bfda.js"><link rel="prefetch" href="/doc_notes/assets/js/357.80f39a19.js"><link rel="prefetch" href="/doc_notes/assets/js/358.5c69b1d1.js"><link rel="prefetch" href="/doc_notes/assets/js/359.12d21c81.js"><link rel="prefetch" href="/doc_notes/assets/js/36.aa74ba81.js"><link rel="prefetch" href="/doc_notes/assets/js/360.1183658a.js"><link rel="prefetch" href="/doc_notes/assets/js/361.33b745b6.js"><link rel="prefetch" href="/doc_notes/assets/js/362.a56596c0.js"><link rel="prefetch" href="/doc_notes/assets/js/363.1fadef9e.js"><link rel="prefetch" href="/doc_notes/assets/js/364.e43e06a1.js"><link rel="prefetch" href="/doc_notes/assets/js/365.1b191379.js"><link rel="prefetch" href="/doc_notes/assets/js/366.77112bc2.js"><link rel="prefetch" href="/doc_notes/assets/js/367.cbbf1410.js"><link rel="prefetch" href="/doc_notes/assets/js/368.6e4af412.js"><link rel="prefetch" href="/doc_notes/assets/js/369.9d8214a4.js"><link rel="prefetch" href="/doc_notes/assets/js/37.bad965a6.js"><link rel="prefetch" href="/doc_notes/assets/js/370.5dcbc931.js"><link rel="prefetch" href="/doc_notes/assets/js/371.3e798a72.js"><link rel="prefetch" href="/doc_notes/assets/js/372.99fbe027.js"><link rel="prefetch" href="/doc_notes/assets/js/373.783fc78c.js"><link rel="prefetch" href="/doc_notes/assets/js/374.8fc2e9fe.js"><link rel="prefetch" href="/doc_notes/assets/js/375.2831b29c.js"><link rel="prefetch" href="/doc_notes/assets/js/376.8a690d9f.js"><link rel="prefetch" href="/doc_notes/assets/js/377.c6401c22.js"><link rel="prefetch" href="/doc_notes/assets/js/38.57a79422.js"><link rel="prefetch" href="/doc_notes/assets/js/39.7ab71035.js"><link rel="prefetch" href="/doc_notes/assets/js/4.da3ef268.js"><link rel="prefetch" href="/doc_notes/assets/js/40.ffa22594.js"><link rel="prefetch" href="/doc_notes/assets/js/41.b2fc54d1.js"><link rel="prefetch" href="/doc_notes/assets/js/42.c43bc930.js"><link rel="prefetch" href="/doc_notes/assets/js/43.5c93d7a1.js"><link rel="prefetch" href="/doc_notes/assets/js/44.605a54a6.js"><link rel="prefetch" href="/doc_notes/assets/js/45.f85a75a3.js"><link rel="prefetch" href="/doc_notes/assets/js/46.2cd25346.js"><link rel="prefetch" href="/doc_notes/assets/js/47.93f7d1a6.js"><link rel="prefetch" href="/doc_notes/assets/js/48.7fd0b6dc.js"><link rel="prefetch" href="/doc_notes/assets/js/49.c64bb839.js"><link rel="prefetch" href="/doc_notes/assets/js/5.dac787d8.js"><link rel="prefetch" href="/doc_notes/assets/js/50.d2fe7364.js"><link rel="prefetch" href="/doc_notes/assets/js/51.b9189617.js"><link rel="prefetch" href="/doc_notes/assets/js/52.4689b562.js"><link rel="prefetch" href="/doc_notes/assets/js/53.f0b1d96b.js"><link rel="prefetch" href="/doc_notes/assets/js/54.f52a48ab.js"><link rel="prefetch" href="/doc_notes/assets/js/55.98bfca4a.js"><link rel="prefetch" href="/doc_notes/assets/js/56.6c0a81f6.js"><link rel="prefetch" href="/doc_notes/assets/js/57.e17dfa82.js"><link rel="prefetch" href="/doc_notes/assets/js/58.f9a5000b.js"><link rel="prefetch" href="/doc_notes/assets/js/59.3296ea1c.js"><link rel="prefetch" href="/doc_notes/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/doc_notes/assets/js/60.610d4eca.js"><link rel="prefetch" href="/doc_notes/assets/js/61.64b18740.js"><link rel="prefetch" href="/doc_notes/assets/js/62.87e34293.js"><link rel="prefetch" href="/doc_notes/assets/js/63.fbd2d78b.js"><link rel="prefetch" href="/doc_notes/assets/js/64.493b857a.js"><link rel="prefetch" href="/doc_notes/assets/js/65.0a60479c.js"><link rel="prefetch" href="/doc_notes/assets/js/66.800419f9.js"><link rel="prefetch" href="/doc_notes/assets/js/67.343f5dab.js"><link rel="prefetch" href="/doc_notes/assets/js/68.fed77f78.js"><link rel="prefetch" href="/doc_notes/assets/js/69.8b1601da.js"><link rel="prefetch" href="/doc_notes/assets/js/7.c9d31aa2.js"><link rel="prefetch" href="/doc_notes/assets/js/70.aedd0ab9.js"><link rel="prefetch" href="/doc_notes/assets/js/71.b166238f.js"><link rel="prefetch" href="/doc_notes/assets/js/72.27a66c82.js"><link rel="prefetch" href="/doc_notes/assets/js/73.1d9b487f.js"><link rel="prefetch" href="/doc_notes/assets/js/74.84702901.js"><link rel="prefetch" href="/doc_notes/assets/js/75.2f6ae560.js"><link rel="prefetch" href="/doc_notes/assets/js/76.4856c210.js"><link rel="prefetch" href="/doc_notes/assets/js/77.9fc6950e.js"><link rel="prefetch" href="/doc_notes/assets/js/78.cb2f07a0.js"><link rel="prefetch" href="/doc_notes/assets/js/79.5e43d0b7.js"><link rel="prefetch" href="/doc_notes/assets/js/8.da9db8f9.js"><link rel="prefetch" href="/doc_notes/assets/js/80.d59ea8af.js"><link rel="prefetch" href="/doc_notes/assets/js/81.9fc53f43.js"><link rel="prefetch" href="/doc_notes/assets/js/82.5838801e.js"><link rel="prefetch" href="/doc_notes/assets/js/83.d2006fd2.js"><link rel="prefetch" href="/doc_notes/assets/js/84.9b965f14.js"><link rel="prefetch" href="/doc_notes/assets/js/85.de0c498b.js"><link rel="prefetch" href="/doc_notes/assets/js/86.ce67f8b8.js"><link rel="prefetch" href="/doc_notes/assets/js/87.5d47b003.js"><link rel="prefetch" href="/doc_notes/assets/js/88.eee9be64.js"><link rel="prefetch" href="/doc_notes/assets/js/89.42153946.js"><link rel="prefetch" href="/doc_notes/assets/js/9.0ccc34a6.js"><link rel="prefetch" href="/doc_notes/assets/js/90.13a9f4b2.js"><link rel="prefetch" href="/doc_notes/assets/js/91.832ae5d2.js"><link rel="prefetch" href="/doc_notes/assets/js/92.bd7c25ca.js"><link rel="prefetch" href="/doc_notes/assets/js/93.8a6f3f34.js"><link rel="prefetch" href="/doc_notes/assets/js/94.221348bd.js"><link rel="prefetch" href="/doc_notes/assets/js/95.86b48f96.js"><link rel="prefetch" href="/doc_notes/assets/js/96.7c6d0372.js"><link rel="prefetch" href="/doc_notes/assets/js/97.307341f8.js"><link rel="prefetch" href="/doc_notes/assets/js/98.14120c7c.js"><link rel="prefetch" href="/doc_notes/assets/js/99.40560c36.js">
    <link rel="stylesheet" href="/doc_notes/assets/css/0.styles.60b82a90.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/doc_notes/" class="home-link router-link-active"><!----> <span class="site-name">Obsidian notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doc_notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/doc_notes/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doc_notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/doc_notes/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><div><h1 id="напиши-какие-крупные-проекты-были-сделаны-на-flask-django-напши-список-что-на-чем-сделано-ссылка-на-проект"><a class="header-anchor" href="#напиши-какие-крупные-проекты-были-сделаны-на-flask-django-напши-список-что-на-чем-сделано-ссылка-на-проект">#</a> напиши какие крупные проекты были сделаны на flask, django напши список (что, на чем сделано, ссылка на проект)</h1> <p>{% raw %}</p> <p>Проекты на Flask:</p> <ol><li><p>Flask-RESTful: библиотека для создания RESTful API на Flask. https://flask-restful.readthedocs.io/en/latest/</p></li> <li><p>Flask-SQLAlchemy: интеграция SQLAlchemy с Flask. https://flask-sqlalchemy.palletsprojects.com/en/latest/</p></li> <li><p>Flask-Admin: панель администратора для Flask приложений. https://flask-admin.readthedocs.io/en/latest/</p></li> <li><p>Flask-Mail: интеграция электронной почты в Flask приложения. https://pythonhosted.org/Flask-Mail/</p></li> <li><p>Flask-SocketIO: интеграция сокетов в Flask приложения. https://flask-socketio.readthedocs.io/en/latest/</p></li> <li><p>Flask-WTF: инструменты форм для Flask приложений. https://flask-wtf.readthedocs.io/en/stable/</p></li></ol> <p>Проекты на Django:</p> <ol><li><p>Instagram: социальная сеть для обмена фотографиями. https://github.com/Instagram/instagram-web-react</p></li> <li><p>Disqus: комментарии и обсуждения на сайтах. https://disqus.com/</p></li> <li><p>Mozilla: сайт Mozilla Foundation, создателей Firefox. https://www.mozilla.org/</p></li> <li><p>Dropbox: облачное хранилище и синхронизация файлов. https://www.dropbox.com/</p></li> <li><p>Pinterest: социальная сеть для обмена идеями и вдохновением. https://www.pinterest.com/</p></li> <li><p>The Washington Post: новостной сайт с множеством разделов и функций. https://www.washingtonpost.com/</p></li> <li><p>The Guardian: британская газета с онлайн-версией для чтения новостей. https://www.theguardian.com/uk</p></li> <li><p>Bitbucket: хранилище репозиториев и управление версиями для Git и Mercurial. https://bitbucket.org/</p></li></ol> <h1 id="напиши-какие-библиотеки-можно-использовать-для-создания-flask-приложения-использующего-таблицы-datagrid-меню-вложенные-списки"><a class="header-anchor" href="#напиши-какие-библиотеки-можно-использовать-для-создания-flask-приложения-использующего-таблицы-datagrid-меню-вложенные-списки">#</a> напиши какие библиотеки можно использовать для создания flask приложения использующего таблицы(datagrid), меню, вложенные списки</h1> <p>Для создания Flask приложения, использующего таблицы, меню и вложенные списки, я бы порекомендовал следующие библиотеки:</p> <ol><li><p>Flask-Admin - библиотека для создания административных интерфейсов, позволяющая легко создавать таблицы, фильтры, поиск и меню для навигации по разделам приложения.</p></li> <li><p>Flask-Menu - библиотека, которая позволяет создавать меню и вложенные списки для навигации по приложению.</p></li> <li><p>Flask-Table - библиотека, которая позволяет легко создавать таблицы из данных, а также управлять их отображением, фильтрацией и сортировкой.</p></li> <li><p>Flask-JSGlue - библиотека, которая позволяет использовать Javascript с Flask, что позволяет создавать более сложные пользовательские интерфейсы.</p></li> <li><p>Flask-Bootstrap - библиотека, которая позволяет использовать Twitter Bootstrap в приложениях Flask, что позволяет быстро создавать приятный дизайн и адаптивный интерфейс.</p></li></ol> <h1 id="redirecting-to-url-in-flask"><a class="header-anchor" href="#redirecting-to-url-in-flask">#</a> Redirecting to URL in Flask</h1> <p>You have to return a redirect:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">import</span> os
<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span>redirect

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span><span class="token string">&quot;http://www.example.com&quot;</span><span class="token punctuation">,</span> code<span class="token operator">=</span><span class="token number">302</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment"># Bind to PORT if defined, otherwise default to 5000.</span>
    port <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'PORT'</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span> port<span class="token operator">=</span>port<span class="token punctuation">)</span>
</code></pre></div><p>See <a href="https://flask.palletsprojects.com/api/#flask.redirect" target="_blank" rel="noopener noreferrer">the documentation on flask docs.<OutboundLink></OutboundLink></a> The default value for code is 302 so <code>code=302</code> can be omitted or replaced by other redirect code (one in 301, 302, 303, 305, and 307).</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token comment">#!/usr/bin/env python</span>
<span class="token comment"># -*- coding: utf-8 -*-</span>

<span class="token keyword">import</span> os
<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> redirect<span class="token punctuation">,</span> url_for

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> redirect<span class="token punctuation">(</span>url_for<span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/foo'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'Hello Foo!'</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    <span class="token comment"># Bind to PORT if defined, otherwise default to 5000.</span>
    port <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'PORT'</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span> port<span class="token operator">=</span>port<span class="token punctuation">)</span>
</code></pre></div><p>Take a look at the <a href="http://flask.pocoo.org/docs/quickstart/#redirects-and-errors" target="_blank" rel="noopener noreferrer">example in the documentation<OutboundLink></OutboundLink></a>.</p> <h1 id="changing-the-active-class-of-a-link-with-the-twitter-bootstrap-css-in-python-flask"><a class="header-anchor" href="#changing-the-active-class-of-a-link-with-the-twitter-bootstrap-css-in-python-flask">#</a> Changing the active class of a link with the twitter bootstrap css in python/flask</h1> <p>Have you looked at this ? <a href="https://jinja.palletsprojects.com/en/3.0.x/tricks/#highlighting-active-menu-items" target="_blank" rel="noopener noreferrer">https://jinja.palletsprojects.com/en/3.0.x/tricks/#highlighting-active-menu-items<OutboundLink></OutboundLink></a></p> <h2 id="highlighting-active-menu-items"><a class="header-anchor" href="#highlighting-active-menu-items">#</a> Highlighting Active Menu Items</h2> <p>Often you want to have a navigation bar with an active navigation item. This is really simple to achieve. Because assignments outside of blocks in child templates are global and executed before the layout template is evaluated it’s possible to define the active menu item in the child template:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token punctuation">{</span><span class="token operator">%</span> extends <span class="token string">&quot;layout.html&quot;</span> <span class="token operator">%</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token builtin">set</span> active_page <span class="token operator">=</span> <span class="token string">&quot;index&quot;</span> <span class="token operator">%</span><span class="token punctuation">}</span>
</code></pre></div><p>The layout template can then access <code>active_page</code>. Additionally it makes sense to define a default for that variable:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token punctuation">{</span><span class="token operator">%</span> <span class="token builtin">set</span> navigation_bar <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token string">'Index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'/downloads/'</span><span class="token punctuation">,</span> <span class="token string">'downloads'</span><span class="token punctuation">,</span> <span class="token string">'Downloads'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token string">'/about/'</span><span class="token punctuation">,</span> <span class="token string">'about'</span><span class="token punctuation">,</span> <span class="token string">'About'</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span> <span class="token operator">-</span><span class="token operator">%</span><span class="token punctuation">}</span>

<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token builtin">set</span> active_page <span class="token operator">=</span> active_page<span class="token operator">|</span>default<span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">%</span><span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token operator">&lt;</span>ul <span class="token builtin">id</span><span class="token operator">=</span><span class="token string">&quot;navigation&quot;</span><span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> href<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">,</span> caption <span class="token keyword">in</span> navigation_bar <span class="token operator">%</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span>li<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token builtin">id</span> <span class="token operator">==</span> active_page <span class="token operator">%</span><span class="token punctuation">}</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">{</span><span class="token operator">%</span> endif
    <span class="token operator">%</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;{{ href|e }}&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> caption<span class="token operator">|</span>e <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token punctuation">{</span><span class="token operator">%</span> endfor <span class="token operator">%</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
</code></pre></div><p>Here is another simpler way if you have menus distributed all over the page. This way uses inline if statements to print out the class <strong>active</strong>.</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{{ 'active' if active_page == 'menu1' else '' }}&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;/blah1&quot;</span><span class="token operator">&gt;</span>Link <span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{{ 'active' if active_page == 'menu2' else '' }}&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;/blah2&quot;</span><span class="token operator">&gt;</span> Link <span class="token number">2</span> <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
</code></pre></div><blockquote><p>Class active is for highlighting</p></blockquote> <p>You still need to set the variable on every page to mark them</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token punctuation">{</span><span class="token operator">%</span> extends <span class="token string">&quot;master.html&quot;</span> <span class="token operator">%</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token builtin">set</span> active_page <span class="token operator">=</span> <span class="token string">&quot;menu1&quot;</span> <span class="token operator">%</span><span class="token punctuation">}</span>
</code></pre></div><p>or</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token punctuation">{</span><span class="token operator">%</span> <span class="token builtin">set</span> active_page <span class="token operator">=</span> <span class="token string">&quot;menu2&quot;</span> <span class="token operator">%</span><span class="token punctuation">}</span>
</code></pre></div><p>we can make class active by using jinja if statements</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;nav navbar-nav&quot;</span><span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{% if request.endpoint=='home' %}active{%endif %}&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;{{  url_for('home') }}&quot;</span><span class="token operator">&gt;</span>home<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
     <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{% if request.endpoint=='add_client' %}active{%endif %}&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;{{  url_for('add_client') }}&quot;</span><span class="token operator">&gt;</span>Add Report<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
</code></pre></div><h1 id="what-is-an-endpoint-in-flask"><a class="header-anchor" href="#what-is-an-endpoint-in-flask">#</a> What is an 'endpoint' in Flask?</h1> <h2 id="how-flask-routing-works"><a class="header-anchor" href="#how-flask-routing-works">#</a> How Flask Routing Works</h2> <p>The entire idea of Flask (and the underlying Werkzeug library) is to map URL paths to some logic that you will run (typically, the &quot;view function&quot;). Your basic view is defined like this:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/greeting/&lt;name&gt;'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">give_greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'Hello, {0}!'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre></div><p>Note that the function you referred to (add_url_rule) achieves the same goal, just without using the decorator notation. Therefore, the following is the same:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token comment"># No &quot;route&quot; decorator here. We will add routing using a different method below.</span>
<span class="token keyword">def</span> <span class="token function">give_greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'Hello, {0}!'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

app<span class="token punctuation">.</span>add_url_rule<span class="token punctuation">(</span><span class="token string">'/greeting/&lt;name&gt;'</span><span class="token punctuation">,</span> <span class="token string">'give_greeting'</span><span class="token punctuation">,</span> give_greeting<span class="token punctuation">)</span>
</code></pre></div><p>Let's say your website is located at 'www.example.org' and uses the above view. The user enters the following URL into their browser:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>org<span class="token operator">/</span>greeting<span class="token operator">/</span>Mark
</code></pre></div><p>The job of Flask is to take this URL, figure out what the user wants to do, and pass it on to one of your many python functions for handling. It takes the <strong>path</strong>:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token operator">/</span>greeting<span class="token operator">/</span>Mark
</code></pre></div><p>...and matches it to the list of routes. In our case, we defined this path to go to the <code>give_greeting</code> function.</p> <p>However, while this is the typical way that you might go about creating a view, it actually abstracts some extra info from you. Behind the scenes, Flask did not make the leap directly from URL to the view function that should handle this request. It does not simply say...</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>URL <span class="token punctuation">(</span>http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>org<span class="token operator">/</span>greeting<span class="token operator">/</span>Mark<span class="token punctuation">)</span> should be handled by View Function <span class="token punctuation">(</span>the function <span class="token string">&quot;give_greeting&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>Actually, it there is another step, where it maps the URL to an endpoint:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>URL <span class="token punctuation">(</span>http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>org<span class="token operator">/</span>greeting<span class="token operator">/</span>Mark<span class="token punctuation">)</span> should be handled by Endpoint <span class="token string">&quot;give_greeting&quot;</span><span class="token punctuation">.</span>
Requests to Endpoint <span class="token string">&quot;give_greeting&quot;</span> should be handled by View Function <span class="token string">&quot;give_greeting&quot;</span>
</code></pre></div><p>Basically, <strong>the &quot;endpoint&quot; is an identifier that is used in determining what logical unit of your code should handle the request</strong>. Normally, an endpoint is just the name of a view function. However, you can actually change the endpoint, as is done in the following example.</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/greeting/&lt;name&gt;'</span><span class="token punctuation">,</span> endpoint<span class="token operator">=</span><span class="token string">'say_hello'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">give_greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'Hello, {0}!'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre></div><p>Now, when Flask routes the request, the logic looks like this:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>URL <span class="token punctuation">(</span>http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>org<span class="token operator">/</span>greeting<span class="token operator">/</span>Mark<span class="token punctuation">)</span> should be handled by Endpoint <span class="token string">&quot;say_hello&quot;</span><span class="token punctuation">.</span>
Endpoint <span class="token string">&quot;say_hello&quot;</span> should be handled by View Function <span class="token string">&quot;give_greeting&quot;</span>
</code></pre></div><h2 id="how-you-use-the-endpoint"><a class="header-anchor" href="#how-you-use-the-endpoint">#</a> How You Use the Endpoint</h2> <p>The endpoint is commonly used for the &quot;reverse lookup&quot;. For example, in one view of your Flask application, you want to reference another view (perhaps when you are linking from one area of the site to another). Rather than hard-code the URL, you can use <a href="http://flask.pocoo.org/docs/api/#flask.url_for" target="_blank" rel="noopener noreferrer"><code>url_for()</code><OutboundLink></OutboundLink></a>. Assume the following</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span> url_for<span class="token punctuation">(</span><span class="token string">'give_greeting'</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'Mark'</span><span class="token punctuation">)</span> <span class="token comment"># This will print '/greeting/Mark'</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/greeting/&lt;name&gt;'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">give_greeting</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'Hello, {0}!'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre></div><p>This is advantageous, as now we can change the URLs of our application without needing to change the line where we reference that resource.</p> <h2 id="why-not-just-always-use-the-name-of-the-view-function"><a class="header-anchor" href="#why-not-just-always-use-the-name-of-the-view-function">#</a> Why not just always use the name of the view function?</h2> <p>One question that might come up is the following: &quot;Why do we need this extra layer?&quot; Why map a path to an endpoint, then an endpoint to a view function? Why not just skip that middle step?</p> <p>The reason is because it is more powerful this way. For example, <a href="http://flask.pocoo.org/docs/blueprints/" target="_blank" rel="noopener noreferrer">Flask Blueprints<OutboundLink></OutboundLink></a> allow you to split your application into various parts. I might have all of my admin-side resources in a blueprint called &quot;admin&quot;, and all of my user-level resources in an endpoint called &quot;user&quot;.</p> <p>Blueprints allow you to separate these into namespaces. For example...</p> <p>main.py:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> Blueprint
<span class="token keyword">from</span> admin <span class="token keyword">import</span> admin
<span class="token keyword">from</span> user <span class="token keyword">import</span> user

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>admin<span class="token punctuation">,</span> url_prefix<span class="token operator">=</span><span class="token string">'admin'</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span>register_blueprint<span class="token punctuation">(</span>user<span class="token punctuation">,</span> url_prefix<span class="token operator">=</span><span class="token string">'user'</span><span class="token punctuation">)</span>
</code></pre></div><p>admin.py:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>admin <span class="token operator">=</span> Blueprint<span class="token punctuation">(</span><span class="token string">'admin'</span><span class="token punctuation">,</span> __name__<span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@admin<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/greeting'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'Hello, administrative user!'</span>
</code></pre></div><p>user.py:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>user <span class="token operator">=</span> Blueprint<span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> __name__<span class="token punctuation">)</span>
<span class="token decorator annotation punctuation">@user<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/greeting'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token string">'Hello, lowly normal user!'</span>
</code></pre></div><p>Note that in both blueprints, the '/greeting' route is a function called &quot;greeting&quot;. If I wanted to refer to the admin &quot;greeting&quot; function, I couldn't just say &quot;greeting&quot; because there is also a user &quot;greeting&quot; function. Endpoints allow for a sort of namespacing by having you specify the name of the blueprint as part of the endpoint. So, I could do the following...</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">print</span> url_for<span class="token punctuation">(</span><span class="token string">'admin.greeting'</span><span class="token punctuation">)</span> <span class="token comment"># Prints '/admin/greeting'</span>
<span class="token keyword">print</span> url_for<span class="token punctuation">(</span><span class="token string">'user.greeting'</span><span class="token punctuation">)</span> <span class="token comment"># Prints '/user/greeting'</span>
</code></pre></div><h1 id="how-do-i-get-the-different-parts-of-a-flask-request-s-url"><a class="header-anchor" href="#how-do-i-get-the-different-parts-of-a-flask-request-s-url">#</a> How do I get the different parts of a Flask request's url?</h1> <p>You can examine the url through several <a href="http://flask.pocoo.org/docs/api/#flask.Request.path" target="_blank" rel="noopener noreferrer"><code>Request</code><OutboundLink></OutboundLink></a> fields:</p> <blockquote><p>Imagine your application is listening on the following application root:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>myapplication
</code></pre></div><p>And a user requests the following URI:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>myapplication<span class="token operator">/</span>foo<span class="token operator">/</span>page<span class="token punctuation">.</span>html?x<span class="token operator">=</span>y
</code></pre></div><p>In this case the values of the above mentioned attributes would be the following:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>    path             <span class="token operator">/</span>foo<span class="token operator">/</span>page<span class="token punctuation">.</span>html
    full_path        <span class="token operator">/</span>foo<span class="token operator">/</span>page<span class="token punctuation">.</span>html?x<span class="token operator">=</span>y
    script_root      <span class="token operator">/</span>myapplication
    base_url         http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>myapplication<span class="token operator">/</span>foo<span class="token operator">/</span>page<span class="token punctuation">.</span>html
    url              http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>myapplication<span class="token operator">/</span>foo<span class="token operator">/</span>page<span class="token punctuation">.</span>html?x<span class="token operator">=</span>y
    url_root         http<span class="token punctuation">:</span><span class="token operator">//</span>www<span class="token punctuation">.</span>example<span class="token punctuation">.</span>com<span class="token operator">/</span>myapplication<span class="token operator">/</span>
</code></pre></div></blockquote> <p>You can easily extract the host part with the appropriate splits.</p> <p>An example of using this:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> request

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> request<span class="token punctuation">.</span>base_url
</code></pre></div><p>another example:</p> <p>request:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>curl <span class="token operator">-</span>XGET http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">5000</span><span class="token operator">/</span>alert<span class="token operator">/</span>dingding<span class="token operator">/</span>test?x<span class="token operator">=</span>y
</code></pre></div><p>then:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>request<span class="token punctuation">.</span>method<span class="token punctuation">:</span>              GET
request<span class="token punctuation">.</span>url<span class="token punctuation">:</span>                 http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">5000</span><span class="token operator">/</span>alert<span class="token operator">/</span>dingding<span class="token operator">/</span>test?x<span class="token operator">=</span>y
request<span class="token punctuation">.</span>base_url<span class="token punctuation">:</span>            http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">5000</span><span class="token operator">/</span>alert<span class="token operator">/</span>dingding<span class="token operator">/</span>test
request<span class="token punctuation">.</span>url_charset<span class="token punctuation">:</span>         utf<span class="token operator">-</span><span class="token number">8</span>
request<span class="token punctuation">.</span>url_root<span class="token punctuation">:</span>            http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">5000</span><span class="token operator">/</span>
<span class="token builtin">str</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url_rule<span class="token punctuation">)</span><span class="token punctuation">:</span>       <span class="token operator">/</span>alert<span class="token operator">/</span>dingding<span class="token operator">/</span>test
request<span class="token punctuation">.</span>host_url<span class="token punctuation">:</span>            http<span class="token punctuation">:</span><span class="token operator">//</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">5000</span><span class="token operator">/</span>
request<span class="token punctuation">.</span>host<span class="token punctuation">:</span>                <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">:</span><span class="token number">5000</span>
request<span class="token punctuation">.</span>script_root<span class="token punctuation">:</span>
request<span class="token punctuation">.</span>path<span class="token punctuation">:</span>                <span class="token operator">/</span>alert<span class="token operator">/</span>dingding<span class="token operator">/</span>test
request<span class="token punctuation">.</span>full_path<span class="token punctuation">:</span>           <span class="token operator">/</span>alert<span class="token operator">/</span>dingding<span class="token operator">/</span>test?x<span class="token operator">=</span>y

request<span class="token punctuation">.</span>args<span class="token punctuation">:</span>                ImmutableMultiDict<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
request<span class="token punctuation">.</span>args<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>       y
</code></pre></div><h1 id="how-to-debug-a-flask-app"><a class="header-anchor" href="#how-to-debug-a-flask-app">#</a> How to debug a Flask app</h1> <p>Running the app in debug mode will show an interactive traceback and console in the browser when there is an error. As of Flask 2.2, to run in debug mode, pass the <code>--app</code> and <code>--debug</code> options to the <code>flask</code> command.</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>$ flask --app example --debug run
</code></pre></div><hr> <p>Prior to Flask 2.2, this was controlled by the <code>FLASK_ENV=development</code> environment variable instead. You can still use <code>FLASK_APP</code> and <code>FLASK_DEBUG=1</code> instead of the options above.</p> <p>For Linux, Mac, Linux Subsystem for Windows, Git Bash on Windows, etc.:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>$ export FLASK_APP=example
$ export FLASK_DEBUG=1
$ flask run
</code></pre></div><p>For Windows CMD, use <code>set</code> instead of export:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token builtin">set</span> FLASK_DEBUG<span class="token operator">=</span><span class="token number">1</span>
</code></pre></div><p>For PowerShell, use <code>$env</code>:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>$env<span class="token punctuation">:</span>FLASK_DEBUG <span class="token operator">=</span> <span class="token string">&quot;1&quot;</span>
</code></pre></div><hr> <p>If you're using the <code>app.run()</code> method instead of the <code>flask run</code> command, pass <code>debug=True</code> to enable debug mode.</p> <p>Tracebacks are also printed to the terminal running the server, regardless of development mode.</p> <p>If you're using PyCharm, VS Code, etc., you can take advantage of its debugger to step through the code with breakpoints. The run configuration can point to a script calling <code>app.run(debug=True, use_reloader=False)</code>, or point it at the <code>venv/bin/flask</code> script and use it as you would from the command line. You can leave the reloader disabled, but a reload will kill the debugging context and you will have to catch a breakpoint again.</p> <p>You can also use pdb, pudb, or another terminal debugger by calling <code>set_trace</code> in the view where you want to start debugging.</p> <hr> <p>Be sure not to use too-broad except blocks. Surrounding all your code with a catch-all <code>try... except...</code> will silence the error you want to debug. It's unnecessary in general, since Flask will already handle exceptions by showing the debugger or a 500 error and printing the traceback to the console.</p> <h1 id="disable-jinja-template-caching-for-certain-filter"><a class="header-anchor" href="#disable-jinja-template-caching-for-certain-filter">#</a> Disable Jinja template caching for certain filter</h1> <p>After lots of Googling, I finally found the real solution to this. Jinja has a special helper called <a href="http://jinja.pocoo.org/docs/dev/api/#jinja2.contextfilter" target="_blank" rel="noopener noreferrer">contextfilter<OutboundLink></OutboundLink></a> that you can use to decorate your function with to make your filter context-aware (and context-dependent). The Jinja bytecode cache will not cache this computed value, even when a constant is passed as input.</p> <p>In your filter in Python:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> jinja2 <span class="token keyword">import</span> contextfilter

<span class="token decorator annotation punctuation">@contextfilter</span>
<span class="token keyword">def</span> <span class="token function">asset_url</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> some_url_thing<span class="token punctuation">(</span>url<span class="token punctuation">)</span>
</code></pre></div><p>In your template:</p> <div class="language-xml extra-class"><pre v-pre="" class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stylesheet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{ 'styles.css' | asset_url }}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="альтернативныи-вариант"><a class="header-anchor" href="#альтернативныи-вариант">#</a> Альтернативный вариант</h3> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> jinja2 <span class="token keyword">import</span> pass_context

<span class="token decorator annotation punctuation">@pass_context</span>
<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>template_filter</span><span class="token punctuation">(</span><span class="token string">'active_url_cls'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">active_url_cls</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> cls<span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">:</span>
	<span class="token keyword">if</span> request<span class="token punctuation">.</span>path<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> cls
	<span class="token keyword">else</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span>
</code></pre></div><h2 id="runtimeerror-working-outside-of-application-context"><a class="header-anchor" href="#runtimeerror-working-outside-of-application-context">#</a> RuntimeError: working outside of application context</h2> <p>Flask has an <a href="http://flask.pocoo.org/docs/latest/appcontext/#creating-an-application-context" target="_blank" rel="noopener noreferrer">Application Context<OutboundLink></OutboundLink></a>, and it seems like you'll need to do something like:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">def</span> <span class="token function">test_connection</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">with</span> app<span class="token punctuation">.</span>app_context<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#test code</span>
</code></pre></div><p>You can probably also shove the <code>app.app_context()</code> call into a test setup method as well.</p> <h1 id="напиши-пример-как-в-flask-table-сделать-пагинацию"><a class="header-anchor" href="#напиши-пример-как-в-flask-table-сделать-пагинацию">#</a> напиши пример как в Flask-Table сделать пагинацию</h1> <p>Для добавления пагинации в Flask-Table, необходимо использовать класс Pagination класса Flask.
Пример кода:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> flask_table <span class="token keyword">import</span> Table<span class="token punctuation">,</span> Col
<span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request<span class="token punctuation">,</span> render_template
<span class="token keyword">from</span> flask_sqlalchemy <span class="token keyword">import</span> SQLAlchemy
<span class="token keyword">from</span> flask_paginate <span class="token keyword">import</span> Pagination<span class="token punctuation">,</span> get_page_args

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'SQLALCHEMY_DATABASE_URI'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'mysql://user:password@localhost/mydatabase'</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'SECRET_KEY'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'mysecret'</span>
db <span class="token operator">=</span> SQLAlchemy<span class="token punctuation">(</span>app<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">MyTable</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">id</span> <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    age <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">MyTableData</span><span class="token punctuation">(</span>Table<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">id</span> <span class="token operator">=</span> Col<span class="token punctuation">(</span><span class="token string">'Id'</span><span class="token punctuation">,</span> show<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> Col<span class="token punctuation">(</span><span class="token string">'Name'</span><span class="token punctuation">)</span>
    age <span class="token operator">=</span> Col<span class="token punctuation">(</span><span class="token string">'Age'</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">mytable_data</span><span class="token punctuation">(</span>page<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> per_page<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> MyTable<span class="token punctuation">.</span>query<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    pagination <span class="token operator">=</span> Pagination<span class="token punctuation">(</span>page<span class="token operator">=</span>page<span class="token punctuation">,</span> per_page<span class="token operator">=</span>per_page<span class="token punctuation">,</span> total<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span> css_framework<span class="token operator">=</span><span class="token string">'bootstrap4'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> data<span class="token punctuation">,</span> pagination

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    page<span class="token punctuation">,</span> per_page<span class="token punctuation">,</span> offset <span class="token operator">=</span> get_page_args<span class="token punctuation">(</span>page_parameter<span class="token operator">=</span><span class="token string">'page'</span><span class="token punctuation">,</span> per_page_parameter<span class="token operator">=</span><span class="token string">'per_page'</span><span class="token punctuation">)</span>
    data<span class="token punctuation">,</span> pagination <span class="token operator">=</span> mytable_data<span class="token punctuation">(</span>page<span class="token operator">=</span>page<span class="token punctuation">,</span> per_page<span class="token operator">=</span>per_page<span class="token punctuation">)</span>
    table <span class="token operator">=</span> MyTableData<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    table<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span> table<span class="token operator">=</span>table<span class="token punctuation">,</span> pagination<span class="token operator">=</span>pagination<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>debug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre></div><p>В этом примере мы добавляем класс Pagination из библиотеки flask_paginate, и используем его для определения параметров страницы и количества элементов на странице. Мы затем передаем эту информацию в нашу функцию, которая загружает данные из базы данных и использует их для создания экземпляра нашего класса таблицы. Мы также передаем объект пагинации в наш шаблон для отображения навигации по страницам.</p> <p>В шаблоне, мы используем переменную pagination для отображения ссылок на страницы и экземпляров класса таблицы для отображения данных.</p> <h1 id="напиши-пример-как-в-flask-table-сделать-пагинацию-и-напиши-что-находится-в-шаблоне"><a class="header-anchor" href="#напиши-пример-как-в-flask-table-сделать-пагинацию-и-напиши-что-находится-в-шаблоне">#</a> напиши пример как в Flask-Table сделать пагинацию и напиши что находится в шаблоне</h1> <p>Пример кода Flask-Table с пагинацией:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> render_template
<span class="token keyword">from</span> flask_table <span class="token keyword">import</span> Table<span class="token punctuation">,</span> Col
<span class="token keyword">from</span> flask_paginate <span class="token keyword">import</span> Pagination<span class="token punctuation">,</span> get_page_parameter

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>

<span class="token comment"># example data</span>
<span class="token keyword">class</span> <span class="token class-name">Item</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> description<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>description <span class="token operator">=</span> description

items <span class="token operator">=</span> <span class="token punctuation">[</span>Item<span class="token punctuation">(</span><span class="token string">'Name1'</span><span class="token punctuation">,</span> <span class="token string">'Description1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name2'</span><span class="token punctuation">,</span> <span class="token string">'Description2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name3'</span><span class="token punctuation">,</span> <span class="token string">'Description3'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name4'</span><span class="token punctuation">,</span> <span class="token string">'Description4'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name5'</span><span class="token punctuation">,</span> <span class="token string">'Description5'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name6'</span><span class="token punctuation">,</span> <span class="token string">'Description6'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name7'</span><span class="token punctuation">,</span> <span class="token string">'Description7'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name8'</span><span class="token punctuation">,</span> <span class="token string">'Description8'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name9'</span><span class="token punctuation">,</span> <span class="token string">'Description9'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name10'</span><span class="token punctuation">,</span> <span class="token string">'Description10'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name11'</span><span class="token punctuation">,</span> <span class="token string">'Description11'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name12'</span><span class="token punctuation">,</span> <span class="token string">'Description12'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name13'</span><span class="token punctuation">,</span> <span class="token string">'Description13'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name14'</span><span class="token punctuation">,</span> <span class="token string">'Description14'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name15'</span><span class="token punctuation">,</span> <span class="token string">'Description15'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name16'</span><span class="token punctuation">,</span> <span class="token string">'Description16'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name17'</span><span class="token punctuation">,</span> <span class="token string">'Description17'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name18'</span><span class="token punctuation">,</span> <span class="token string">'Description18'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name19'</span><span class="token punctuation">,</span> <span class="token string">'Description19'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         Item<span class="token punctuation">(</span><span class="token string">'Name20'</span><span class="token punctuation">,</span> <span class="token string">'Description20'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token comment"># Flask-Table</span>
<span class="token keyword">class</span> <span class="token class-name">ItemTable</span><span class="token punctuation">(</span>Table<span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> Col<span class="token punctuation">(</span><span class="token string">'Name'</span><span class="token punctuation">)</span>
    description <span class="token operator">=</span> Col<span class="token punctuation">(</span><span class="token string">'Description'</span><span class="token punctuation">)</span>

<span class="token comment"># Flask-Paginate</span>
<span class="token keyword">def</span> <span class="token function">get_items</span><span class="token punctuation">(</span>offset<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> per_page<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> items<span class="token punctuation">[</span>offset<span class="token punctuation">:</span> offset <span class="token operator">+</span> per_page<span class="token punctuation">]</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    page <span class="token operator">=</span> <span class="token builtin">int</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>args<span class="token punctuation">.</span>get<span class="token punctuation">(</span>get_page_parameter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    per_page <span class="token operator">=</span> <span class="token number">5</span>
    offset <span class="token operator">=</span> <span class="token punctuation">(</span>page <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> per_page
    pagination_items <span class="token operator">=</span> get_items<span class="token punctuation">(</span>offset<span class="token operator">=</span>offset<span class="token punctuation">,</span> per_page<span class="token operator">=</span>per_page<span class="token punctuation">)</span>
    
    table <span class="token operator">=</span> ItemTable<span class="token punctuation">(</span>pagination_items<span class="token punctuation">)</span>
    table<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token boolean">True</span>

    pagination <span class="token operator">=</span> Pagination<span class="token punctuation">(</span>page<span class="token operator">=</span>page<span class="token punctuation">,</span>
                            total<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span><span class="token punctuation">,</span>
                            per_page<span class="token operator">=</span>per_page<span class="token punctuation">,</span>
                            search<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>
                            css_framework<span class="token operator">=</span><span class="token string">'bootstrap4'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span> table<span class="token operator">=</span>table<span class="token punctuation">,</span> pagination<span class="token operator">=</span>pagination<span class="token punctuation">)</span>
</code></pre></div><p>В шаблоне <code>index.html</code> находится код для отображения таблицы и блока с пагинацией:</p> <div class="language-html extra-class"><pre v-pre="" class="language-html"><code>{% extends 'base.html' %}

{% block title %}
    Flask-Table with Pagination
{% endblock %}

{% block content %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container mt-5<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    {{ table }}
    {{ pagination.links }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
{% endblock %}
</code></pre></div><p><code>{{ table }}</code> отображает таблицу, а <code>{{ pagination.links }}</code> - блок с ссылками на страницы. Оба этих компонента формируются в Python коде при помощи Flask-Table и Flask-Paginate.</p> <h1 id="напиши-пример-для-flask-и-sqlalchemy-добавления-элементов-в-бд-удаления-и-обновления"><a class="header-anchor" href="#напиши-пример-для-flask-и-sqlalchemy-добавления-элементов-в-бд-удаления-и-обновления">#</a> напиши пример для flask и sqlalchemy добавления элементов в БД, удаления и обновления</h1> <p>Добавление элемента в БД:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span> request
<span class="token keyword">from</span> flask_sqlalchemy <span class="token keyword">import</span> SQLAlchemy

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'SQLALCHEMY_DATABASE_URI'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'sqlite:///mydb.sqlite3'</span>
db <span class="token operator">=</span> SQLAlchemy<span class="token punctuation">(</span>app<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">id</span> <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    email <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/add_user'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'POST'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">add_user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    name <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>
    email <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span>
    user <span class="token operator">=</span> User<span class="token punctuation">(</span>name<span class="token operator">=</span>name<span class="token punctuation">,</span> email<span class="token operator">=</span>email<span class="token punctuation">)</span>
    db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>add<span class="token punctuation">(</span>user<span class="token punctuation">)</span>
    db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">'User added successfully'</span>
</code></pre></div><p>Удаление элемента из БД:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/delete_user/&lt;user_id&gt;'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'DELETE'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">delete_user</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
    user <span class="token operator">=</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>get<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
    db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>user<span class="token punctuation">)</span>
    db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">'User deleted successfully'</span>
</code></pre></div><p>Обновление элемента в БД:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/update_user/&lt;user_id&gt;'</span><span class="token punctuation">,</span> methods<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'PUT'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">update_user</span><span class="token punctuation">(</span>user_id<span class="token punctuation">)</span><span class="token punctuation">:</span>
    user <span class="token operator">=</span> User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>get<span class="token punctuation">(</span>user_id<span class="token punctuation">)</span>
    name <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>
    email <span class="token operator">=</span> request<span class="token punctuation">.</span>form<span class="token punctuation">[</span><span class="token string">'email'</span><span class="token punctuation">]</span>
    user<span class="token punctuation">.</span>name <span class="token operator">=</span> name
    user<span class="token punctuation">.</span>email <span class="token operator">=</span> email
    db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token string">'User updated successfully'</span>
</code></pre></div><h1 id="напиши-пример-для-flask-и-sqlalchemy-как-удалить-все-элементы-из-таблицы"><a class="header-anchor" href="#напиши-пример-для-flask-и-sqlalchemy-как-удалить-все-элементы-из-таблицы">#</a> напиши пример для flask и sqlalchemy как удалить все элементы из таблицы</h1> <p>Вот пример кода, который удаляет все записи из таблицы используя Flask и SQLAlchemy:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask
<span class="token keyword">from</span> flask_sqlalchemy <span class="token keyword">import</span> SQLAlchemy

app <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
app<span class="token punctuation">.</span>config<span class="token punctuation">[</span><span class="token string">'SQLALCHEMY_DATABASE_URI'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'sqlite:///example.db'</span> <span class="token comment"># замените на свой URI</span>
db <span class="token operator">=</span> SQLAlchemy<span class="token punctuation">(</span>app<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token builtin">id</span> <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>Integer<span class="token punctuation">,</span> primary_key<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    name <span class="token operator">=</span> db<span class="token punctuation">.</span>Column<span class="token punctuation">(</span>db<span class="token punctuation">.</span>String<span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unique<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    db<span class="token punctuation">.</span>create_all<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># удаляем все записи из таблицы User</span>
    User<span class="token punctuation">.</span>query<span class="token punctuation">.</span>delete<span class="token punctuation">(</span><span class="token punctuation">)</span>

    db<span class="token punctuation">.</span>session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Все записи удалены'</span><span class="token punctuation">)</span>
</code></pre></div><p>В этом примере мы создаем таблицу User и удаляем все записи из нее с помощью метода <code>query.delete()</code>. После этого мы сохраняем изменения в базе данных с помощью метода <code>db.session.commit()</code>. Если все прошло успешно, то на экран будет выведено сообщение &quot;Все записи удалены&quot;.</p> <h1 id="flask-как-сделать-пагинацию-страниц"><a class="header-anchor" href="#flask-как-сделать-пагинацию-страниц">#</a> Flask, как сделать пагинацию страниц?</h1> <p>Установака : <code>pip install -U flask-paginate</code></p> <p>Вью:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    search <span class="token operator">=</span> <span class="token boolean">False</span>
    q <span class="token operator">=</span> request<span class="token punctuation">.</span>args<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'q'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> q<span class="token punctuation">:</span>
        search <span class="token operator">=</span> <span class="token boolean">True</span>

    page <span class="token operator">=</span> request<span class="token punctuation">.</span>args<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'page'</span><span class="token punctuation">,</span> <span class="token builtin">type</span><span class="token operator">=</span><span class="token builtin">int</span><span class="token punctuation">,</span> default<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

    users <span class="token operator">=</span> User<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    pagination <span class="token operator">=</span> Pagination<span class="token punctuation">(</span>page<span class="token operator">=</span>page<span class="token punctuation">,</span> total<span class="token operator">=</span>users<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> search<span class="token operator">=</span>search<span class="token punctuation">,</span> record_name<span class="token operator">=</span><span class="token string">'users'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'users/index.html'</span><span class="token punctuation">,</span>
                           users<span class="token operator">=</span>users<span class="token punctuation">,</span>
                           pagination<span class="token operator">=</span>pagination<span class="token punctuation">,</span>
                           <span class="token punctuation">)</span>
</code></pre></div><p>темплейт:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token punctuation">{</span><span class="token punctuation">{</span> pagination<span class="token punctuation">.</span>info <span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> pagination<span class="token punctuation">.</span>links <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><h1 id="python-flask-paginate-returning-too-many-results-on-page"><a class="header-anchor" href="#python-flask-paginate-returning-too-many-results-on-page">#</a> Python flask-paginate returning too many results on page</h1> <p>I see that you opted to use Flask-SQLAlchemy instead, but hopefully this answer will help someone else:</p> <p>You were almost there - you correctly captured page, per_page, and offset (there's actually a <a href="https://github.com/lixxu/flask-paginate/blob/master/example/app.py" target="_blank" rel="noopener noreferrer">built-in<OutboundLink></OutboundLink></a> for this, which you can import using <code>from flask_paginate import get_page_args</code>), but you also need to use the per_page and offset on your query. So in your example:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code>all_links <span class="token operator">=</span> Item<span class="token punctuation">.</span>query<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
links_for_render_template <span class="token operator">=</span> Item<span class="token punctuation">.</span>query<span class="token punctuation">.</span>limit<span class="token punctuation">(</span>per_page<span class="token punctuation">)</span><span class="token punctuation">.</span>offset<span class="token punctuation">(</span>offset<span class="token punctuation">)</span>
</code></pre></div><p>Here's a full example as well:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> flask_paginate <span class="token keyword">import</span> Pagination<span class="token punctuation">,</span> get_page_args

<span class="token decorator annotation punctuation">@search<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    page<span class="token punctuation">,</span> per_page<span class="token punctuation">,</span> offset <span class="token operator">=</span> get_page_args<span class="token punctuation">(</span><span class="token punctuation">)</span>
    all_links <span class="token operator">=</span> Item<span class="token punctuation">.</span>query<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    links_for_render_template <span class="token operator">=</span> Item<span class="token punctuation">.</span>query<span class="token punctuation">.</span>limit<span class="token punctuation">(</span>per_page<span class="token punctuation">)</span><span class="token punctuation">.</span>offset<span class="token punctuation">(</span>offset<span class="token punctuation">)</span>

    pagination <span class="token operator">=</span> get_pagination<span class="token punctuation">(</span>page<span class="token operator">=</span>page<span class="token punctuation">,</span> per_page<span class="token operator">=</span>per_page<span class="token punctuation">,</span> offset<span class="token operator">=</span>offset<span class="token punctuation">,</span> total<span class="token operator">=</span>all_links<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> record_name<span class="token operator">=</span><span class="token string">'links'</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'search/searchPage.html'</span><span class="token punctuation">,</span> links<span class="token operator">=</span>links_for_render_template<span class="token punctuation">,</span> pagination<span class="token operator">=</span>pagination<span class="token punctuation">)</span>
</code></pre></div><h1 id="напиши-пример-работы-flask-sqlalchemy-wtforms-где-радактируется-запись-базы-данных"><a class="header-anchor" href="#напиши-пример-работы-flask-sqlalchemy-wtforms-где-радактируется-запись-базы-данных">#</a> напиши пример работы flask, sqlalchemy, wtforms, где радактируется запись базы данных</h1> <p>Пример работы Flask, SQLAlchemy, WTForms в котором редактируется запись базы данных:</p> <ol><li>Создание модели базы данных:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>from flask_sqlalchemy import SQLAlchemy

db = SQLAlchemy()

class user(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(50))
    email = db.Column(db.String(100))
</code></pre></div><ol start="2"><li>Создание формы для редактирования записи в базе данных:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>from wtforms import Form, StringField, validators

class UserEditForm(Form):
    name = StringField('Name', [validators.DataRequired()])
    email = StringField('Email', [validators.DataRequired(), validators.Email()])
</code></pre></div><ol start="3"><li>Создание представления (view) для редактирования записи в базе данных:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>from flask import Flask, render_template, redirect, url_for
from flask_wtf import FlaskForm
from wtforms import StringField, SubmitField
from wtforms.validators import DataRequired
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///example.sqlite3'
app.config['SECRET_KEY'] = 'secret-key'
db = SQLAlchemy(app)

class User(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    name = db.Column(db.String(50))
    email = db.Column(db.String(50))

class UserForm(FlaskForm):
    name = StringField('Name', validators=[DataRequired()])
    email = StringField('Email', validators=[DataRequired()])
    submit = SubmitField('Save Changes')

@app.route('/edit/&lt;int:id&gt;', methods=['GET', 'POST'])
def edit_user(id):
    user = User.query.get(id) # get user by id
    form = UserForm(obj=user) # populate form with existing user data
    if form.validate_on_submit():
        form.populate_obj(user) # update user object with submitted form data
        db.session.commit() # save changes to database
        return redirect(url_for('users'))
    return render_template('edit_user.html', form=form, user=user)
</code></pre></div><ol start="4"><li>Создание шаблона (template) для страницы редактирования записи в базе данных:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>{% extends 'base.html' %}
{% block content %}
    &lt;h1&gt;Edit User&lt;/h1&gt;
    &lt;form method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;
        {{ form.csrf_token }}
        {{ form.name.label }} {{ form.name() }}&lt;br&gt;
        {{ form.email.label }} {{ form.email() }}&lt;br&gt;
        {{ form.submit() }}
    &lt;/form&gt;
{% endblock %}
</code></pre></div><p>В данном примере, когда пользователь переходит на страницу /edit/<a href="int:id">int:id</a>, мы получаем данные о пользователе из базы данных, заполняем форму предварительно сохраненными данными и отображаем форму на странице. Когда пользователь отправляет форму, мы обновляем объект пользователя с данными из формы и сохраняем изменения в базе данных. Если все прошло успешно, пользователь перенаправляется на страницу со списком пользователей в системе.</p> <h1 id="напиши-пример-для-sqlalchemy-удаления-жлемента-по-id"><a class="header-anchor" href="#напиши-пример-для-sqlalchemy-удаления-жлемента-по-id">#</a> напиши пример для sqlalchemy удаления жлемента по id</h1> <p>Ниже приведен пример кода SQLAlchemy для удаления записи из таблицы по заданному ID:</p> <div class="language-python extra-class"><pre v-pre="" class="language-python"><code><span class="token keyword">from</span> sqlalchemy <span class="token keyword">import</span> create_engine<span class="token punctuation">,</span> MetaData<span class="token punctuation">,</span> Table
<span class="token keyword">from</span> sqlalchemy<span class="token punctuation">.</span>orm <span class="token keyword">import</span> sessionmaker

<span class="token comment"># создаем подключение к базе данных</span>
engine <span class="token operator">=</span> create_engine<span class="token punctuation">(</span><span class="token string">'sqlite:///example.db'</span><span class="token punctuation">)</span>
metadata <span class="token operator">=</span> MetaData<span class="token punctuation">(</span>bind<span class="token operator">=</span>engine<span class="token punctuation">)</span>
Session <span class="token operator">=</span> sessionmaker<span class="token punctuation">(</span>bind<span class="token operator">=</span>engine<span class="token punctuation">)</span>
session <span class="token operator">=</span> Session<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># определяем таблицу</span>
my_table <span class="token operator">=</span> Table<span class="token punctuation">(</span><span class="token string">'my_table'</span><span class="token punctuation">,</span> metadata<span class="token punctuation">,</span> autoload<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># задаем ID записи, которую нужно удалить</span>
id_to_delete <span class="token operator">=</span> <span class="token number">42</span>

<span class="token comment"># получаем запись по ID</span>
record_to_delete <span class="token operator">=</span> my_table<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>where<span class="token punctuation">(</span>my_table<span class="token punctuation">.</span>c<span class="token punctuation">.</span><span class="token builtin">id</span> <span class="token operator">==</span> id_to_delete<span class="token punctuation">)</span><span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fetchone<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> record_to_delete<span class="token punctuation">:</span>
    <span class="token comment"># удаляем запись</span>
    session<span class="token punctuation">.</span>delete<span class="token punctuation">(</span>record_to_delete<span class="token punctuation">)</span>
    session<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Запись с ID </span><span class="token interpolation"><span class="token punctuation">{</span>id_to_delete<span class="token punctuation">}</span></span><span class="token string"> удалена успешно.'</span></span><span class="token punctuation">)</span>
<span class="token keyword">else</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f'Запись с ID </span><span class="token interpolation"><span class="token punctuation">{</span>id_to_delete<span class="token punctuation">}</span></span><span class="token string"> не найдена.'</span></span><span class="token punctuation">)</span>
</code></pre></div><p>В этом примере мы используем объект <code>Table</code> для получения записи из таблицы <code>my_table</code> по заданному ID, а затем удаляем эту запись из базы данных, используя метод <code>delete</code> объекта <code>session</code>. Обратите внимание, что мы сначала проверяем, найдена ли запись с заданным ID, чтобы избежать ошибки при попытке удалить несуществующую запись.</p> <p>{% endraw %}</p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/doc_notes/assets/js/app.d7b7570d.js" defer></script><script src="/doc_notes/assets/js/2.733019b2.js" defer></script><script src="/doc_notes/assets/js/271.b6fdb998.js" defer></script>
  </body>
</html>
