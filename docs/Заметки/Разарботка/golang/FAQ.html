<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Obsidian notes</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Obsidian notes">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/doc_notes/assets/css/0.styles.60b82a90.css" as="style"><link rel="preload" href="/doc_notes/assets/js/app.d7b7570d.js" as="script"><link rel="preload" href="/doc_notes/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/doc_notes/assets/js/177.6e464bd5.js" as="script"><link rel="prefetch" href="/doc_notes/assets/js/10.466a3961.js"><link rel="prefetch" href="/doc_notes/assets/js/100.eed12daa.js"><link rel="prefetch" href="/doc_notes/assets/js/101.c2c72797.js"><link rel="prefetch" href="/doc_notes/assets/js/102.3a5b3674.js"><link rel="prefetch" href="/doc_notes/assets/js/103.4df54047.js"><link rel="prefetch" href="/doc_notes/assets/js/104.4e3d031e.js"><link rel="prefetch" href="/doc_notes/assets/js/105.fb56ad64.js"><link rel="prefetch" href="/doc_notes/assets/js/106.4cd1492c.js"><link rel="prefetch" href="/doc_notes/assets/js/107.a916259a.js"><link rel="prefetch" href="/doc_notes/assets/js/108.dfbcdb35.js"><link rel="prefetch" href="/doc_notes/assets/js/109.b85d5957.js"><link rel="prefetch" href="/doc_notes/assets/js/11.70fc3590.js"><link rel="prefetch" href="/doc_notes/assets/js/110.dc40183f.js"><link rel="prefetch" href="/doc_notes/assets/js/111.a9f83101.js"><link rel="prefetch" href="/doc_notes/assets/js/112.1b402c16.js"><link rel="prefetch" href="/doc_notes/assets/js/113.89928947.js"><link rel="prefetch" href="/doc_notes/assets/js/114.8be0db96.js"><link rel="prefetch" href="/doc_notes/assets/js/115.bd9e24bd.js"><link rel="prefetch" href="/doc_notes/assets/js/116.1979db39.js"><link rel="prefetch" href="/doc_notes/assets/js/117.7a439523.js"><link rel="prefetch" href="/doc_notes/assets/js/118.680aed03.js"><link rel="prefetch" href="/doc_notes/assets/js/119.dfdba03a.js"><link rel="prefetch" href="/doc_notes/assets/js/12.0f945969.js"><link rel="prefetch" href="/doc_notes/assets/js/120.37c405a9.js"><link rel="prefetch" href="/doc_notes/assets/js/121.672a368b.js"><link rel="prefetch" href="/doc_notes/assets/js/122.f1b5fad1.js"><link rel="prefetch" href="/doc_notes/assets/js/123.b0d4c3db.js"><link rel="prefetch" href="/doc_notes/assets/js/124.7f08733e.js"><link rel="prefetch" href="/doc_notes/assets/js/125.619db48f.js"><link rel="prefetch" href="/doc_notes/assets/js/126.048ed0c7.js"><link rel="prefetch" href="/doc_notes/assets/js/127.cc65fb73.js"><link rel="prefetch" href="/doc_notes/assets/js/128.27591c7f.js"><link rel="prefetch" href="/doc_notes/assets/js/129.e848d5ea.js"><link rel="prefetch" href="/doc_notes/assets/js/13.353aee93.js"><link rel="prefetch" href="/doc_notes/assets/js/130.0b6325e2.js"><link rel="prefetch" href="/doc_notes/assets/js/131.a4a8dc74.js"><link rel="prefetch" href="/doc_notes/assets/js/132.f78488ea.js"><link rel="prefetch" href="/doc_notes/assets/js/133.2c57ab36.js"><link rel="prefetch" href="/doc_notes/assets/js/134.c041a644.js"><link rel="prefetch" href="/doc_notes/assets/js/135.dd89210d.js"><link rel="prefetch" href="/doc_notes/assets/js/136.127b0247.js"><link rel="prefetch" href="/doc_notes/assets/js/137.1ff783eb.js"><link rel="prefetch" href="/doc_notes/assets/js/138.e72eaf60.js"><link rel="prefetch" href="/doc_notes/assets/js/139.135c74d8.js"><link rel="prefetch" href="/doc_notes/assets/js/14.a3283f94.js"><link rel="prefetch" href="/doc_notes/assets/js/140.4a7f191d.js"><link rel="prefetch" href="/doc_notes/assets/js/141.fa563aa9.js"><link rel="prefetch" href="/doc_notes/assets/js/142.266c8a69.js"><link rel="prefetch" href="/doc_notes/assets/js/143.3c3e596e.js"><link rel="prefetch" href="/doc_notes/assets/js/144.46a5cdc6.js"><link rel="prefetch" href="/doc_notes/assets/js/145.c33d2f51.js"><link rel="prefetch" href="/doc_notes/assets/js/146.ecf9ffa3.js"><link rel="prefetch" href="/doc_notes/assets/js/147.ecc8f162.js"><link rel="prefetch" href="/doc_notes/assets/js/148.57a0cc2c.js"><link rel="prefetch" href="/doc_notes/assets/js/149.243334a6.js"><link rel="prefetch" href="/doc_notes/assets/js/15.c66e3407.js"><link rel="prefetch" href="/doc_notes/assets/js/150.6811595e.js"><link rel="prefetch" href="/doc_notes/assets/js/151.a1b33f48.js"><link rel="prefetch" href="/doc_notes/assets/js/152.754c44e2.js"><link rel="prefetch" href="/doc_notes/assets/js/153.b6b30dd0.js"><link rel="prefetch" href="/doc_notes/assets/js/154.78d410b8.js"><link rel="prefetch" href="/doc_notes/assets/js/155.767f3fb1.js"><link rel="prefetch" href="/doc_notes/assets/js/156.f9095760.js"><link rel="prefetch" href="/doc_notes/assets/js/157.c538a726.js"><link rel="prefetch" href="/doc_notes/assets/js/158.9835a2a3.js"><link rel="prefetch" href="/doc_notes/assets/js/159.9d7c5a05.js"><link rel="prefetch" href="/doc_notes/assets/js/16.e7ecc933.js"><link rel="prefetch" href="/doc_notes/assets/js/160.addf636e.js"><link rel="prefetch" href="/doc_notes/assets/js/161.b9499ae3.js"><link rel="prefetch" href="/doc_notes/assets/js/162.9ebe738a.js"><link rel="prefetch" href="/doc_notes/assets/js/163.4860d1e7.js"><link rel="prefetch" href="/doc_notes/assets/js/164.148cebf3.js"><link rel="prefetch" href="/doc_notes/assets/js/165.41046f67.js"><link rel="prefetch" href="/doc_notes/assets/js/166.6deaed29.js"><link rel="prefetch" href="/doc_notes/assets/js/167.6d02a205.js"><link rel="prefetch" href="/doc_notes/assets/js/168.c86d38a7.js"><link rel="prefetch" href="/doc_notes/assets/js/169.eb313225.js"><link rel="prefetch" href="/doc_notes/assets/js/17.65a71bb5.js"><link rel="prefetch" href="/doc_notes/assets/js/170.889855cd.js"><link rel="prefetch" href="/doc_notes/assets/js/171.b95cf306.js"><link rel="prefetch" href="/doc_notes/assets/js/172.0b1e5fe3.js"><link rel="prefetch" href="/doc_notes/assets/js/173.99679181.js"><link rel="prefetch" href="/doc_notes/assets/js/174.f28ad52f.js"><link rel="prefetch" href="/doc_notes/assets/js/175.1c1f371e.js"><link rel="prefetch" href="/doc_notes/assets/js/176.662a9d28.js"><link rel="prefetch" href="/doc_notes/assets/js/178.102c88e4.js"><link rel="prefetch" href="/doc_notes/assets/js/179.dddab088.js"><link rel="prefetch" href="/doc_notes/assets/js/18.8fedcbac.js"><link rel="prefetch" href="/doc_notes/assets/js/180.345e741e.js"><link rel="prefetch" href="/doc_notes/assets/js/181.59db7110.js"><link rel="prefetch" href="/doc_notes/assets/js/182.7f628252.js"><link rel="prefetch" href="/doc_notes/assets/js/183.e8653839.js"><link rel="prefetch" href="/doc_notes/assets/js/184.3eec36ec.js"><link rel="prefetch" href="/doc_notes/assets/js/185.cb0c13d5.js"><link rel="prefetch" href="/doc_notes/assets/js/186.1ccbe1a2.js"><link rel="prefetch" href="/doc_notes/assets/js/187.55e6bc99.js"><link rel="prefetch" href="/doc_notes/assets/js/188.1829998b.js"><link rel="prefetch" href="/doc_notes/assets/js/189.e86e8099.js"><link rel="prefetch" href="/doc_notes/assets/js/19.8fd4f833.js"><link rel="prefetch" href="/doc_notes/assets/js/190.3263ca68.js"><link rel="prefetch" href="/doc_notes/assets/js/191.6973d93a.js"><link rel="prefetch" href="/doc_notes/assets/js/192.8c648d4c.js"><link rel="prefetch" href="/doc_notes/assets/js/193.135dc6c4.js"><link rel="prefetch" href="/doc_notes/assets/js/194.2387809d.js"><link rel="prefetch" href="/doc_notes/assets/js/195.4e094a48.js"><link rel="prefetch" href="/doc_notes/assets/js/196.faae151e.js"><link rel="prefetch" href="/doc_notes/assets/js/197.6ca84b2f.js"><link rel="prefetch" href="/doc_notes/assets/js/198.99d5a7c7.js"><link rel="prefetch" href="/doc_notes/assets/js/199.5ac6f260.js"><link rel="prefetch" href="/doc_notes/assets/js/20.b7871733.js"><link rel="prefetch" href="/doc_notes/assets/js/200.434715d2.js"><link rel="prefetch" href="/doc_notes/assets/js/201.df5e4553.js"><link rel="prefetch" href="/doc_notes/assets/js/202.4f5738c7.js"><link rel="prefetch" href="/doc_notes/assets/js/203.7bdee8f2.js"><link rel="prefetch" href="/doc_notes/assets/js/204.5b4e69e3.js"><link rel="prefetch" href="/doc_notes/assets/js/205.58586a6e.js"><link rel="prefetch" href="/doc_notes/assets/js/206.b5603313.js"><link rel="prefetch" href="/doc_notes/assets/js/207.e1a4577a.js"><link rel="prefetch" href="/doc_notes/assets/js/208.2369d699.js"><link rel="prefetch" href="/doc_notes/assets/js/209.baadeea1.js"><link rel="prefetch" href="/doc_notes/assets/js/21.1cff06fb.js"><link rel="prefetch" href="/doc_notes/assets/js/210.2b107173.js"><link rel="prefetch" href="/doc_notes/assets/js/211.c8eea835.js"><link rel="prefetch" href="/doc_notes/assets/js/212.1fae6417.js"><link rel="prefetch" href="/doc_notes/assets/js/213.5696d97f.js"><link rel="prefetch" href="/doc_notes/assets/js/214.bbd783da.js"><link rel="prefetch" href="/doc_notes/assets/js/215.1c0c350c.js"><link rel="prefetch" href="/doc_notes/assets/js/216.498044dc.js"><link rel="prefetch" href="/doc_notes/assets/js/217.319f81c6.js"><link rel="prefetch" href="/doc_notes/assets/js/218.8911d413.js"><link rel="prefetch" href="/doc_notes/assets/js/219.f37e96ea.js"><link rel="prefetch" href="/doc_notes/assets/js/22.2cd72a62.js"><link rel="prefetch" href="/doc_notes/assets/js/220.b5ac8e75.js"><link rel="prefetch" href="/doc_notes/assets/js/221.cde91cfa.js"><link rel="prefetch" href="/doc_notes/assets/js/222.df059246.js"><link rel="prefetch" href="/doc_notes/assets/js/223.3ce433b3.js"><link rel="prefetch" href="/doc_notes/assets/js/224.36f2c1ff.js"><link rel="prefetch" href="/doc_notes/assets/js/225.fbee00f9.js"><link rel="prefetch" href="/doc_notes/assets/js/226.306f0e70.js"><link rel="prefetch" href="/doc_notes/assets/js/227.4e7373a0.js"><link rel="prefetch" href="/doc_notes/assets/js/228.44fd0171.js"><link rel="prefetch" href="/doc_notes/assets/js/229.f832a1d6.js"><link rel="prefetch" href="/doc_notes/assets/js/23.e9957abc.js"><link rel="prefetch" href="/doc_notes/assets/js/230.043a91e9.js"><link rel="prefetch" href="/doc_notes/assets/js/231.7616cdd1.js"><link rel="prefetch" href="/doc_notes/assets/js/232.c3eb262d.js"><link rel="prefetch" href="/doc_notes/assets/js/233.645ff598.js"><link rel="prefetch" href="/doc_notes/assets/js/234.bb763bdf.js"><link rel="prefetch" href="/doc_notes/assets/js/235.f6724c17.js"><link rel="prefetch" href="/doc_notes/assets/js/236.2fe5969c.js"><link rel="prefetch" href="/doc_notes/assets/js/237.c379ae13.js"><link rel="prefetch" href="/doc_notes/assets/js/238.bc474d07.js"><link rel="prefetch" href="/doc_notes/assets/js/239.b4b3094b.js"><link rel="prefetch" href="/doc_notes/assets/js/24.e4e0f07a.js"><link rel="prefetch" href="/doc_notes/assets/js/240.b7298fad.js"><link rel="prefetch" href="/doc_notes/assets/js/241.edc191c3.js"><link rel="prefetch" href="/doc_notes/assets/js/242.d79274ed.js"><link rel="prefetch" href="/doc_notes/assets/js/243.db97328a.js"><link rel="prefetch" href="/doc_notes/assets/js/244.68cd4704.js"><link rel="prefetch" href="/doc_notes/assets/js/245.f501295b.js"><link rel="prefetch" href="/doc_notes/assets/js/246.ddc4d5d9.js"><link rel="prefetch" href="/doc_notes/assets/js/247.ff22cc5b.js"><link rel="prefetch" href="/doc_notes/assets/js/248.4a61cd51.js"><link rel="prefetch" href="/doc_notes/assets/js/249.be49f5ca.js"><link rel="prefetch" href="/doc_notes/assets/js/25.c7ae079a.js"><link rel="prefetch" href="/doc_notes/assets/js/250.43caa09e.js"><link rel="prefetch" href="/doc_notes/assets/js/251.26d5a6e9.js"><link rel="prefetch" href="/doc_notes/assets/js/252.b3bcf0c8.js"><link rel="prefetch" href="/doc_notes/assets/js/253.1a1b2b11.js"><link rel="prefetch" href="/doc_notes/assets/js/254.1c4090ef.js"><link rel="prefetch" href="/doc_notes/assets/js/255.a49e9f41.js"><link rel="prefetch" href="/doc_notes/assets/js/256.78de4e85.js"><link rel="prefetch" href="/doc_notes/assets/js/257.3f3d8408.js"><link rel="prefetch" href="/doc_notes/assets/js/258.2a59b276.js"><link rel="prefetch" href="/doc_notes/assets/js/259.8916e4fc.js"><link rel="prefetch" href="/doc_notes/assets/js/26.1ae4ceb3.js"><link rel="prefetch" href="/doc_notes/assets/js/260.9e38f578.js"><link rel="prefetch" href="/doc_notes/assets/js/261.bb658a8a.js"><link rel="prefetch" href="/doc_notes/assets/js/262.e3dc3020.js"><link rel="prefetch" href="/doc_notes/assets/js/263.f1020a9b.js"><link rel="prefetch" href="/doc_notes/assets/js/264.b8f1ff3a.js"><link rel="prefetch" href="/doc_notes/assets/js/265.d3eb13d8.js"><link rel="prefetch" href="/doc_notes/assets/js/266.f27ca21b.js"><link rel="prefetch" href="/doc_notes/assets/js/267.338c834f.js"><link rel="prefetch" href="/doc_notes/assets/js/268.b9ebda2b.js"><link rel="prefetch" href="/doc_notes/assets/js/269.dc7525cf.js"><link rel="prefetch" href="/doc_notes/assets/js/27.42caa565.js"><link rel="prefetch" href="/doc_notes/assets/js/270.137ed51c.js"><link rel="prefetch" href="/doc_notes/assets/js/271.b6fdb998.js"><link rel="prefetch" href="/doc_notes/assets/js/272.ddc1ee03.js"><link rel="prefetch" href="/doc_notes/assets/js/273.df6133aa.js"><link rel="prefetch" href="/doc_notes/assets/js/274.9115305d.js"><link rel="prefetch" href="/doc_notes/assets/js/275.13342d76.js"><link rel="prefetch" href="/doc_notes/assets/js/276.a9e1f1ec.js"><link rel="prefetch" href="/doc_notes/assets/js/277.f2728f30.js"><link rel="prefetch" href="/doc_notes/assets/js/278.7e726870.js"><link rel="prefetch" href="/doc_notes/assets/js/279.648ad6bd.js"><link rel="prefetch" href="/doc_notes/assets/js/28.45f1bbb9.js"><link rel="prefetch" href="/doc_notes/assets/js/280.720a2918.js"><link rel="prefetch" href="/doc_notes/assets/js/281.5a2d475b.js"><link rel="prefetch" href="/doc_notes/assets/js/282.62bc635b.js"><link rel="prefetch" href="/doc_notes/assets/js/283.ff6be5f5.js"><link rel="prefetch" href="/doc_notes/assets/js/284.3f7c0af1.js"><link rel="prefetch" href="/doc_notes/assets/js/285.c2f51624.js"><link rel="prefetch" href="/doc_notes/assets/js/286.a5b99138.js"><link rel="prefetch" href="/doc_notes/assets/js/287.829ac9bd.js"><link rel="prefetch" href="/doc_notes/assets/js/288.54aabaae.js"><link rel="prefetch" href="/doc_notes/assets/js/289.71b4d090.js"><link rel="prefetch" href="/doc_notes/assets/js/29.0fdf0aa1.js"><link rel="prefetch" href="/doc_notes/assets/js/290.df175e90.js"><link rel="prefetch" href="/doc_notes/assets/js/291.014245fe.js"><link rel="prefetch" href="/doc_notes/assets/js/292.8d375ce2.js"><link rel="prefetch" href="/doc_notes/assets/js/293.8591ceba.js"><link rel="prefetch" href="/doc_notes/assets/js/294.d979d20b.js"><link rel="prefetch" href="/doc_notes/assets/js/295.372c2d39.js"><link rel="prefetch" href="/doc_notes/assets/js/296.07d572ab.js"><link rel="prefetch" href="/doc_notes/assets/js/297.5de1073e.js"><link rel="prefetch" href="/doc_notes/assets/js/298.5a6ac1ca.js"><link rel="prefetch" href="/doc_notes/assets/js/299.e87a7ab3.js"><link rel="prefetch" href="/doc_notes/assets/js/3.8087b6c9.js"><link rel="prefetch" href="/doc_notes/assets/js/30.33c143cb.js"><link rel="prefetch" href="/doc_notes/assets/js/300.c011f877.js"><link rel="prefetch" href="/doc_notes/assets/js/301.479875ba.js"><link rel="prefetch" href="/doc_notes/assets/js/302.fe22cf89.js"><link rel="prefetch" href="/doc_notes/assets/js/303.fe59bc5d.js"><link rel="prefetch" href="/doc_notes/assets/js/304.17566e0f.js"><link rel="prefetch" href="/doc_notes/assets/js/305.235d62da.js"><link rel="prefetch" href="/doc_notes/assets/js/306.6a899aaa.js"><link rel="prefetch" href="/doc_notes/assets/js/307.a6302576.js"><link rel="prefetch" href="/doc_notes/assets/js/308.53d18516.js"><link rel="prefetch" href="/doc_notes/assets/js/309.44746635.js"><link rel="prefetch" href="/doc_notes/assets/js/31.f3c83a33.js"><link rel="prefetch" href="/doc_notes/assets/js/310.2b0b41b5.js"><link rel="prefetch" href="/doc_notes/assets/js/311.a2425d85.js"><link rel="prefetch" href="/doc_notes/assets/js/312.ee8bb224.js"><link rel="prefetch" href="/doc_notes/assets/js/313.cdb7a074.js"><link rel="prefetch" href="/doc_notes/assets/js/314.5c46337b.js"><link rel="prefetch" href="/doc_notes/assets/js/315.d2f5d6ef.js"><link rel="prefetch" href="/doc_notes/assets/js/316.1d1b10d7.js"><link rel="prefetch" href="/doc_notes/assets/js/317.18978adf.js"><link rel="prefetch" href="/doc_notes/assets/js/318.725aaa9e.js"><link rel="prefetch" href="/doc_notes/assets/js/319.10c27323.js"><link rel="prefetch" href="/doc_notes/assets/js/32.2e4a5d25.js"><link rel="prefetch" href="/doc_notes/assets/js/320.be122112.js"><link rel="prefetch" href="/doc_notes/assets/js/321.21d59327.js"><link rel="prefetch" href="/doc_notes/assets/js/322.1c7aa8b5.js"><link rel="prefetch" href="/doc_notes/assets/js/323.61f2e664.js"><link rel="prefetch" href="/doc_notes/assets/js/324.d5ef212c.js"><link rel="prefetch" href="/doc_notes/assets/js/325.8dcaad1a.js"><link rel="prefetch" href="/doc_notes/assets/js/326.27ae755d.js"><link rel="prefetch" href="/doc_notes/assets/js/327.23295181.js"><link rel="prefetch" href="/doc_notes/assets/js/328.b1038029.js"><link rel="prefetch" href="/doc_notes/assets/js/329.685f438a.js"><link rel="prefetch" href="/doc_notes/assets/js/33.78d67de4.js"><link rel="prefetch" href="/doc_notes/assets/js/330.29d01e38.js"><link rel="prefetch" href="/doc_notes/assets/js/331.56ede5a6.js"><link rel="prefetch" href="/doc_notes/assets/js/332.26f5337e.js"><link rel="prefetch" href="/doc_notes/assets/js/333.7a1b5bed.js"><link rel="prefetch" href="/doc_notes/assets/js/334.ccc83ffa.js"><link rel="prefetch" href="/doc_notes/assets/js/335.dd4d24f2.js"><link rel="prefetch" href="/doc_notes/assets/js/336.5cd8a3be.js"><link rel="prefetch" href="/doc_notes/assets/js/337.725cd669.js"><link rel="prefetch" href="/doc_notes/assets/js/338.ca370789.js"><link rel="prefetch" href="/doc_notes/assets/js/339.4db35fe1.js"><link rel="prefetch" href="/doc_notes/assets/js/34.10602eab.js"><link rel="prefetch" href="/doc_notes/assets/js/340.11e5684e.js"><link rel="prefetch" href="/doc_notes/assets/js/341.87af888b.js"><link rel="prefetch" href="/doc_notes/assets/js/342.6288246d.js"><link rel="prefetch" href="/doc_notes/assets/js/343.10836901.js"><link rel="prefetch" href="/doc_notes/assets/js/344.85db1640.js"><link rel="prefetch" href="/doc_notes/assets/js/345.f1a97cf1.js"><link rel="prefetch" href="/doc_notes/assets/js/346.dd502824.js"><link rel="prefetch" href="/doc_notes/assets/js/347.b211385a.js"><link rel="prefetch" href="/doc_notes/assets/js/348.f255c270.js"><link rel="prefetch" href="/doc_notes/assets/js/349.36014517.js"><link rel="prefetch" href="/doc_notes/assets/js/35.03fbbb65.js"><link rel="prefetch" href="/doc_notes/assets/js/350.817bd0e1.js"><link rel="prefetch" href="/doc_notes/assets/js/351.abf45be4.js"><link rel="prefetch" href="/doc_notes/assets/js/352.4254451f.js"><link rel="prefetch" href="/doc_notes/assets/js/353.c0b15b9d.js"><link rel="prefetch" href="/doc_notes/assets/js/354.d725c37e.js"><link rel="prefetch" href="/doc_notes/assets/js/355.10f1ce9b.js"><link rel="prefetch" href="/doc_notes/assets/js/356.a5e2bfda.js"><link rel="prefetch" href="/doc_notes/assets/js/357.80f39a19.js"><link rel="prefetch" href="/doc_notes/assets/js/358.5c69b1d1.js"><link rel="prefetch" href="/doc_notes/assets/js/359.12d21c81.js"><link rel="prefetch" href="/doc_notes/assets/js/36.aa74ba81.js"><link rel="prefetch" href="/doc_notes/assets/js/360.1183658a.js"><link rel="prefetch" href="/doc_notes/assets/js/361.33b745b6.js"><link rel="prefetch" href="/doc_notes/assets/js/362.a56596c0.js"><link rel="prefetch" href="/doc_notes/assets/js/363.1fadef9e.js"><link rel="prefetch" href="/doc_notes/assets/js/364.e43e06a1.js"><link rel="prefetch" href="/doc_notes/assets/js/365.1b191379.js"><link rel="prefetch" href="/doc_notes/assets/js/366.77112bc2.js"><link rel="prefetch" href="/doc_notes/assets/js/367.cbbf1410.js"><link rel="prefetch" href="/doc_notes/assets/js/368.6e4af412.js"><link rel="prefetch" href="/doc_notes/assets/js/369.9d8214a4.js"><link rel="prefetch" href="/doc_notes/assets/js/37.bad965a6.js"><link rel="prefetch" href="/doc_notes/assets/js/370.5dcbc931.js"><link rel="prefetch" href="/doc_notes/assets/js/371.3e798a72.js"><link rel="prefetch" href="/doc_notes/assets/js/372.99fbe027.js"><link rel="prefetch" href="/doc_notes/assets/js/373.783fc78c.js"><link rel="prefetch" href="/doc_notes/assets/js/374.8fc2e9fe.js"><link rel="prefetch" href="/doc_notes/assets/js/375.2831b29c.js"><link rel="prefetch" href="/doc_notes/assets/js/376.8a690d9f.js"><link rel="prefetch" href="/doc_notes/assets/js/377.c6401c22.js"><link rel="prefetch" href="/doc_notes/assets/js/38.57a79422.js"><link rel="prefetch" href="/doc_notes/assets/js/39.7ab71035.js"><link rel="prefetch" href="/doc_notes/assets/js/4.da3ef268.js"><link rel="prefetch" href="/doc_notes/assets/js/40.ffa22594.js"><link rel="prefetch" href="/doc_notes/assets/js/41.b2fc54d1.js"><link rel="prefetch" href="/doc_notes/assets/js/42.c43bc930.js"><link rel="prefetch" href="/doc_notes/assets/js/43.5c93d7a1.js"><link rel="prefetch" href="/doc_notes/assets/js/44.605a54a6.js"><link rel="prefetch" href="/doc_notes/assets/js/45.f85a75a3.js"><link rel="prefetch" href="/doc_notes/assets/js/46.2cd25346.js"><link rel="prefetch" href="/doc_notes/assets/js/47.93f7d1a6.js"><link rel="prefetch" href="/doc_notes/assets/js/48.7fd0b6dc.js"><link rel="prefetch" href="/doc_notes/assets/js/49.c64bb839.js"><link rel="prefetch" href="/doc_notes/assets/js/5.dac787d8.js"><link rel="prefetch" href="/doc_notes/assets/js/50.d2fe7364.js"><link rel="prefetch" href="/doc_notes/assets/js/51.b9189617.js"><link rel="prefetch" href="/doc_notes/assets/js/52.4689b562.js"><link rel="prefetch" href="/doc_notes/assets/js/53.f0b1d96b.js"><link rel="prefetch" href="/doc_notes/assets/js/54.f52a48ab.js"><link rel="prefetch" href="/doc_notes/assets/js/55.98bfca4a.js"><link rel="prefetch" href="/doc_notes/assets/js/56.6c0a81f6.js"><link rel="prefetch" href="/doc_notes/assets/js/57.e17dfa82.js"><link rel="prefetch" href="/doc_notes/assets/js/58.f9a5000b.js"><link rel="prefetch" href="/doc_notes/assets/js/59.3296ea1c.js"><link rel="prefetch" href="/doc_notes/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/doc_notes/assets/js/60.610d4eca.js"><link rel="prefetch" href="/doc_notes/assets/js/61.64b18740.js"><link rel="prefetch" href="/doc_notes/assets/js/62.87e34293.js"><link rel="prefetch" href="/doc_notes/assets/js/63.fbd2d78b.js"><link rel="prefetch" href="/doc_notes/assets/js/64.493b857a.js"><link rel="prefetch" href="/doc_notes/assets/js/65.0a60479c.js"><link rel="prefetch" href="/doc_notes/assets/js/66.800419f9.js"><link rel="prefetch" href="/doc_notes/assets/js/67.343f5dab.js"><link rel="prefetch" href="/doc_notes/assets/js/68.fed77f78.js"><link rel="prefetch" href="/doc_notes/assets/js/69.8b1601da.js"><link rel="prefetch" href="/doc_notes/assets/js/7.c9d31aa2.js"><link rel="prefetch" href="/doc_notes/assets/js/70.aedd0ab9.js"><link rel="prefetch" href="/doc_notes/assets/js/71.b166238f.js"><link rel="prefetch" href="/doc_notes/assets/js/72.27a66c82.js"><link rel="prefetch" href="/doc_notes/assets/js/73.1d9b487f.js"><link rel="prefetch" href="/doc_notes/assets/js/74.84702901.js"><link rel="prefetch" href="/doc_notes/assets/js/75.2f6ae560.js"><link rel="prefetch" href="/doc_notes/assets/js/76.4856c210.js"><link rel="prefetch" href="/doc_notes/assets/js/77.9fc6950e.js"><link rel="prefetch" href="/doc_notes/assets/js/78.cb2f07a0.js"><link rel="prefetch" href="/doc_notes/assets/js/79.5e43d0b7.js"><link rel="prefetch" href="/doc_notes/assets/js/8.da9db8f9.js"><link rel="prefetch" href="/doc_notes/assets/js/80.d59ea8af.js"><link rel="prefetch" href="/doc_notes/assets/js/81.9fc53f43.js"><link rel="prefetch" href="/doc_notes/assets/js/82.5838801e.js"><link rel="prefetch" href="/doc_notes/assets/js/83.d2006fd2.js"><link rel="prefetch" href="/doc_notes/assets/js/84.9b965f14.js"><link rel="prefetch" href="/doc_notes/assets/js/85.de0c498b.js"><link rel="prefetch" href="/doc_notes/assets/js/86.ce67f8b8.js"><link rel="prefetch" href="/doc_notes/assets/js/87.5d47b003.js"><link rel="prefetch" href="/doc_notes/assets/js/88.eee9be64.js"><link rel="prefetch" href="/doc_notes/assets/js/89.42153946.js"><link rel="prefetch" href="/doc_notes/assets/js/9.0ccc34a6.js"><link rel="prefetch" href="/doc_notes/assets/js/90.13a9f4b2.js"><link rel="prefetch" href="/doc_notes/assets/js/91.832ae5d2.js"><link rel="prefetch" href="/doc_notes/assets/js/92.bd7c25ca.js"><link rel="prefetch" href="/doc_notes/assets/js/93.8a6f3f34.js"><link rel="prefetch" href="/doc_notes/assets/js/94.221348bd.js"><link rel="prefetch" href="/doc_notes/assets/js/95.86b48f96.js"><link rel="prefetch" href="/doc_notes/assets/js/96.7c6d0372.js"><link rel="prefetch" href="/doc_notes/assets/js/97.307341f8.js"><link rel="prefetch" href="/doc_notes/assets/js/98.14120c7c.js"><link rel="prefetch" href="/doc_notes/assets/js/99.40560c36.js">
    <link rel="stylesheet" href="/doc_notes/assets/css/0.styles.60b82a90.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/doc_notes/" class="home-link router-link-active"><!----> <span class="site-name">Obsidian notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/doc_notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/doc_notes/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/doc_notes/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/doc_notes/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="https://v1.vuepress.vuejs.org" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><div><hr> <h2 id="tags-go"><a class="header-anchor" href="#tags-go">#</a> tags: [go]</h2> <h2 id="напиши-список-книг-со-ссылки-по-языку-go"><a class="header-anchor" href="#напиши-список-книг-со-ссылки-по-языку-go">#</a> напиши список книг со ссылки по языку go</h2> <p>Список книг по языку Go:</p> <ol><li><p>&quot;The Go Programming Language&quot; by Alan A. A. Donovan and Brian W. Kernighan - https://www.amazon.com/Programming-Language-Addison-Wesley-Professional-Computing/dp/0134190440</p></li> <li><p>&quot;Introducing Go: Build Reliable, Scalable Programs&quot; by Caleb Doxsey - https://www.amazon.com/Introducing-Go-Reliable-Scalable-Programs/dp/1491941952</p></li> <li><p>&quot;Go in Action&quot; by William Kennedy, Brian Ketelsen, and Erik St. Martin - https://www.amazon.com/Go-Action-William-Kennedy/dp/1617291781</p></li> <li><p>&quot;Concurrency in Go: Tools and Techniques for Developers&quot; by Katherine Cox-Buday - https://www.amazon.com/Concurrency-Go-Tools-Techniques-Developers/dp/1491941197</p></li> <li><p>&quot;Go Programming Blueprints - Second Edition: Build real-world, production-ready solutions in Go using cutting-edge technology and techniques&quot; by Mat Ryer - https://www.amazon.com/Go-Programming-Blueprints-Second-techniques/dp/1786468942</p></li> <li><p>&quot;Network Programming with Go: Essential Skills for Using and Securing Networks&quot; by Jan Newmarch - https://www.amazon.com/Network-Programming-Go-Essential-Skills-ebook/dp/B07D4M8Y4S</p></li> <li><p>&quot;Mastering Go: Create Golang production applications using network libraries, concurrency, machine learning, and advanced data structures, 2nd Edition&quot; by Mihalis Tsoukalos - https://www.amazon.com/Mastering-production-applications-concurrency-structures/dp/1800566997</p></li> <li><p>&quot;Go Design Patterns: The Definitive Guide to Architecting and Designing Enterprise Grade Go Applications&quot; by Mario Castro Contreras - https://www.amazon.com/Go-Design-Patterns-Architecting-Enterprise/dp/1800568094</p></li> <li><p>&quot;The Way To Go: A Thorough Introduction To The Go Programming Language&quot; by Ivo Balbaert - https://www.amazon.com/Way-Go-Thorough-Introduction-Programming/dp/1469769166</p></li> <li><p>&quot;Build Web Application with Golang&quot; by Astaxie - https://www.gitbook.com/book/astaxie/build-web-application-with-golang/details</p></li></ol> <h2 id="напиши-список-книг-по-golang-с-русскими-названиями"><a class="header-anchor" href="#напиши-список-книг-по-golang-с-русскими-названиями">#</a> напиши список книг по golang с русскими названиями</h2> <p>Конечно, вот список книг на русском языке по Go:</p> <ol><li>&quot;Язык программирования Go&quot; (The Go Programming Language) Алан А. А. Донован, Брайан Керниган</li> <li>&quot;Конкурентное программирование на Go&quot; (Concurrency in Go: Tools and Techniques for Developers) Кэтрин Кокс-Будэй</li> <li>&quot;Go в действии&quot; (Go in Action) Уильям Кеннеди, Брайан Кетелсен, Эрик Ст. Мартин</li> <li>&quot;Введение в Go: надежная и масштабируемая разработка программного обеспечения&quot; (Introducing Go: Build Reliable, Scalable Programs) Калеб Докси</li> <li>&quot;Сетевое программирование на Go: навыки использования и защиты сетей&quot; (Network Programming with Go: Essential Skills for Using and Securing Networks) Джан Ньюмарч</li> <li>&quot;Веб-программирование на Go&quot; (Go Web Programming) Сау Шеонг Чанг</li> <li>&quot;Black Hat Go: программирование на Go для хакеров и пентестеров&quot; (Black Hat Go: Go Programming For Hackers and Pentesters) Том Стил, Крис Паттен, Дан Коттман</li> <li>&quot;Системное программирование на Go: освойте системное программирование на Linux и Unix с помощью Go&quot; (Go Systems Programming: Master Linux and Unix system-level programming with Go) Михалис Цуколос</li> <li>&quot;Паттерны проектирования на Go: изучайте идиоматические, эффективные, чистые и расширяемые паттерны проектирования на Go&quot; (Go Design Patterns: Learn idiomatic, efficient, clean, and extensible Go design patterns) Марио Кастро Контрерас</li> <li>&quot;Разработка веб-приложений на Go: создание масштабируемых веб-приложений и RESTful-сервисов&quot; (Web Development with Go: Building Scalable Web Apps and RESTful Services) Шиджу Варгизе</li></ol> <p>Эти книги помогут вам изучить Go и стать лучшим разработчиком на этом языке.</p> <h2 id="есть-ли-для-golang-аналоги-scrapy-python"><a class="header-anchor" href="#есть-ли-для-golang-аналоги-scrapy-python">#</a> есть ли для golang аналоги scrapy (python)?</h2> <p>Для Golang есть несколько фреймворков для парсинга веб-страниц, которые могут быть использованы для создания веб-скрейперов. Некоторые из них:</p> <ol><li><p>Colly: это быстрый и гибкий фреймворк для сбора данных из веб-страниц. Он позволяет перехватывать события, обрабатывать ошибки и использовать различные типы прокси.</p></li> <li><p>GoQuery: это библиотека, которая позволяет использовать селекторы CSS для извлечения данных из HTML-страниц. Она также поддерживает jQuery-подобный синтаксис.</p></li> <li><p>GoSpider: это фреймворк для создания скрейперов, который позволяет легко определять правила для извлечения данных из веб-страниц. Он также поддерживает использование прокси и обработку ошибок.</p></li> <li><p>Gocolly: это фреймворк, похожий на Colly, но с некоторыми дополнительными функциями, такими как поддержка JavaScript и обработка форм.</p></li> <li><p>PuerkitoBio/goquery: это еще одна библиотека, основанная на jQuery, которая позволяет использовать селекторы CSS для извлечения данных из HTML-страниц.</p></li></ol> <p>Каждый из этих фреймворков имеет свои преимущества и недостатки, но все они могут быть использованы для создания веб-скрейперов на Golang.</p> <h2 id="как-инициализировать-проект-в-golang"><a class="header-anchor" href="#как-инициализировать-проект-в-golang">#</a> как инициализировать проект в golang</h2> <p>Чтобы инициализировать проект на Go, можно выполнить следующие шаги:</p> <ol><li>Создайте директорию для проекта:</li></ol> <div class="language-bash extra-class"><pre v-pre="" class="language-bash"><code><span class="token function">mkdir</span> myproject
<span class="token builtin class-name">cd</span> myproject
</code></pre></div><ol start="2"><li>Инициализируйте модуль Go с помощью команды:</li></ol> <div class="language-bash extra-class"><pre v-pre="" class="language-bash"><code>go mod init github.com/myusername/myproject
</code></pre></div><p>Вместо github.com/myusername/myproject укажите свой репозиторий на GitHub или другой хостинг.</p> <ol start="3"><li>Создайте файл main.go, который будет содержать основной код вашего приложения:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>Вы можете собрать и запустить приложение с помощью команды:</li></ol> <div class="language-bash extra-class"><pre v-pre="" class="language-bash"><code>go build
./myproject
</code></pre></div><p>Это компилирует программу и создает исполняемый файл myproject, который можно запустить.</p> <p>Если вы используете IDE, такие как GoLand, можно создать новый проект и настроить его для использования модулей Go.</p> <h2 id="какие-у-golang-есть-библиотеки-для-tui"><a class="header-anchor" href="#какие-у-golang-есть-библиотеки-для-tui">#</a> какие у golang есть библиотеки для tui</h2> <p>Golang имеет несколько библиотек для создания консольных пользовательских интерфейсов (TUI):</p> <ol><li><p>termui - это библиотека, которая предоставляет набор виджетов для создания консольных интерфейсов, таких как графики, таблицы, лейблы, графики и диаграммы.</p></li> <li><p>tcell - это библиотека, которая предоставляет возможность создания консольных пользовательских интерфейсов с использованием клавиатуры и мыши. Она поддерживает множество виджетов, таких как кнопки, списки, меню и др.</p></li> <li><p>gocui - это библиотека, которая обеспечивает разработку TUI-приложений, используя графический интерфейс пользователя. Она поддерживает различные виджеты, такие как текстовые поля, кнопки, списки, меню и др.</p></li> <li><p>termbox-go - это простая библиотека для создания консольных пользовательских интерфейсов, которая поддерживает ввод с клавиатуры и мыши. Она предоставляет набор простых виджетов, таких как кнопки, полосы прокрутки, рамки и др.</p></li> <li><p>bubbletea - это библиотека для создания консольных пользовательских интерфейсов, которая использует функциональное программирование. Она предоставляет набор простых виджетов, таких как текстовые поля, кнопки, списки и др.</p></li></ol> <p>Каждая из этих библиотек имеет свои преимущества и недостатки, но все они могут быть использованы для создания консольных интерфейсов в Golang.</p> <h2 id="напиши-какие-orm-есть-для-go"><a class="header-anchor" href="#напиши-какие-orm-есть-для-go">#</a> напиши какие ORM есть для go</h2> <p>Вот список некоторых ORM (Object-relational mapping) для Go:</p> <ol><li><p>Gorm - самая популярная ORM для Go, которая поддерживает множество баз данных и является полностью функциональной ORM с мощными функциями, такими как связи между таблицами, миграции, предложения SQL и т. д.</p></li> <li><p>Xorm - ORM, которая также поддерживает множество баз данных и имеет множество функций, таких как кеширование, транзакции, связи между таблицами и т. д.</p></li> <li><p>Qbs - ORM, которая предоставляет более простой и легковесный подход к работе с базами данных. Она использует подход, основанный на структурах, и предоставляет минималистичный API для управления базами данных.</p></li> <li><p>Gorp - еще одна ORM, которая основана на структурах и предоставляет простой и интуитивно понятный API для работы с базами данных.</p></li> <li><p>Pop - ORM, которая использует подход, основанный на миграциях, и предоставляет мощные функции, такие как связи между таблицами, транзакции и т. д.</p></li> <li><p>Storm - ORM, которая предназначена для работы с NoSQL базами данных, такими как BoltDB или LevelDB. Она предоставляет простой и интуитивно понятный API для работы с этими базами данных.</p></li> <li><p>Golangent - ORM, которая предназначена для работы с базами данных, используя подход, основанный на графах. Она предоставляет мощные функции для работы с графами и связями между таблицами.</p></li></ol> <p>Каждая ORM имеет свои сильные и слабые стороны, поэтому выбор зависит от требований проекта и предпочтений разработчика.</p> <h2 id="что-делает-make-в-go"><a class="header-anchor" href="#что-делает-make-в-go">#</a> что делает make в go</h2> <p>В Go, <code>make</code> используется для динамического выделения памяти для слайсов, карт и каналов. Он возвращает указатель на новый ноль-заполненный массив, словарь или канал нужного типа и размера. Кроме того, <code>make</code> также инициализирует внутренние поля слайса, карты или канала, чтобы они были готовы к использованию.</p> <p>Например, чтобы создать слайс с длиной 10 и емкостью 20, вы можете использовать следующую команду:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>a := make([]int, 10, 20)
</code></pre></div><p>Это создаст слайс <code>a</code> с длиной 10 и емкостью 20, заполненный нулями.</p> <p>Также, чтобы создать карту с начальной емкостью 100 элементов, вы можете использовать следующую команду:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>m := make(map[string]int, 100)
</code></pre></div><p>Это создаст карту <code>m</code> с начальной емкостью 100 элементов.</p> <p>Использование <code>make</code> рекомендуется вместо использования <code>new</code>, когда вы создаете новые слайсы, карты или каналы, потому что <code>make</code> инициализирует их внутренние поля, что делает их готовыми к использованию.</p> <h2 id="циклы-в-go"><a class="header-anchor" href="#циклы-в-go">#</a> циклы в go</h2> <p>В Go доступны два вида циклов: цикл со счётчиком и цикл со условием. Рассмотрим их подробнее.</p> <h3 id="цикл-со-счетчиком"><a class="header-anchor" href="#цикл-со-счетчиком">#</a> Цикл со счётчиком</h3> <p>Цикл со счётчиком (также называемый циклом <code>for</code>) используется для выполнения повторяющихся действий заданное количество раз. Он имеет следующий синтаксис:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">for</span> инициализация<span class="token punctuation">;</span> условие<span class="token punctuation">;</span> изменение <span class="token punctuation">{</span>
    <span class="token comment">// тело цикла</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>инициализация</code> - операция, выполняемая один раз перед началом цикла (например, инициализация переменной-счётчика);</li> <li><code>условие</code> - логическое выражение, проверяемое перед каждой итерацией цикла. Если оно истинно, то цикл продолжает работу, иначе цикл завершается;</li> <li><code>изменение</code> - операция, выполняемая после каждой итерации цикла (например, увеличение переменной-счётчика).</li></ul> <p>Пример использования цикла со счётчиком:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы выводим числа от 0 до 4.</p> <h2 id="как-просто-итерировать-массив-в-go"><a class="header-anchor" href="#как-просто-итерировать-массив-в-go">#</a> как просто итерировать массив в go</h2> <p>В Go для итерации по массиву можно использовать цикл <code>for</code> со счётчиком. Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>arr <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>

<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы создаём массив <code>[3]int</code> и итерируемся по нему с помощью цикла <code>for</code>. Используя переменную <code>i</code> в качестве счётчика, мы обращаемся к элементам массива по индексу <code>i</code> и выводим их на экран.</p> <p>Также в Go доступен цикл <code>range</code>, который может использоваться для итерации по массивам, срезам и другим типам данных. Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>arr <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> val <span class="token operator">:=</span> <span class="token keyword">range</span> arr <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы создаём массив <code>[3]int</code> и итерируемся по нему с помощью цикла <code>range</code>. Переменная <code>_</code> используется в качестве пустого идентификатора для индекса элемента, а переменная <code>val</code> содержит значение элемента на текущей итерации.</p> <h3 id="цикл-со-условием"><a class="header-anchor" href="#цикл-со-условием">#</a> Цикл со условием</h3> <p>Цикл со условием (также называемый циклом <code>while</code>) используется для выполнения повторяющихся действий до тех пор, пока заданное условие истинно. Он имеет следующий синтаксис:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">for</span> условие <span class="token punctuation">{</span>
    <span class="token comment">// тело цикла</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Пример использования цикла со условием:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>i <span class="token operator">:=</span> <span class="token number">0</span>
<span class="token keyword">for</span> i <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    i<span class="token operator">++</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы выводим числа от 0 до 4, используя цикл со условием.</p> <h2 id="есть-ли-в-golang-динамически-подключаемые-библиотеки-и-как-их-подключать"><a class="header-anchor" href="#есть-ли-в-golang-динамически-подключаемые-библиотеки-и-как-их-подключать">#</a> есть ли в golang динамически подключаемые библиотеки и как их подключать?</h2> <p>В Golang существует механизм плагинов, который позволяет создавать динамически подключаемые библиотеки. Для создания плагина нужно создать отдельный модуль, который может быть скомпилирован в отдельный файл, и который реализует интерфейс, определенный в основном приложении.</p> <p>Пример создания плагина:</p> <ol><li>Создайте новый проект и определите интерфейс, который будет реализован в плагине:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">type</span> Plugin <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Создайте новый модуль, который будет реализовывать этот интерфейс:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">type</span> MyPlugin <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>p MyPlugin<span class="token punctuation">)</span> <span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello from my plugin!&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>Скомпилируйте модуль в отдельный файл:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>$ go build -buildmode=plugin -o myplugin.so myplugin.go
</code></pre></div><ol start="4"><li>В основном приложении загрузите плагин и вызовите его методы:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;plugin&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">,</span> err <span class="token operator">:=</span> plugin<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;myplugin.so&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    symbol<span class="token punctuation">,</span> err <span class="token operator">:=</span> p<span class="token punctuation">.</span><span class="token function">Lookup</span><span class="token punctuation">(</span><span class="token string">&quot;MyPlugin&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    myPlugin <span class="token operator">:=</span> symbol<span class="token punctuation">.</span><span class="token punctuation">(</span>Plugin<span class="token punctuation">)</span>
    myPlugin<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Это простой пример, который демонстрирует, как создать и использовать плагин в Golang. В более сложных приложениях могут использоваться другие механизмы для загрузки и управления плагинами.</p> <h2 id="как-проверить-в-языке-go-импорты-на-доступность"><a class="header-anchor" href="#как-проверить-в-языке-go-импорты-на-доступность">#</a> как проверить в языке go импорты на доступность</h2> <p>В Go есть инструмент <code>go vet</code>, который может помочь вам проверить импорты на доступность. Он будет проверять все импорты в вашем коде и сообщать об ошибках, если пакеты не могут быть найдены.</p> <p>Вы можете использовать команду <code>go vet</code> для проверки пакетов в вашем проекте:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>go vet ./...
</code></pre></div><p>Эта команда проверит все пакеты в вашем проекте на наличие ошибок в импортах. Если ошибки найдены, они будут выведены в консоль.</p> <p>Также стоит убедиться, что все используемые вами пакеты установлены в вашей системе. Если пакет не установлен, вы можете установить его с помощью команды <code>go get</code>:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>go get github.com/example/package
</code></pre></div><p>Замените <code>github.com/example/package</code> на путь к пакету, который вы хотите установить.</p> <h2 id="напиши-crud-rest-сервис-на-golang"><a class="header-anchor" href="#напиши-crud-rest-сервис-на-golang">#</a> напиши CRUD REST сервис на golang</h2> <p>Код для простого CRUD REST сервиса на Golang с использованием базы данных SQLite:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;database/sql&quot;</span>
 <span class="token string">&quot;encoding/json&quot;</span>
 <span class="token string">&quot;log&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>

 <span class="token string">&quot;github.com/gorilla/mux&quot;</span>
 <span class="token boolean">_</span> <span class="token string">&quot;github.com/mattn/go-sqlite3&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Book <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 ID     <span class="token builtin">int</span>    <span class="token string">`json:&quot;id&quot;`</span>
 Title  <span class="token builtin">string</span> <span class="token string">`json:&quot;title&quot;`</span>
 Author <span class="token builtin">string</span> <span class="token string">`json:&quot;author&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> db <span class="token operator">*</span>sql<span class="token punctuation">.</span>DB

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// Открываем соединение с базой данных SQLite</span>
 <span class="token keyword">var</span> err <span class="token builtin">error</span>
 db<span class="token punctuation">,</span> err <span class="token operator">=</span> sql<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;sqlite3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./books.db&quot;</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">defer</span> db<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token comment">// Создаем таблицу для хранения книг, если она еще не существует</span>
 <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">&quot;CREATE TABLE IF NOT EXISTS books (id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT NOT NULL, author TEXT NOT NULL)&quot;</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// Создаем роутер и регистрируем обработчики для каждого HTTP метода</span>
 r <span class="token operator">:=</span> mux<span class="token punctuation">.</span><span class="token function">NewRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 r<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">,</span> getBooks<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Methods</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span>
 r<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/books/{id}&quot;</span><span class="token punctuation">,</span> getBook<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Methods</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">)</span>
 r<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">,</span> createBook<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Methods</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">)</span>
 r<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/books/{id}&quot;</span><span class="token punctuation">,</span> updateBook<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Methods</span><span class="token punctuation">(</span><span class="token string">&quot;PUT&quot;</span><span class="token punctuation">)</span>
 r<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/books/{id}&quot;</span><span class="token punctuation">,</span> deleteBook<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Methods</span><span class="token punctuation">(</span><span class="token string">&quot;DELETE&quot;</span><span class="token punctuation">)</span>

 log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Обработчик GET запроса на получение списка книг</span>
<span class="token keyword">func</span> <span class="token function">getBooks</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 rows<span class="token punctuation">,</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT id, title, author FROM books&quot;</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Error getting books&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">defer</span> rows<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token keyword">var</span> books <span class="token punctuation">[</span><span class="token punctuation">]</span>Book
 <span class="token keyword">for</span> rows<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> book Book
  err <span class="token operator">:=</span> rows<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Title<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Author<span class="token punctuation">)</span>
  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
   log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
   http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Error getting books&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
   <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  books <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>books<span class="token punctuation">,</span> book<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 w<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span>
 json<span class="token punctuation">.</span><span class="token function">NewEncoder</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Encode</span><span class="token punctuation">(</span>books<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Обработчик GET запроса на получение книги по ID</span>
<span class="token keyword">func</span> <span class="token function">getBook</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 params <span class="token operator">:=</span> mux<span class="token punctuation">.</span><span class="token function">Vars</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
 id <span class="token operator">:=</span> params<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span>

 <span class="token keyword">var</span> book Book
 err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">QueryRow</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT id, title, author FROM books WHERE id = ?&quot;</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Title<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Author<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Error getting book&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 w<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span>
 json<span class="token punctuation">.</span><span class="token function">NewEncoder</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Encode</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Обработчик POST запроса на создание новой книги</span>
<span class="token keyword">func</span> <span class="token function">createBook</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">var</span> book Book
 err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">NewDecoder</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Invalid request payload&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 result<span class="token punctuation">,</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO books (title, author) VALUES (?, ?)&quot;</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span>Title<span class="token punctuation">,</span> book<span class="token punctuation">.</span>Author<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Error creating book&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 id<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> result<span class="token punctuation">.</span><span class="token function">LastInsertId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 book<span class="token punctuation">.</span>ID <span class="token operator">=</span> <span class="token function">int</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>

 w<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">)</span>
 json<span class="token punctuation">.</span><span class="token function">NewEncoder</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Encode</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// Обработчик PUT запроса на обновление книги по ID</span>
<span class="token keyword">func</span> <span class="token function">updateBook</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 params <span class="token operator">:=</span> mux<span class="token punctuation">.</span><span class="token function">Vars</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
 id <span class="token operator">:=</span> params<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span>

 <span class="token keyword">var</span> book Book
 err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">NewDecoder</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Invalid request payload&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> db<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span><span class="token string">&quot;UPDATE books SET title = ?, author = ? WHERE id = ?&quot;</span><span class="token punctuation">,</span> book<span class="token punctuation">.</span>Title<span class="token punctuation">,</span> book<span class="token punctuation">.</span>Author<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Error updating book&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 book<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> err <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Invalid book ID&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 w<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="напиши-телеграм-бота-на-go-которыи-чиает-новости-из-rss-учитывает-прочитанное-и-постит-в-телеграм"><a class="header-anchor" href="#напиши-телеграм-бота-на-go-которыи-чиает-новости-из-rss-учитывает-прочитанное-и-постит-в-телеграм">#</a> напиши телеграм бота на go который чиает новости из rss (учитывает прочитанное) и постит в телеграм</h2> <p>Хорошо, вот пример кода на Go, который читает новости из RSS-ленты и постит их в Телеграм:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;encoding/json&quot;</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;io/ioutil&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
    <span class="token string">&quot;time&quot;</span>

    <span class="token string">&quot;github.com/mmcdole/gofeed&quot;</span>
    <span class="token string">&quot;gopkg.in/tucnak/telebot.v2&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token punctuation">(</span>
    token <span class="token operator">=</span> <span class="token string">&quot;&lt;your_bot_token&gt;&quot;</span>
    feedURL <span class="token operator">=</span> <span class="token string">&quot;&lt;rss_feed_url&gt;&quot;</span>
    dataFile <span class="token operator">=</span> <span class="token string">&quot;data.json&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> NewsItem <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Title <span class="token builtin">string</span>
    Link <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Data <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    LastRead time<span class="token punctuation">.</span>Time
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bot<span class="token punctuation">,</span> err <span class="token operator">:=</span> telebot<span class="token punctuation">.</span><span class="token function">NewBot</span><span class="token punctuation">(</span>telebot<span class="token punctuation">.</span>Settings<span class="token punctuation">{</span>
        Token<span class="token punctuation">:</span> token<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// load last read time from file</span>
    data <span class="token operator">:=</span> Data<span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">if</span> b<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadFile</span><span class="token punctuation">(</span>dataFile<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">Unmarshal</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Error loading data:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// parse RSS feed</span>
    fp <span class="token operator">:=</span> gofeed<span class="token punctuation">.</span><span class="token function">NewParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    feed<span class="token punctuation">,</span> err <span class="token operator">:=</span> fp<span class="token punctuation">.</span><span class="token function">ParseURL</span><span class="token punctuation">(</span>feedURL<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// iterate through items and post new ones to Telegram</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> item <span class="token operator">:=</span> <span class="token keyword">range</span> feed<span class="token punctuation">.</span>Items <span class="token punctuation">{</span>
        <span class="token keyword">if</span> item<span class="token punctuation">.</span>PublishedParsed<span class="token punctuation">.</span><span class="token function">After</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>LastRead<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            data<span class="token punctuation">.</span>LastRead <span class="token operator">=</span> <span class="token operator">*</span>item<span class="token punctuation">.</span>PublishedParsed
            newsItem <span class="token operator">:=</span> NewsItem<span class="token punctuation">{</span>
                Title<span class="token punctuation">:</span> item<span class="token punctuation">.</span>Title<span class="token punctuation">,</span>
                Link<span class="token punctuation">:</span> item<span class="token punctuation">.</span>Link<span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
            <span class="token function">postNews</span><span class="token punctuation">(</span>bot<span class="token punctuation">,</span> newsItem<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// save last read time to file</span>
    <span class="token keyword">if</span> b<span class="token punctuation">,</span> err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">Marshal</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">WriteFile</span><span class="token punctuation">(</span>dataFile<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token number">0644</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Error saving data:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">postNews</span><span class="token punctuation">(</span>bot <span class="token operator">*</span>telebot<span class="token punctuation">.</span>Bot<span class="token punctuation">,</span> item NewsItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    msg <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;a href=\&quot;%s\&quot;&gt;%s&lt;/a&gt;&quot;</span><span class="token punctuation">,</span> item<span class="token punctuation">.</span>Link<span class="token punctuation">,</span> item<span class="token punctuation">.</span>Title<span class="token punctuation">)</span>
    <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>telebot<span class="token punctuation">.</span>MessageConfig<span class="token punctuation">{</span>
        ParseMode<span class="token punctuation">:</span> telebot<span class="token punctuation">.</span>ModeHTML<span class="token punctuation">,</span>
        Text<span class="token punctuation">:</span> msg<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Error posting news:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы используем библиотеку gofeed для парсинга RSS-ленты и библиотеку telebot для работы с Телеграм API. Мы также сохраняем время последнего прочитанного элемента в файле для того, чтобы не повторяться при следующем запуске.</p> <h2 id="напиши-api-на-golang-использующии-graphql"><a class="header-anchor" href="#напиши-api-на-golang-использующии-graphql">#</a> напиши API на golang использующий graphql</h2> <p>Конечно, вот пример кода API на Golang с использованием GraphQL:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;encoding/json&quot;</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;log&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>

 <span class="token string">&quot;github.com/graphql-go/graphql&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Book <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 ID     <span class="token builtin">int</span>    <span class="token string">`json:&quot;id&quot;`</span>
 Title  <span class="token builtin">string</span> <span class="token string">`json:&quot;title&quot;`</span>
 Author <span class="token builtin">string</span> <span class="token string">`json:&quot;author&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> books <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Book<span class="token punctuation">{</span>
 <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;The Great Gatsby&quot;</span><span class="token punctuation">,</span> Author<span class="token punctuation">:</span> <span class="token string">&quot;F. Scott Fitzgerald&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;To Kill a Mockingbird&quot;</span><span class="token punctuation">,</span> Author<span class="token punctuation">:</span> <span class="token string">&quot;Harper Lee&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> Title<span class="token punctuation">:</span> <span class="token string">&quot;1984&quot;</span><span class="token punctuation">,</span> Author<span class="token punctuation">:</span> <span class="token string">&quot;George Orwell&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> bookType <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewObject</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>ObjectConfig<span class="token punctuation">{</span>
  Name<span class="token punctuation">:</span> <span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span>
  Fields<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Fields<span class="token punctuation">{</span>
   <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Int<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;author&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> rootQuery <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewObject</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>ObjectConfig<span class="token punctuation">{</span>
  Name<span class="token punctuation">:</span> <span class="token string">&quot;Query&quot;</span><span class="token punctuation">,</span>
  Fields<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Fields<span class="token punctuation">{</span>
   <span class="token string">&quot;book&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        bookType<span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Get book by ID&quot;</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>FieldConfigArgument<span class="token punctuation">{</span>
     <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Int<span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     id<span class="token punctuation">,</span> ok <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
     <span class="token keyword">if</span> ok <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> book <span class="token operator">:=</span> <span class="token keyword">range</span> books <span class="token punctuation">{</span>
       <span class="token keyword">if</span> book<span class="token punctuation">.</span>ID <span class="token operator">==</span> id <span class="token punctuation">{</span>
        <span class="token keyword">return</span> book<span class="token punctuation">,</span> <span class="token boolean">nil</span>
       <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;books&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        graphql<span class="token punctuation">.</span><span class="token function">NewList</span><span class="token punctuation">(</span>bookType<span class="token punctuation">)</span><span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Get all books&quot;</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">return</span> books<span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> schema<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewSchema</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>SchemaConfig<span class="token punctuation">{</span>
  Query<span class="token punctuation">:</span> rootQuery<span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/graphql&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> r<span class="token punctuation">.</span>Method <span class="token operator">==</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> params <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Query <span class="token builtin">string</span> <span class="token string">`json:&quot;query&quot;`</span>
   <span class="token punctuation">}</span>
   err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">NewDecoder</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>params<span class="token punctuation">)</span>
   <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">)</span>
    <span class="token keyword">return</span>
   <span class="token punctuation">}</span>
   result <span class="token operator">:=</span> graphql<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>graphql<span class="token punctuation">.</span>Params<span class="token punctuation">{</span>
    Schema<span class="token punctuation">:</span>        schema<span class="token punctuation">,</span>
    RequestString<span class="token punctuation">:</span> params<span class="token punctuation">.</span>Query<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   json<span class="token punctuation">.</span><span class="token function">NewEncoder</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Encode</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;GraphQL API is running&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы создаем простой API для получения информации о книгах. Мы используем GraphQL для определения схемы API и выполнения запросов.</p> <p>Мы создаем тип Book и определяем два запроса: book и books. Запрос book возвращает книгу по ее ID, а запрос books возвращает список всех книг.</p> <p>Мы используем пакет <code>graphql-go</code> для создания схемы и выполнения запросов GraphQL. Мы определяем функцию-обработчик для запросов GraphQL, которая принимает запрос в формате JSON и возвращает результат в формате JSON.</p> <p>Наконец, мы запускаем сервер на порту 8080 и слушаем запросы на <code>/graphql</code>.</p> <p>Это простой пример API на Golang, который использует GraphQL. Вы можете использовать этот код как основу для своего собственного API и настроить его для своих нужд.</p> <h2 id="напиши-api-на-golang-использующии-graphql-и-sqlite"><a class="header-anchor" href="#напиши-api-на-golang-использующии-graphql-и-sqlite">#</a> напиши API на golang использующий graphql и sqlite</h2> <p>Конечно, вот пример кода API на Golang с использованием GraphQL и SQLite:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;database/sql&quot;</span>
 <span class="token string">&quot;encoding/json&quot;</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;log&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>

 <span class="token string">&quot;github.com/graphql-go/graphql&quot;</span>
 <span class="token boolean">_</span> <span class="token string">&quot;github.com/mattn/go-sqlite3&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Book <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 ID     <span class="token builtin">int</span>    <span class="token string">`json:&quot;id&quot;`</span>
 Title  <span class="token builtin">string</span> <span class="token string">`json:&quot;title&quot;`</span>
 Author <span class="token builtin">string</span> <span class="token string">`json:&quot;author&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> db<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> sql<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;sqlite3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./books.db&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 sqlStmt <span class="token operator">:=</span> <span class="token string">`
 create table if not exists books (id integer not null primary key, title text, author text);
 delete from books;
 insert into books (id, title, author) values (1, 'The Great Gatsby', 'F. Scott Fitzgerald');
 insert into books (id, title, author) values (2, 'To Kill a Mockingbird', 'Harper Lee');
 insert into books (id, title, author) values (3, '1984', 'George Orwell');
 `</span>
 <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span>sqlStmt<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">&quot;%q: %s\n&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> sqlStmt<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> bookType <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewObject</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>ObjectConfig<span class="token punctuation">{</span>
  Name<span class="token punctuation">:</span> <span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span>
  Fields<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Fields<span class="token punctuation">{</span>
   <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Int<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;author&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> rootQuery <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewObject</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>ObjectConfig<span class="token punctuation">{</span>
  Name<span class="token punctuation">:</span> <span class="token string">&quot;Query&quot;</span><span class="token punctuation">,</span>
  Fields<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Fields<span class="token punctuation">{</span>
   <span class="token string">&quot;book&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        bookType<span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Get book by ID&quot;</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>FieldConfigArgument<span class="token punctuation">{</span>
     <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Int<span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     id<span class="token punctuation">,</span> ok <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
     <span class="token keyword">if</span> ok <span class="token punctuation">{</span>
      stmt<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Prepare</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT id, title, author FROM books WHERE id = ?&quot;</span><span class="token punctuation">)</span>
      <span class="token keyword">defer</span> stmt<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      row <span class="token operator">:=</span> stmt<span class="token punctuation">.</span><span class="token function">QueryRow</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
      <span class="token keyword">var</span> book Book
      err <span class="token operator">:=</span> row<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Title<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Author<span class="token punctuation">)</span>
      <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> book<span class="token punctuation">,</span> <span class="token boolean">nil</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;books&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        graphql<span class="token punctuation">.</span><span class="token function">NewList</span><span class="token punctuation">(</span>bookType<span class="token punctuation">)</span><span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Get all books&quot;</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     rows<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT id, title, author FROM books&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">defer</span> rows<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token keyword">var</span> books <span class="token punctuation">[</span><span class="token punctuation">]</span>Book
     <span class="token keyword">for</span> rows<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> book Book
      err <span class="token operator">:=</span> rows<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Title<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Author<span class="token punctuation">)</span>
      <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
      <span class="token punctuation">}</span>
      books <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>books<span class="token punctuation">,</span> book<span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> books<span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> schema<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewSchema</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>SchemaConfig<span class="token punctuation">{</span>
  Query<span class="token punctuation">:</span> rootQuery<span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/graphql&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> r<span class="token punctuation">.</span>Method <span class="token operator">==</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> params <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Query <span class="token builtin">string</span> <span class="token string">`json:&quot;query&quot;`</span>
   <span class="token punctuation">}</span>
   err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">NewDecoder</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>params<span class="token punctuation">)</span>
   <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">)</span>
    <span class="token keyword">return</span>
   <span class="token punctuation">}</span>
   result <span class="token operator">:=</span> graphql<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>graphql<span class="token punctuation">.</span>Params<span class="token punctuation">{</span>
    Schema<span class="token punctuation">:</span>        schema<span class="token punctuation">,</span>
    RequestString<span class="token punctuation">:</span> params<span class="token punctuation">.</span>Query<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   json<span class="token punctuation">.</span><span class="token function">NewEncoder</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Encode</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;GraphQL API is running&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы создаем простой API для получения информации о книгах из базы данных SQLite. Мы используем GraphQL для определения схемы API и выполнения запросов.</p> <p>Мы создаем тип Book и определяем два запроса: book и books. Запрос book возвращает книгу по ее ID, а запрос books возвращает список всех книг.</p> <p>Мы используем пакет <code>github.com/mattn/go-sqlite3</code> для работы с базой данных SQLite. Мы определяем функции-</p> <h2 id="напиши-crud-api-на-golang-использующии-graphql-и-sqlite"><a class="header-anchor" href="#напиши-crud-api-на-golang-использующии-graphql-и-sqlite">#</a> напиши CRUD API на golang использующий graphql и sqlite</h2> <p>Конечно, вот пример кода CRUD API на Golang с использованием GraphQL и SQLite:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;database/sql&quot;</span>
 <span class="token string">&quot;encoding/json&quot;</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;log&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>

 <span class="token string">&quot;github.com/graphql-go/graphql&quot;</span>
 <span class="token boolean">_</span> <span class="token string">&quot;github.com/mattn/go-sqlite3&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Book <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 ID     <span class="token builtin">int</span>    <span class="token string">`json:&quot;id&quot;`</span>
 Title  <span class="token builtin">string</span> <span class="token string">`json:&quot;title&quot;`</span>
 Author <span class="token builtin">string</span> <span class="token string">`json:&quot;author&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> db<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> sql<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;sqlite3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./books.db&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 sqlStmt <span class="token operator">:=</span> <span class="token string">`
 create table if not exists books (id integer not null primary key, title text, author text);
 delete from books;
 insert into books (id, title, author) values (1, 'The Great Gatsby', 'F. Scott Fitzgerald');
 insert into books (id, title, author) values (2, 'To Kill a Mockingbird', 'Harper Lee');
 insert into books (id, title, author) values (3, '1984', 'George Orwell');
 `</span>
 <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span>sqlStmt<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Fatalf</span><span class="token punctuation">(</span><span class="token string">&quot;%q: %s\n&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">,</span> sqlStmt<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> bookType <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewObject</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>ObjectConfig<span class="token punctuation">{</span>
  Name<span class="token punctuation">:</span> <span class="token string">&quot;Book&quot;</span><span class="token punctuation">,</span>
  Fields<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Fields<span class="token punctuation">{</span>
   <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Int<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;author&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> rootQuery <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewObject</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>ObjectConfig<span class="token punctuation">{</span>
  Name<span class="token punctuation">:</span> <span class="token string">&quot;Query&quot;</span><span class="token punctuation">,</span>
  Fields<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Fields<span class="token punctuation">{</span>
   <span class="token string">&quot;book&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        bookType<span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Get book by ID&quot;</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>FieldConfigArgument<span class="token punctuation">{</span>
     <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Int<span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     id<span class="token punctuation">,</span> ok <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
     <span class="token keyword">if</span> ok <span class="token punctuation">{</span>
      stmt<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Prepare</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT id, title, author FROM books WHERE id = ?&quot;</span><span class="token punctuation">)</span>
      <span class="token keyword">defer</span> stmt<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      row <span class="token operator">:=</span> stmt<span class="token punctuation">.</span><span class="token function">QueryRow</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
      <span class="token keyword">var</span> book Book
      err <span class="token operator">:=</span> row<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Title<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Author<span class="token punctuation">)</span>
      <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> book<span class="token punctuation">,</span> <span class="token boolean">nil</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;books&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        graphql<span class="token punctuation">.</span><span class="token function">NewList</span><span class="token punctuation">(</span>bookType<span class="token punctuation">)</span><span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Get all books&quot;</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     rows<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;SELECT id, title, author FROM books&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">defer</span> rows<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token keyword">var</span> books <span class="token punctuation">[</span><span class="token punctuation">]</span>Book
     <span class="token keyword">for</span> rows<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> book Book
      err <span class="token operator">:=</span> rows<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Title<span class="token punctuation">,</span> <span class="token operator">&amp;</span>book<span class="token punctuation">.</span>Author<span class="token punctuation">)</span>
      <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
      <span class="token punctuation">}</span>
      books <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>books<span class="token punctuation">,</span> book<span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> books<span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> rootMutation <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewObject</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>ObjectConfig<span class="token punctuation">{</span>
  Name<span class="token punctuation">:</span> <span class="token string">&quot;Mutation&quot;</span><span class="token punctuation">,</span>
  Fields<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>Fields<span class="token punctuation">{</span>
   <span class="token string">&quot;createBook&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        bookType<span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Create a new book&quot;</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>FieldConfigArgument<span class="token punctuation">{</span>
     <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span><span class="token function">NewNonNull</span><span class="token punctuation">(</span>graphql<span class="token punctuation">.</span>String<span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token string">&quot;author&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span><span class="token function">NewNonNull</span><span class="token punctuation">(</span>graphql<span class="token punctuation">.</span>String<span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     title<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
     author<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
     stmt<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Prepare</span><span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO books (title, author) VALUES (?, ?)&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">defer</span> stmt<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     result<span class="token punctuation">,</span> err <span class="token operator">:=</span> stmt<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> author<span class="token punctuation">)</span>
     <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
     <span class="token punctuation">}</span>
     id<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> result<span class="token punctuation">.</span><span class="token function">LastInsertId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     book <span class="token operator">:=</span> Book<span class="token punctuation">{</span>
      ID<span class="token punctuation">:</span>     <span class="token function">int</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
      Title<span class="token punctuation">:</span>  title<span class="token punctuation">,</span>
      Author<span class="token punctuation">:</span> author<span class="token punctuation">,</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> book<span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;updateBook&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        bookType<span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Update an existing book&quot;</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>FieldConfigArgument<span class="token punctuation">{</span>
     <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span><span class="token function">NewNonNull</span><span class="token punctuation">(</span>graphql<span class="token punctuation">.</span>Int<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token string">&quot;author&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>String<span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     id<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
     title<span class="token punctuation">,</span> ok <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
     author<span class="token punctuation">,</span> ok <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;author&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">)</span>
     stmt<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Prepare</span><span class="token punctuation">(</span><span class="token string">&quot;UPDATE books SET title = ?, author = ? WHERE id = ?&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">defer</span> stmt<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> stmt<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> author<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
     <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
     <span class="token punctuation">}</span>
     book <span class="token operator">:=</span> Book<span class="token punctuation">{</span>
      ID<span class="token punctuation">:</span>     id<span class="token punctuation">,</span>
      Title<span class="token punctuation">:</span>  title<span class="token punctuation">,</span>
      Author<span class="token punctuation">:</span> author<span class="token punctuation">,</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> book<span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;deleteBook&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>Field<span class="token punctuation">{</span>
    Type<span class="token punctuation">:</span>        graphql<span class="token punctuation">.</span>Boolean<span class="token punctuation">,</span>
    Description<span class="token punctuation">:</span> <span class="token string">&quot;Delete an existing book&quot;</span><span class="token punctuation">,</span>
    Args<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span>FieldConfigArgument<span class="token punctuation">{</span>
     <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token operator">&amp;</span>graphql<span class="token punctuation">.</span>ArgumentConfig<span class="token punctuation">{</span>
      Type<span class="token punctuation">:</span> graphql<span class="token punctuation">.</span><span class="token function">NewNonNull</span><span class="token punctuation">(</span>graphql<span class="token punctuation">.</span>Int<span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    Resolve<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>params graphql<span class="token punctuation">.</span>ResolveParams<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     id<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> params<span class="token punctuation">.</span>Args<span class="token punctuation">[</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
     stmt<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Prepare</span><span class="token punctuation">(</span><span class="token string">&quot;DELETE FROM books WHERE id = ?&quot;</span><span class="token punctuation">)</span>
     <span class="token keyword">defer</span> stmt<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> stmt<span class="token punctuation">.</span><span class="token function">Exec</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
     <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">,</span> err
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> schema<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> graphql<span class="token punctuation">.</span><span class="token function">NewSchema</span><span class="token punctuation">(</span>
 graphql<span class="token punctuation">.</span>SchemaConfig<span class="token punctuation">{</span>
  Query<span class="token punctuation">:</span>    rootQuery<span class="token punctuation">,</span>
  Mutation<span class="token punctuation">:</span> rootMutation<span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/graphql&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> r<span class="token punctuation">.</span>Method <span class="token operator">==</span> <span class="token string">&quot;POST&quot;</span> <span class="token punctuation">{</span>
   <span class="token keyword">var</span> params <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Query <span class="token builtin">string</span> <span class="token string">`json:&quot;query&quot;`</span>
   <span class="token punctuation">}</span>
   err <span class="token operator">:=</span> json<span class="token punctuation">.</span><span class="token function">NewDecoder</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Decode</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>params<span class="token punctuation">)</span>
   <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">)</span>
    <span class="token keyword">return</span>
   <span class="token punctuation">}</span>
   result <span class="token operator">:=</span> graphql<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>graphql<span class="token punctuation">.</span>Params<span class="token punctuation">{</span>
    Schema<span class="token punctuation">:</span>        schema<span class="token punctuation">,</span>
    RequestString<span class="token punctuation">:</span> params<span class="token punctuation">.</span>Query<span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   json<span class="token punctuation">.</span><span class="token function">NewEncoder</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Encode</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   fmt<span class="token punctuation">.</span><span class="token function">Fprintf</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;GraphQL API is running&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы расширяем предыдущий пример и добавляем возможность создавать, обновлять и удалять книги. Мы используем GraphQL для определения схемы API и выполнения запросов, а также базу данных SQLite для хранения данных.</p> <p>Мы создаем три мутации: createBook, updateBook и deleteBook. Мутация createBook создает новую книгу, мутация updateBook обновляет существующую книгу, а мутация deleteBook удаляет книгу по ее ID.</p> <p>Мы используем пакет <code>github.com/mattn/go-sqlite3</code> для работы с базой данных SQLite. Мы определяем функции-обработчики для мутаций, которые принимают аргументы и выполняют соответствующие действия в базе данных.</p> <p>Наконец, мы запускаем сервер на порту 8080 и слушаем запросы на <code>/graphql</code>.</p> <p>Это простой пример CRUD API на Golang, который использует GraphQL и SQLite. Вы можете использовать этот код как основу для своего собственного API и настроить его для своих нужд.</p> <h2 id="напиши-код-на-go-telegram-бота-использующиего-кнопки-меню"><a class="header-anchor" href="#напиши-код-на-go-telegram-бота-использующиего-кнопки-меню">#</a> напиши код на go telegram бота использующиего кнопки (меню)</h2> <p>Конечно, вот пример кода на Go, который создает простого телеграм-бота с использованием кнопок меню:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;log&quot;</span>
    <span class="token string">&quot;gopkg.in/telegram-bot-api.v4&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// создаем нового бота с токеном</span>
    bot<span class="token punctuation">,</span> err <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewBotAPI</span><span class="token punctuation">(</span><span class="token string">&quot;YOUR_TOKEN_HERE&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// устанавливаем режим отладки</span>
    bot<span class="token punctuation">.</span>Debug <span class="token operator">=</span> <span class="token boolean">true</span>

    <span class="token comment">// создаем новый обработчик сообщений</span>
    updateConfig <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewUpdate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    updateConfig<span class="token punctuation">.</span>Timeout <span class="token operator">=</span> <span class="token number">60</span>

    updates<span class="token punctuation">,</span> err <span class="token operator">:=</span> bot<span class="token punctuation">.</span><span class="token function">GetUpdatesChan</span><span class="token punctuation">(</span>updateConfig<span class="token punctuation">)</span>

    <span class="token comment">// обрабатываем входящие сообщения</span>
    <span class="token keyword">for</span> update <span class="token operator">:=</span> <span class="token keyword">range</span> updates <span class="token punctuation">{</span>
        <span class="token comment">// Если пришло сообщение с командой &quot;/start&quot;</span>
        <span class="token keyword">if</span> update<span class="token punctuation">.</span>Message <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> update<span class="token punctuation">.</span>Message<span class="token punctuation">.</span><span class="token function">IsCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> update<span class="token punctuation">.</span>Message<span class="token punctuation">.</span><span class="token function">Command</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;start&quot;</span> <span class="token punctuation">{</span>
            <span class="token comment">// создаем новую клавиатуру с кнопками</span>
            replyMarkup <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewReplyKeyboard</span><span class="token punctuation">(</span>
                tgbotapi<span class="token punctuation">.</span><span class="token function">NewKeyboardButtonRow</span><span class="token punctuation">(</span>
                    tgbotapi<span class="token punctuation">.</span><span class="token function">NewKeyboardButton</span><span class="token punctuation">(</span><span class="token string">&quot;Кнопка 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    tgbotapi<span class="token punctuation">.</span><span class="token function">NewKeyboardButton</span><span class="token punctuation">(</span><span class="token string">&quot;Кнопка 2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
                tgbotapi<span class="token punctuation">.</span><span class="token function">NewKeyboardButtonRow</span><span class="token punctuation">(</span>
                    tgbotapi<span class="token punctuation">.</span><span class="token function">NewKeyboardButton</span><span class="token punctuation">(</span><span class="token string">&quot;Кнопка 3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    tgbotapi<span class="token punctuation">.</span><span class="token function">NewKeyboardButton</span><span class="token punctuation">(</span><span class="token string">&quot;Кнопка 4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span>

            <span class="token comment">// создаем новое сообщение с клавиатурой</span>
            msg <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewMessage</span><span class="token punctuation">(</span>update<span class="token punctuation">.</span>Message<span class="token punctuation">.</span>Chat<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">&quot;Выберите действие:&quot;</span><span class="token punctuation">)</span>
            msg<span class="token punctuation">.</span>ReplyMarkup <span class="token operator">=</span> replyMarkup

            <span class="token comment">// отправляем сообщение с клавиатурой</span>
            <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;Ошибка отправки сообщения: %v\n&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере при отправке пользователем команды &quot;/start&quot; бот отправляет сообщение с кнопками меню и ожидает выбора пользователя. При выборе кнопки бот может выполнить соответствующее действие или отправить новое сообщение с новым меню.</p> <h2 id="напищи-список-библиотек-для-go-для-telegram"><a class="header-anchor" href="#напищи-список-библиотек-для-go-для-telegram">#</a> напищи список библиотек для go для telegram</h2> <ol><li>telegram-bot-api</li> <li>go-telegram-bot-api/telegram</li> <li>tgbotapi</li> <li>telebot</li> <li>golang-telegram-bot-api/telegram-bot-api</li> <li>telegram-go</li> <li>tg</li> <li>telegram-go-bot-api</li> <li>telegram-bot-go</li> <li>go-telegram-botapi/telegram-bot-api.</li></ol> <h2 id="напищи-таблицу-сравнения-библиотек-для-go-для-telegram-достоинства-и-недостатки"><a class="header-anchor" href="#напищи-таблицу-сравнения-библиотек-для-go-для-telegram-достоинства-и-недостатки">#</a> напищи таблицу сравнения библиотек для go для telegram (достоинства и недостатки)</h2> <table><thead><tr><th>Библиотека</th> <th>Достоинства</th> <th>Недостатки</th></tr></thead> <tbody><tr><td>telegram-bot-api</td> <td>Простой и понятный интерфейс, хорошая документация</td> <td>Нет поддержки для определенных функций Telegram API</td></tr> <tr><td>go-telegram-bot-api/telegram</td> <td>Поддерживает все Telegram API функции</td> <td>Не такая понятная документация как у других библиотек</td></tr> <tr><td>tgbotapi</td> <td>Простой интерфейс, поддерживает многие Telegram API функции</td> <td>Не поддерживает некоторые Telegram API функции, документация может быть не полной</td></tr> <tr><td>telebot</td> <td>Хорошо структурированный код, поддерживает многие Telegram API функции</td> <td>Может быть сложно настроить для начинающих разработчиков</td></tr> <tr><td>golang-telegram-bot-api/telegram-bot-api</td> <td>Простой и понятный интерфейс, хорошо документирован</td> <td>Нет поддержки для определенных функций Telegram API</td></tr> <tr><td>telegram-go</td> <td>Поддерживает многие Telegram API функции</td> <td>Документация может быть сложной для понимания</td></tr> <tr><td>tg</td> <td>Простой интерфейс, поддерживает многие Telegram API функции</td> <td>Может быть сложно настроить для начинающих разработчиков</td></tr> <tr><td>telegram-go-bot-api</td> <td>Простой и понятный интерфейс, хорошо документирован</td> <td>Нет поддержки для определенных функций Telegram API</td></tr> <tr><td>telegram-bot-go</td> <td>Поддерживает многие Telegram API функции</td> <td>Документация может быть сложной для понимания</td></tr> <tr><td>go-telegram-botapi/telegram-bot-api</td> <td>Простой и понятный интерфейс, хорошо документирован</td> <td>Нет поддержки для определенных функций Telegram API</td></tr></tbody></table> <p>Общими достоинствами большинства библиотек являются поддержка многих Telegram API функций и простой интерфейс. Но недостатком большинства является отсутствие поддержки для некоторых Telegram API функций и недостаточно понятная документация.</p> <h2 id="напиши-бота-работающего-с-меню-с-помощью-go-telegram-bot-api-telegram"><a class="header-anchor" href="#напиши-бота-работающего-с-меню-с-помощью-go-telegram-bot-api-telegram">#</a> напиши бота работающего с меню с помощью go-telegram-bot-api/telegram</h2> <p>Конечно, давайте создадим простого бота, который предоставляет меню и отвечает на команды с помощью библиотеки <code>go-telegram-bot-api/telegram</code>.</p> <ol><li><p>Установите библиотеку с помощью команды <code>go get github.com/go-telegram-bot-api/telegram-bot-api</code></p></li> <li><p>Создайте новый файл <code>main.go</code> и добавьте следующий код:</p></li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;log&quot;</span>
 <span class="token string">&quot;os&quot;</span>

 tb <span class="token string">&quot;gopkg.in/tucnak/telebot.v2&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// Создаем нового бота</span>
 bot<span class="token punctuation">,</span> err <span class="token operator">:=</span> tb<span class="token punctuation">.</span><span class="token function">NewBot</span><span class="token punctuation">(</span>tb<span class="token punctuation">.</span>Settings<span class="token punctuation">{</span>
  Token<span class="token punctuation">:</span>  os<span class="token punctuation">.</span><span class="token function">Getenv</span><span class="token punctuation">(</span><span class="token string">&quot;BOT_TOKEN&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// Задайте здесь ваш токен бота</span>
  Poller<span class="token punctuation">:</span> <span class="token operator">&amp;</span>tb<span class="token punctuation">.</span>LongPoller<span class="token punctuation">{</span>Timeout<span class="token punctuation">:</span> <span class="token number">10</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// Создаем меню</span>
 menu <span class="token operator">:=</span> <span class="token operator">&amp;</span>tb<span class="token punctuation">.</span>ReplyMarkup<span class="token punctuation">{</span><span class="token punctuation">}</span>
 menu<span class="token punctuation">.</span><span class="token function">Inline</span><span class="token punctuation">(</span>
  menu<span class="token punctuation">.</span><span class="token function">Row</span><span class="token punctuation">(</span>menu<span class="token punctuation">.</span><span class="token function">Data</span><span class="token punctuation">(</span><span class="token string">&quot;Кнопка 1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;button1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  menu<span class="token punctuation">.</span><span class="token function">Row</span><span class="token punctuation">(</span>menu<span class="token punctuation">.</span><span class="token function">Data</span><span class="token punctuation">(</span><span class="token string">&quot;Кнопка 2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;button2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  menu<span class="token punctuation">.</span><span class="token function">Row</span><span class="token punctuation">(</span>menu<span class="token punctuation">.</span><span class="token function">Data</span><span class="token punctuation">(</span><span class="token string">&quot;Кнопка 3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;button3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token punctuation">)</span>

 <span class="token comment">// Обработчик команды /start</span>
 bot<span class="token punctuation">.</span><span class="token function">Handle</span><span class="token punctuation">(</span><span class="token string">&quot;/start&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>m <span class="token operator">*</span>tb<span class="token punctuation">.</span>Message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>Sender<span class="token punctuation">,</span> <span class="token string">&quot;Привет, я бот-меню!&quot;</span><span class="token punctuation">)</span>
  bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span>Sender<span class="token punctuation">,</span> <span class="token string">&quot;Выбери, что ты хочешь сделать:&quot;</span><span class="token punctuation">,</span> menu<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token comment">// Обработчики кнопок</span>
 bot<span class="token punctuation">.</span><span class="token function">Handle</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>menu<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>tb<span class="token punctuation">.</span>Callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>Sender<span class="token punctuation">,</span> <span class="token string">&quot;Вы нажали кнопку 1&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 bot<span class="token punctuation">.</span><span class="token function">Handle</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>menu<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>tb<span class="token punctuation">.</span>Callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>Sender<span class="token punctuation">,</span> <span class="token string">&quot;Вы нажали кнопку 2&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
 bot<span class="token punctuation">.</span><span class="token function">Handle</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>menu<span class="token punctuation">.</span>Data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>tb<span class="token punctuation">.</span>Callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>Sender<span class="token punctuation">,</span> <span class="token string">&quot;Вы нажали кнопку 3&quot;</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token comment">// Запускаем бота</span>
 log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Bot started&quot;</span><span class="token punctuation">)</span>
 bot<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>Запустите бота, используя команду <code>go run main.go</code>. Бот должен запуститься и ответить на команду /start с меню.</li></ol> <p>Теперь вы можете изменить меню и обработчики кнопок, чтобы сделать бота более полезным для своих нужд.</p> <h2 id="напиши-вечныи-цикл-в-go"><a class="header-anchor" href="#напиши-вечныи-цикл-в-go">#</a> напиши вечный цикл в go</h2> <p>Вот пример кода на Go, который создает вечный цикл:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token comment">// бесконечный цикл</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы использовали ключевое слово <code>for</code> без условия, чтобы создать бесконечный цикл. Это означает, что программа будет выполняться вечно, пока не будет остановлена вручную или пока не произойдет сбой.</p> <p>Обратите внимание, что бесконечный цикл может привести к утечкам памяти и другим проблемам, поэтому его следует использовать с осторожностью и только в тех случаях, когда это действительно необходимо. В большинстве случаев вы можете использовать <code>time.Sleep()</code> или другие методы для приостановки выполнения программы вместо создания бесконечного цикла.</p> <h2 id="напиши-пример-работы-с-фаилом-запись-чтение"><a class="header-anchor" href="#напиши-пример-работы-с-фаилом-запись-чтение">#</a> напиши пример работы с файлом (запись, чтение)</h2> <p>В Go для работы с файлами используется стандартный пакет <code>os</code>. Вот пример чтения и записи данных в файл:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;io/ioutil&quot;</span>
    <span class="token string">&quot;log&quot;</span>
    <span class="token string">&quot;os&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// запись данных в файл</span>
    data <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;Это данные, которые будут записаны в файл&quot;</span><span class="token punctuation">)</span>
    err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">WriteFile</span><span class="token punctuation">(</span><span class="token string">&quot;example.txt&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token number">0644</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// чтение данных из файла</span>
    file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;example.txt&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    content<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы записали данные в файл с помощью функции <code>ioutil.WriteFile()</code>. Затем мы прочитали данные из файла с помощью функции <code>ioutil.ReadAll()</code>. Обратите внимание, что мы использовали <code>defer file.Close()</code> для закрытия файла после чтения содержимого.</p> <p>Если вы хотите записать данные в файл построчно, вы можете использовать <code>bufio.NewWriter()</code> и <code>writer.WriteString()</code>:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;bufio&quot;</span>
    <span class="token string">&quot;log&quot;</span>
    <span class="token string">&quot;os&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// запись данных в файл построчно</span>
    file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;example2.txt&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    writer <span class="token operator">:=</span> bufio<span class="token punctuation">.</span><span class="token function">NewWriter</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
    lines <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;Первая строка&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Вторая строка&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Третья строка&quot;</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> line <span class="token operator">:=</span> <span class="token keyword">range</span> lines <span class="token punctuation">{</span>
        <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> writer<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>line <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    err <span class="token operator">=</span> writer<span class="token punctuation">.</span><span class="token function">Flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы создали новый файл с помощью функции <code>os.Create()</code>. Затем мы создали новый писатель <code>bufio.NewWriter()</code> и записали строки в файл с помощью <code>writer.WriteString()</code>. Обратите внимание, что мы используем символ <code>\n</code> для разделения строк. Наконец, мы закрыли файл с помощью <code>writer.Flush()</code>.</p> <p>Это только примеры, и в зависимости от ваших потребностей и типа файла, который вы хотите обрабатывать, вы можете использовать различные методы для чтения и записи файлов в Go.</p> <h2 id="как-на-golang-распарсить-дату-sun-25-dec-2022-13-40-53-0300"><a class="header-anchor" href="#как-на-golang-распарсить-дату-sun-25-dec-2022-13-40-53-0300">#</a> как на golang распарсить дату: Sun, 25 Dec 2022 13:40:53 +0300</h2> <p>В Go для парсинга даты используется функция <code>time.Parse()</code>. Для парсинга даты в формате <code>Sun, 25 Dec 2022 13:40:53 +0300</code> вы можете использовать следующий код:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;time&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dateStr <span class="token operator">:=</span> <span class="token string">&quot;Sun, 25 Dec 2022 13:40:53 +0300&quot;</span>
    layout <span class="token operator">:=</span> <span class="token string">&quot;Mon, 02 Jan 2006 15:04:05 -0700&quot;</span>
    date<span class="token punctuation">,</span> err <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>layout<span class="token punctuation">,</span> dateStr<span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Ошибка при парсинге даты:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы использовали функцию <code>time.Parse()</code> для парсинга даты в формате <code>Sun, 25 Dec 2022 13:40:53 +0300</code>. Затем мы вывели дату в консоль.</p> <p>Обратите внимание, что мы использовали константу <code>layout</code>, чтобы указать формат даты, который мы ожидаем. В этом примере мы использовали <code>Mon, 02 Jan 2006 15:04:05 -0700</code>, потому что это соответствует формату <code>Sun, 25 Dec 2022 13:40:53 +0300</code>. Если вы имеете дело с другим форматом даты, вам нужно изменить значение <code>layout</code>.</p> <h2 id="чем-в-golang-отличается-тип-time-time-от-time-time-и-как-и-привести-к-общему-виду"><a class="header-anchor" href="#чем-в-golang-отличается-тип-time-time-от-time-time-и-как-и-привести-к-общему-виду">#</a> чем в golang отличается тип time.Time от *time.Time, и как и привести к общему виду</h2> <p>Тип <code>time.Time</code> представляет собой конкретный момент времени, а тип <code>*time.Time</code> представляет указатель на момент времени.</p> <p>Когда мы работаем с типом <code>time.Time</code>, мы работаем со значением, которое не может быть изменено. Например, если у нас есть переменная <code>t time.Time</code>, то мы можем получать различные значения от нее (например, день, месяц, год), но мы не можем изменять само значение.</p> <p>Когда мы работаем с типом <code>*time.Time</code>, мы работаем с указателем на значение, которое может быть изменено. Например, если у нас есть переменная <code>t *time.Time</code>, то мы можем изменять значение, на которое она указывает, используя оператор разыменования <code>*</code>. Также мы можем изменять сам указатель, присваивая ему новое значение.</p> <p>Чтобы привести типы <code>time.Time</code> и <code>*time.Time</code> к общему виду, мы можем использовать оператор разыменования <code>*</code>. Например, если у нас есть переменная <code>t *time.Time</code>, то мы можем получить значение, на которое она указывает, используя оператор <code>*</code>: <code>val := *t</code>. И наоборот, если у нас есть переменная <code>t time.Time</code>, то мы можем получить указатель на ее значение, используя оператор взятия адреса <code>&amp;</code>: <code>ptr := &amp;t</code>.</p> <h2 id="как-сравнивать-time-time-в-golang"><a class="header-anchor" href="#как-сравнивать-time-time-в-golang">#</a> как сравнивать time.Time в golang</h2> <p>Для сравнения значений типа <code>time.Time</code> в Go используется метод <code>Equal</code>. Метод <code>Equal</code> принимает на вход другое значение типа <code>time.Time</code> и возвращает логическое значение <code>true</code>, если оба значения равны, и <code>false</code> в противном случае.</p> <p>Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;time&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    t1 <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    t2 <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Hour<span class="token punctuation">)</span>

    <span class="token comment">// Сравнение двух значений типа time.Time</span>
    <span class="token keyword">if</span> t1<span class="token punctuation">.</span><span class="token function">Equal</span><span class="token punctuation">(</span>t2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;t1 и t2 равны&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;t1 и t2 не равны&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Также можно сравнивать значения типа <code>time.Time</code> с помощью операторов сравнения (<code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>), так как тип <code>time.Time</code> является сравнимым типом в Go.</p> <p>Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;time&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    t1 <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    t2 <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Hour<span class="token punctuation">)</span>

    <span class="token comment">// Сравнение двух значений типа time.Time</span>
    <span class="token keyword">if</span> t1<span class="token punctuation">.</span><span class="token function">Before</span><span class="token punctuation">(</span>t2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;t1 меньше t2&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> t1<span class="token punctuation">.</span><span class="token function">After</span><span class="token punctuation">(</span>t2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;t1 больше t2&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;t1 и t2 равны&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="как-в-golang-кастовать-типы-приведи-все-примеры"><a class="header-anchor" href="#как-в-golang-кастовать-типы-приведи-все-примеры">#</a> как в golang кастовать типы, приведи все примеры</h2> <p>В Go кастование (или приведение типов) осуществляется с помощью оператора приведения типа <code>T(v)</code>, где <code>T</code> - тип, в который нужно привести значение <code>v</code>.</p> <p>Примеры приведения типов в Go:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token comment">// Приведение целочисленного значения к типу float64</span>
<span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">42</span>
<span class="token keyword">var</span> f <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token function">float64</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token comment">// Приведение значения типа float64 к типу int</span>
<span class="token keyword">var</span> f <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">3.14</span>
<span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token function">int</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>

<span class="token comment">// Приведение значения типа string к типу []byte</span>
<span class="token keyword">var</span> s <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span>
<span class="token keyword">var</span> b <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>

<span class="token comment">// Приведение значения типа []byte к типу string</span>
<span class="token keyword">var</span> b <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token char">'h'</span><span class="token punctuation">,</span> <span class="token char">'e'</span><span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">,</span> <span class="token char">'l'</span><span class="token punctuation">,</span> <span class="token char">'o'</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> s <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token function">string</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>

<span class="token comment">// Приведение значения типа int к типу int64</span>
<span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">42</span>
<span class="token keyword">var</span> i64 <span class="token builtin">int64</span> <span class="token operator">=</span> <span class="token function">int64</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token comment">// Приведение значения типа int64 к типу int</span>
<span class="token keyword">var</span> i64 <span class="token builtin">int64</span> <span class="token operator">=</span> <span class="token number">42</span>
<span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token function">int</span><span class="token punctuation">(</span>i64<span class="token punctuation">)</span>

<span class="token comment">// Приведение значения типа int32 к типу rune</span>
<span class="token keyword">var</span> i32 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token number">42</span>
<span class="token keyword">var</span> r <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token function">rune</span><span class="token punctuation">(</span>i32<span class="token punctuation">)</span>

<span class="token comment">// Приведение значения типа rune к типу int32</span>
<span class="token keyword">var</span> r <span class="token builtin">rune</span> <span class="token operator">=</span> <span class="token char">'a'</span>
<span class="token keyword">var</span> i32 <span class="token builtin">int32</span> <span class="token operator">=</span> <span class="token function">int32</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span>
</code></pre></div><p>Кроме того, в Go есть возможность приведения указателей на разные типы данных. Для этого используется конструкция <code>(*T)(p)</code>, где <code>T</code> - тип, в который нужно привести указатель, а <code>p</code> - указатель на исходный тип.</p> <p>Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token comment">// Приведение указателя на тип int к указателю на тип float64</span>
<span class="token keyword">var</span> i <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">42</span>
<span class="token keyword">var</span> p <span class="token operator">*</span><span class="token builtin">int</span> <span class="token operator">=</span> <span class="token operator">&amp;</span>i
<span class="token keyword">var</span> pf <span class="token operator">*</span><span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">float64</span><span class="token punctuation">)</span><span class="token punctuation">(</span>unsafe<span class="token punctuation">.</span><span class="token function">Pointer</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Здесь мы используем пакет <code>unsafe</code>, который позволяет работать с указателями на разные типы данных. Однако, использование этого пакета может быть опасным и привести к неожиданному поведению программы, поэтому его следует использовать с осторожностью.</p> <h2 id="напиши-как-с-помозью-golang-библиотеки-go-telegram-bot-api-telegram-bot-api-запостить-сообщение-в-канал-с-опредленным-id"><a class="header-anchor" href="#напиши-как-с-помозью-golang-библиотеки-go-telegram-bot-api-telegram-bot-api-запостить-сообщение-в-канал-с-опредленным-id">#</a> напиши как с помозью golang библиотеки go-telegram-bot-api/telegram-bot-api запостить сообщение в канал с опредленным ID</h2> <p>Для того, чтобы отправить сообщение в канал с определенным ID с помощью библиотеки <code>go-telegram-bot-api</code>, нужно выполнить следующие шаги:</p> <ol><li>Создать объект <code>BotAPI</code>, используя токен бота:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/go-telegram-bot-api/telegram-bot-api&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bot<span class="token punctuation">,</span> err <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewBotAPI</span><span class="token punctuation">(</span><span class="token string">&quot;YOUR_BOT_TOKEN&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Создать объект <code>tgbotapi.ChatConfig</code> с ID канала и текстом сообщения:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>chatID <span class="token operator">:=</span> <span class="token function">int64</span><span class="token punctuation">(</span><span class="token number">123456789</span><span class="token punctuation">)</span> <span class="token comment">// ID канала</span>
text <span class="token operator">:=</span> <span class="token string">&quot;Hello, world!&quot;</span> <span class="token comment">// Текст сообщения</span>

msg <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewMessage</span><span class="token punctuation">(</span>chatID<span class="token punctuation">,</span> text<span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>Отправить сообщение с помощью метода <code>BotAPI.Send</code>:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Полный пример кода:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token string">&quot;github.com/go-telegram-bot-api/telegram-bot-api&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bot<span class="token punctuation">,</span> err <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewBotAPI</span><span class="token punctuation">(</span><span class="token string">&quot;YOUR_BOT_TOKEN&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    chatID <span class="token operator">:=</span> <span class="token function">int64</span><span class="token punctuation">(</span><span class="token number">123456789</span><span class="token punctuation">)</span> <span class="token comment">// ID канала</span>
    text <span class="token operator">:=</span> <span class="token string">&quot;Hello, world!&quot;</span> <span class="token comment">// Текст сообщения</span>

    msg <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewMessage</span><span class="token punctuation">(</span>chatID<span class="token punctuation">,</span> text<span class="token punctuation">)</span>

    <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Замените <code>YOUR_BOT_TOKEN</code> на токен вашего бота, <code>123456789</code> на ID вашего канала и <code>&quot;Hello, world!&quot;</code> на текст вашего сообщения.</p> <h2 id="как-в-golang-string-в-int-преобразовать"><a class="header-anchor" href="#как-в-golang-string-в-int-преобразовать">#</a> как в golang string в int преобразовать</h2> <p>Для преобразования строки в целочисленное значение в Go можно использовать функцию <code>strconv.Atoi()</code>. Она принимает на вход строку и возвращает целочисленное значение и ошибку. Если строка не может быть преобразована в целое число, функция возвращает ошибку.</p> <p>Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;strconv&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    str <span class="token operator">:=</span> <span class="token string">&quot;42&quot;</span>
    i<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// Выводит 42</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Если строка содержит некорректное значение, то функция <code>strconv.Atoi()</code> вернет ошибку:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;strconv&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    str <span class="token operator">:=</span> <span class="token string">&quot;not a number&quot;</span>
    i<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token comment">// Выводит &quot;strconv.Atoi: parsing &quot;not a number&quot;: invalid syntax&quot;</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// Выводит 0</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Обратите внимание, что если вам нужно преобразовать строку, которая может содержать десятичные дроби, в числовое значение, то следует использовать функцию <code>strconv.ParseFloat()</code>. Если вам нужно преобразовать число в строку, то следует использовать функцию <code>strconv.Itoa()</code>.</p> <h2 id="как-в-golang-string-в-int64-преобразовать"><a class="header-anchor" href="#как-в-golang-string-в-int64-преобразовать">#</a> как в golang string в int64 преобразовать</h2> <p>Для преобразования строки в целочисленное значение типа <code>int64</code> в Go можно использовать функцию <code>strconv.ParseInt()</code>. Она принимает на вход строку, основание системы счисления (10 для десятичной системы) и размер битового представления целочисленного числа (в нашем случае это 64). Функция возвращает целочисленное значение типа <code>int64</code> и ошибку. Если строка не может быть преобразована в целое число, функция возвращает ошибку.</p> <p>Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;strconv&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    str <span class="token operator">:=</span> <span class="token string">&quot;9223372036854775807&quot;</span>
    i64<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i64<span class="token punctuation">)</span> <span class="token comment">// Выводит 9223372036854775807</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Если строка содержит некорректное значение, то функция <code>strconv.ParseInt()</code> вернет ошибку:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;strconv&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    str <span class="token operator">:=</span> <span class="token string">&quot;not a number&quot;</span>
    i64<span class="token punctuation">,</span> err <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">ParseInt</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token comment">// Выводит &quot;strconv.ParseInt: parsing &quot;not a number&quot;: invalid syntax&quot;</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i64<span class="token punctuation">)</span> <span class="token comment">// Выводит 0</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Обратите внимание, что если вам нужно преобразовать строку, которая может содержать десятичные дроби, в числовое значение типа <code>float64</code>, то следует использовать функцию <code>strconv.ParseFloat()</code>. Если вам нужно преобразовать число в строку, то следует использовать функции <code>strconv.Itoa()</code> для типа <code>int</code> или <code>strconv.FormatInt()</code> для типа <code>int64</code>.</p> <h2 id="как-в-библиотеке-go-telegram-bot-api-telegram-bot-api-вывести-html-контент"><a class="header-anchor" href="#как-в-библиотеке-go-telegram-bot-api-telegram-bot-api-вывести-html-контент">#</a> как в библиотеке go-telegram-bot-api/telegram-bot-api вывести HTML контент</h2> <p>В библиотеке go-telegram-bot-api/telegram-bot-api для вывода HTML контента нужно использовать метод <code>SendMessageConfig.ParseMode</code> и установить значение <code>&quot;HTML&quot;</code>. Например:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>msg <span class="token operator">:=</span> tgbotapi<span class="token punctuation">.</span><span class="token function">NewMessage</span><span class="token punctuation">(</span>chatID<span class="token punctuation">,</span> <span class="token string">&quot;&lt;b&gt;Hello, World!&lt;/b&gt;&quot;</span><span class="token punctuation">)</span>
msg<span class="token punctuation">.</span>ParseMode <span class="token operator">=</span> <span class="token string">&quot;HTML&quot;</span>
bot<span class="token punctuation">.</span><span class="token function">Send</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
</code></pre></div><p>В этом примере мы отправляем сообщение с текстом <code>&lt;b&gt;Hello, World!&lt;/b&gt;</code>, который будет отображаться жирным шрифтом, так как мы установили значение <code>&quot;HTML&quot;</code> для <code>ParseMode</code>. Обратите внимание, что HTML разметка должна быть заключена в теги <code>&lt;b&gt;</code> и <code>&lt;/b&gt;</code>.</p> <h2 id="напиши-санитаизер-для-подготовки-html-сообщения-для-telegram"><a class="header-anchor" href="#напиши-санитаизер-для-подготовки-html-сообщения-для-telegram">#</a> напиши санитайзер для подготовки html сообщения для telegram</h2> <p>Конечная цель санитайзера - подготовить HTML контент для отправки в сообщении Telegram. В соответствии с требованиями Telegram, мы должны сохранить только следующие теги HTML: <code>&lt;b&gt;</code>, <code>&lt;i&gt;</code>, <code>&lt;a&gt;</code>, <code>&lt;code&gt;</code>, <code>&lt;pre&gt;</code>, <code>&lt;strike&gt;</code>, <code>&lt;u&gt;</code>. Все остальные теги и их атрибуты должны быть удалены.</p> <p>Ниже приведен пример функции, которая принимает входную строку HTML и возвращает очищенную версию с сохранением только разрешенных тегов:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;bytes&quot;</span>
    <span class="token string">&quot;golang.org/x/net/html&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">sanitizeHTML</span><span class="token punctuation">(</span>input <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    z <span class="token operator">:=</span> html<span class="token punctuation">.</span><span class="token function">NewTokenizer</span><span class="token punctuation">(</span>bytes<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> output bytes<span class="token punctuation">.</span>Buffer
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        tt <span class="token operator">:=</span> z<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">switch</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> tt <span class="token operator">==</span> html<span class="token punctuation">.</span>ErrorToken<span class="token punctuation">:</span>
            <span class="token keyword">return</span> output<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
        <span class="token keyword">case</span> tt <span class="token operator">==</span> html<span class="token punctuation">.</span>TextToken<span class="token punctuation">:</span>
            output<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>z<span class="token punctuation">.</span><span class="token function">Token</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> tt <span class="token operator">==</span> html<span class="token punctuation">.</span>StartTagToken<span class="token punctuation">:</span>
            tn<span class="token punctuation">,</span> hasAttr <span class="token operator">:=</span> z<span class="token punctuation">.</span><span class="token function">TagName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> <span class="token function">string</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;b&quot;</span> <span class="token operator">||</span> <span class="token function">string</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;i&quot;</span> <span class="token operator">||</span> <span class="token function">string</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;a&quot;</span> <span class="token operator">||</span> <span class="token function">string</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;code&quot;</span> <span class="token operator">||</span> <span class="token function">string</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;pre&quot;</span> <span class="token operator">||</span> <span class="token function">string</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;strike&quot;</span> <span class="token operator">||</span> <span class="token function">string</span><span class="token punctuation">(</span>tn<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">&quot;u&quot;</span> <span class="token punctuation">{</span>
                output<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>z<span class="token punctuation">.</span><span class="token function">Token</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> hasAttr <span class="token punctuation">{</span>
                <span class="token comment">// Remove all other tags with attributes</span>
                z<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Эта функция использует библиотеку <code>golang.org/x/net/html</code> для парсинга HTML кода. Она проходит по всему HTML коду, сохраняя только разрешенные теги и их содержимое. Любые другие теги и их атрибуты будут удалены.</p> <h2 id="как-в-golang-в-строке-заменить-несколько-повторяющихся-символов-на-один"><a class="header-anchor" href="#как-в-golang-в-строке-заменить-несколько-повторяющихся-символов-на-один">#</a> как в golang в строке заменить несколько повторяющихся символов на один</h2> <p>Для замены повторяющихся символов в строке на один символ можно использовать регулярные выражения.</p> <p>Пример кода для замены повторяющихся символов на один символ:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;regexp&quot;</span>
    <span class="token string">&quot;strings&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">replaceRepeatedChars</span><span class="token punctuation">(</span>input <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token comment">// Create a regular expression to match repeated characters</span>
    re <span class="token operator">:=</span> regexp<span class="token punctuation">.</span><span class="token function">MustCompile</span><span class="token punctuation">(</span><span class="token string">`(.)\1+`</span><span class="token punctuation">)</span>
    <span class="token comment">// Replace repeated characters with a single character</span>
    output <span class="token operator">:=</span> re<span class="token punctuation">.</span><span class="token function">ReplaceAllString</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span>
    <span class="token comment">// Remove any leading or trailing whitespace</span>
    output <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">TrimSpace</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span>
    <span class="token keyword">return</span> output
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы используем регулярное выражение <code>(.)\1+</code>, чтобы найти любой символ, повторяющийся более одного раза. Мы заменяем повторяющиеся символы на один символ, используя <code>$1</code> в качестве замены, что означает первую захватывающую группу (то есть символ, который повторяется). Затем мы удаляем любой ведущий или завершающий пробел с помощью функции <code>strings.TrimSpace</code>.</p> <p>Пример использования:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>input <span class="token operator">:=</span> <span class="token string">&quot;hheelllloo    wwoorrlldd&quot;</span>
output <span class="token operator">:=</span> <span class="token function">replaceRepeatedChars</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>output<span class="token punctuation">)</span> <span class="token comment">// Output: &quot;hello world&quot;</span>
</code></pre></div><h2 id="напиши-dockerfile-для-сборки-golang-приложение-под-старые-glibc"><a class="header-anchor" href="#напиши-dockerfile-для-сборки-golang-приложение-под-старые-glibc">#</a> напиши dockerfile для сборки golang приложение под старые glibc</h2> <p>Для сборки Go приложения под старые версии glibc, можно использовать образ с Alpine Linux, который содержит старые библиотеки glibc. Ниже приведен пример Dockerfile для сборки Go приложения под старые версии glibc:</p> <div class="language-Dockerfile extra-class"><pre v-pre="" class="language-dockerfile"><code><span class="token instruction"><span class="token keyword">FROM</span> golang:1.16.3-alpine3.12</span>

<span class="token comment"># Install dependencies</span>
<span class="token instruction"><span class="token keyword">RUN</span> apk --no-cache add libc6-compat gcc musl-dev</span>

<span class="token comment"># Copy the source code into the container</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /app</span>
<span class="token instruction"><span class="token keyword">COPY</span> . .</span>

<span class="token comment"># Build the application</span>
<span class="token instruction"><span class="token keyword">RUN</span> CGO_ENABLED=1 GOOS=linux GOARCH=amd64 go build -ldflags=<span class="token string">&quot;-linkmode external -extldflags -static&quot;</span> -o app</span>

<span class="token comment"># Run the application</span>
<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;./app&quot;</span>]</span>
</code></pre></div><p>В этом примере мы используем образ <code>golang:1.16.3-alpine3.12</code> в качестве основы. Затем мы устанавливаем необходимые зависимости, включая <code>libc6-compat</code>, который содержит старые библиотеки glibc. Затем мы копируем исходный код приложения внутрь контейнера и собираем его с помощью параметра <code>CGO_ENABLED=1</code>, который включает поддержку C-кода, а также параметров <code>GOOS=linux</code> и <code>GOARCH=amd64</code>, которые указывают на целевую платформу. Мы также используем флаги <code>-ldflags=&quot;-linkmode external -extldflags -static&quot;</code>, чтобы сборка статической версии приложения. Наконец, мы запускаем приложение с помощью команды <code>CMD</code>.</p> <p>Для сборки приложения выполните команду:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>docker build -t &lt;image_name&gt; .
</code></pre></div><p>где <code>&lt;image_name&gt;</code> - имя образа, которое вы выбрали для своего приложения.</p> <p>После успешной сборки вы можете запустить приложение с помощью команды:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>docker run &lt;image_name&gt;
</code></pre></div><p>Здесь <code>&lt;image_name&gt;</code> должно соответствовать имени образа, который вы указали во время сборки.</p> <h2 id="есть-ли-библиотеки-в-golang-помогающие-отображать-формы-gridview-с-crud-деиствиями-и-пагинациеи"><a class="header-anchor" href="#есть-ли-библиотеки-в-golang-помогающие-отображать-формы-gridview-с-crud-деиствиями-и-пагинациеи">#</a> есть ли библиотеки в golang помогающие отображать формы, gridview с CRUD действиями и пагинацией</h2> <p>Да, в Go есть несколько библиотек, которые могут помочь в отображении форм, таблиц с CRUD действиями и пагинацией. Некоторые из них:</p> <ol><li><p>Gorilla Web Toolkit - это набор пакетов для разработки веб-приложений на Go. Включает в себя пакеты для обработки маршрутов, сессий, аутентификации и авторизации, а также пакеты для работы с формами и шаблонами.</p></li> <li><p>Beego - это веб-фреймворк на Go, который содержит множество инструментов для разработки веб-приложений. Он включает в себя ORM для работы с базами данных, генератор кода CRUD, инструменты для обработки маршрутов и шаблонов, а также многое другое.</p></li> <li><p>Revel - это еще один веб-фреймворк на Go, который предоставляет множество инструментов для быстрой разработки веб-приложений. Он включает в себя ORM, генератор кода CRUD, инструменты для обработки маршрутов и шаблонов, а также многое другое.</p></li> <li><p>Gin - это легковесный веб-фреймворк на Go, который предоставляет простой и быстрый способ разработки веб-приложений. Он включает в себя инструменты для обработки маршрутов, обработки запросов и ответов, а также инструменты для работы с формами и шаблонами.</p></li> <li><p>Buffalo - это еще один веб-фреймворк на Go, который предоставляет множество инструментов для быстрой разработки веб-приложений. Он включает в себя ORM, генератор кода CRUD, инструменты для обработки маршрутов и шаблонов, а также многое другое.</p></li></ol> <p>Каждый из этих инструментов имеет свои преимущества и недостатки, поэтому выбор зависит от ваших потребностей и предпочтений.</p> <h2 id="напиши-пример-проекта-на-revel-на-golang"><a class="header-anchor" href="#напиши-пример-проекта-на-revel-на-golang">#</a> напиши пример проекта на revel на golang</h2> <p>Допустим, мы хотим создать веб-приложение, которое позволяет пользователям создавать и просматривать заметки. Для этого мы можем использовать Revel и Golang.</p> <p>Первым шагом будет установка Revel и создание нового проекта:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>go get github.com/revel/revel
$GOPATH/bin/revel new noteapp
</code></pre></div><p>Затем мы можем создать контроллер для обработки запросов. Создадим контроллер под названием <code>Note</code>:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>$GOPATH/bin/revel generate controller Note
</code></pre></div><p>Внутри контроллера мы можем создать методы для обработки запросов. Например, мы можем создать метод <code>NewNote</code> для отображения формы создания новой заметки:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> controllers

<span class="token keyword">import</span> <span class="token string">&quot;github.com/revel/revel&quot;</span>

<span class="token keyword">type</span> Note <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token operator">*</span>revel<span class="token punctuation">.</span>Controller
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c Note<span class="token punctuation">)</span> <span class="token function">NewNote</span><span class="token punctuation">(</span><span class="token punctuation">)</span> revel<span class="token punctuation">.</span>Result <span class="token punctuation">{</span>
    <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">Render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Затем мы можем создать шаблон для этого метода. Создадим файл <code>newnote.html</code> в папке <code>views/note/</code>:</p> <div class="language-html extra-class"><pre v-pre="" class="language-html"><code>{{set . &quot;title&quot; &quot;New Note&quot;}}

{{template &quot;header.html&quot; .}}

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>New Note<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>

{{formField .Form &quot;title&quot; &quot;Title&quot; nil}}
{{formField .Form &quot;content&quot; &quot;Content&quot; nil}}

{{submitButton &quot;Save&quot;}}
{{linkTo &quot;Cancel&quot; &quot;Notes.Index&quot;}}
</code></pre></div><p>Мы использовали функции <code>formField</code>, <code>submitButton</code> и <code>linkTo</code> для создания формы. Затем мы можем создать метод для обработки отправки формы и создания новой заметки:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c Note<span class="token punctuation">)</span> <span class="token function">CreateNote</span><span class="token punctuation">(</span><span class="token punctuation">)</span> revel<span class="token punctuation">.</span>Result <span class="token punctuation">{</span>
    title <span class="token operator">:=</span> c<span class="token punctuation">.</span>Params<span class="token punctuation">.</span>Form<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;title&quot;</span><span class="token punctuation">)</span>
    content <span class="token operator">:=</span> c<span class="token punctuation">.</span>Params<span class="token punctuation">.</span>Form<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;content&quot;</span><span class="token punctuation">)</span>

    <span class="token comment">// save note to database</span>

    <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">Redirect</span><span class="token punctuation">(</span>Note<span class="token punctuation">.</span>Index<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Мы получаем данные из формы, сохраняем заметку в базу данных и перенаправляем пользователя на страницу со списком заметок.</p> <p>Осталось только создать метод для отображения списка заметок:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c Note<span class="token punctuation">)</span> <span class="token function">Index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> revel<span class="token punctuation">.</span>Result <span class="token punctuation">{</span>
    <span class="token comment">// get notes from database</span>

    <span class="token keyword">return</span> c<span class="token punctuation">.</span><span class="token function">Render</span><span class="token punctuation">(</span>notes<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Мы получаем список заметок из базы данных и отображаем их на странице с помощью шаблона <code>index.html</code>.</p> <p>Это очень простой пример, но он демонстрирует, как можно использовать Revel и Golang для создания веб-приложений.</p> <h2 id="как-с-помощью-фреимворка-beego-сделать-сервис-отображающии-crud-список-книг"><a class="header-anchor" href="#как-с-помощью-фреимворка-beego-сделать-сервис-отображающии-crud-список-книг">#</a> как с помощью фреймворка beego сделать сервис отображающий CRUD список книг</h2> <p>Для создания CRUD-сервиса списка книг с использованием фреймворка Beego, нужно выполнить следующие шаги:</p> <ol><li>Создать новый проект Beego с помощью команды:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>bee new booklist
</code></pre></div><ol start="2"><li>Создать модель книги. Для этого нужно создать файл models/book.go со следующим содержимым:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package models

type Book struct {
    Id          int    `form:&quot;-&quot;`
    Title       string `form:&quot;title,text,Title:&quot;`
    Author      string `form:&quot;author,text,Author:&quot;`
    Description string `form:&quot;description,text,Description:&quot;`
}
</code></pre></div><ol start="3"><li>Создать контроллер для обработки запросов. Для этого нужно создать файл controllers/book.go со следующим содержимым:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package controllers

import (
    &quot;booklist/models&quot;
    &quot;github.com/astaxie/beego&quot;
)

type BookController struct {
    beego.Controller
}

func (c *BookController) Get() {
    books := models.GetAllBooks()
    c.Data[&quot;Books&quot;] = books
    c.TplName = &quot;index.tpl&quot;
}

func (c *BookController) Post() {
    book := models.Book{}
    if err := c.ParseForm(&amp;book); err != nil {
        c.Data[&quot;error&quot;] = err.Error()
    } else {
        if err := models.AddBook(&amp;book); err != nil {
            c.Data[&quot;error&quot;] = err.Error()
        }
    }
    c.Redirect(&quot;/&quot;, 302)
}

func (c *BookController) Delete() {
    id, _ := c.GetInt(&quot;:id&quot;)
    models.DeleteBook(id)
    c.Redirect(&quot;/&quot;, 302)
}
</code></pre></div><ol start="4"><li>Создать шаблон для отображения списка книг. Для этого нужно создать файл views/index.tpl со следующим содержимым:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;Book List&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Book List&lt;/h1&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;th&gt;Title&lt;/th&gt;
            &lt;th&gt;Author&lt;/th&gt;
            &lt;th&gt;Description&lt;/th&gt;
            &lt;th&gt;Action&lt;/th&gt;
        &lt;/tr&gt;
        {{range .Books}}
        &lt;tr&gt;
            &lt;td&gt;{{.Title}}&lt;/td&gt;
            &lt;td&gt;{{.Author}}&lt;/td&gt;
            &lt;td&gt;{{.Description}}&lt;/td&gt;
            &lt;td&gt;
                &lt;form action=&quot;/book/{{.Id}}&quot; method=&quot;post&quot;&gt;
                    &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;DELETE&quot;&gt;
                    &lt;input type=&quot;submit&quot; value=&quot;Delete&quot;&gt;
                &lt;/form&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        {{end}}
    &lt;/table&gt;
    &lt;h2&gt;Add Book&lt;/h2&gt;
    &lt;form action=&quot;/book&quot; method=&quot;post&quot;&gt;
        &lt;label for=&quot;title&quot;&gt;Title:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;title&quot; name=&quot;title&quot; required&gt;
        &lt;br&gt;
        &lt;label for=&quot;author&quot;&gt;Author:&lt;/label&gt;
        &lt;input type=&quot;text&quot; id=&quot;author&quot; name=&quot;author&quot; required&gt;
        &lt;br&gt;
        &lt;label for=&quot;description&quot;&gt;Description:&lt;/label&gt;
        &lt;textarea id=&quot;description&quot; name=&quot;description&quot; required&gt;&lt;/textarea&gt;
        &lt;br&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Add&quot;&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre></div><ol start="5"><li>Добавить маршруты в файл routers/router.go:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package routers

import (
    &quot;booklist/controllers&quot;
    &quot;github.com/astaxie/beego&quot;
)

func init() {
    beego.Router(&quot;/&quot;, &amp;controllers.BookController{})
    beego.Router(&quot;/book&quot;, &amp;controllers.BookController{})
    beego.Router(&quot;/book/:id:int&quot;, &amp;controllers.BookController{}, &quot;delete:Delete&quot;)
}
</code></pre></div><ol start="6"><li>Добавить методы для работы с БД в файл models/book.go:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package models

import (
    &quot;github.com/astaxie/beego/orm&quot;
)

func GetAllBooks() []Book {
    o := orm.NewOrm()
    var books []Book
    o.QueryTable(&quot;book&quot;).All(&amp;books)
    return books
}

func AddBook(book *Book) error {
    o := orm.NewOrm()
    if _, err := o.Insert(book); err != nil {
        return err
    }
    return nil
}

func DeleteBook(id int) error {
    o := orm.NewOrm()
    if _, err := o.Delete(&amp;Book{Id: id}); err != nil {
        return err
    }
    return nil
}

func init() {
    orm
</code></pre></div><ol start="6"><li>Добавить методы для работы с БД в файл models/book.go (продолжение):</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package models

import (
    &quot;github.com/astaxie/beego/orm&quot;
)

func GetAllBooks() []Book {
    o := orm.NewOrm()
    var books []Book
    o.QueryTable(&quot;book&quot;).All(&amp;books)
    return books
}

func AddBook(book *Book) error {
    o := orm.NewOrm()
    if _, err := o.Insert(book); err != nil {
        return err
    }
    return nil
}

func DeleteBook(id int) error {
    o := orm.NewOrm()
    if _, err := o.Delete(&amp;Book{Id: id}); err != nil {
        return err
    }
    return nil
}

func init() {
    orm.RegisterDriver(&quot;mysql&quot;, orm.DRMySQL)
    orm.RegisterDataBase(&quot;default&quot;, &quot;mysql&quot;, &quot;root:password@tcp(127.0.0.1:3306)/booklist?charset=utf8&quot;)
    orm.RegisterModel(new(Book))
    orm.RunSyncdb(&quot;default&quot;, false, true)
}
</code></pre></div><ol start="7"><li>Запустить приложение с помощью команды:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>bee run
</code></pre></div><p>Теперь вы можете открыть браузер и перейти по адресу http://localhost:8080, чтобы увидеть список книг и добавить новую книгу. Кроме того, вы можете удалить книгу, нажав на кнопку &quot;Delete&quot; рядом с ней в списке.</p> <h2 id="как-в-golang-в-фреимворке-beego-в-комманде-bee-run-задать-номер-порта"><a class="header-anchor" href="#как-в-golang-в-фреимворке-beego-в-комманде-bee-run-задать-номер-порта">#</a> как в golang в фреймворке beego в комманде bee run задать номер порта</h2> <p>В Beego, при запуске приложения с помощью команды <code>bee run</code>, номер порта по умолчанию равен 8080. Если вы хотите задать другой номер порта, вы можете использовать функцию <code>beego.Run</code> в файле main.go вашего проекта.</p> <p>Например, чтобы запустить ваше приложение на порту 8000, вам нужно добавить следующий код в файл main.go:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package main

import (
    &quot;github.com/astaxie/beego&quot;
)

func main() {
    beego.Run(&quot;:8000&quot;)
}
</code></pre></div><p>Теперь, когда вы запускаете свое приложение с помощью команды <code>go run main.go</code>, оно будет запущено на порту 8000, а не на порту 8080.</p> <h2 id="как-в-фреимворке-beego-упаковать-проект-в-один-исполняемыи-фаил"><a class="header-anchor" href="#как-в-фреимворке-beego-упаковать-проект-в-один-исполняемыи-фаил">#</a> как в фреймворке beego упаковать проект в один исполняемый файл</h2> <p>Для упаковки проекта Beego в один исполняемый файл можно воспользоваться утилитой <code>go-bindata</code>. Эта утилита позволяет сгенерировать Go-файлы, которые содержат в себе данные из различных файлов, включая HTML-шаблоны, статические файлы и т.д. Это позволяет упаковать все файлы проекта в один исполняемый файл.</p> <p>Шаги для упаковки проекта Beego в один исполняемый файл:</p> <ol><li>Установите утилиту <code>go-bindata</code> с помощью команды:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>go get -u github.com/go-bindata/go-bindata/...
</code></pre></div><ol start="2"><li>Настройте ваш Beego проект для использования утилиты <code>go-bindata</code>. Для этого в файле <code>main.go</code> добавьте следующий код:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package main

import (
    &quot;net/http&quot;

    &quot;github.com/astaxie/beego&quot;
    &quot;github.com/astaxie/beego/plugins/cors&quot;
    &quot;github.com/elazarl/go-bindata-assetfs&quot;
)

func main() {
    beego.SetStaticPath(&quot;/static&quot;, &quot;static&quot;)

    // Загрузка HTML-шаблонов из папки templates.
    beego.ViewsPath = &quot;templates&quot;
    beego.SetViewsPath(&quot;templates&quot;)
    beego.SetLogger(&quot;file&quot;, `{&quot;filename&quot;:&quot;logs/logs.log&quot;}`)

    // Конфигурация CORS.
    beego.InsertFilter(&quot;*&quot;, beego.BeforeRouter, cors.Allow(&amp;cors.Options{
        AllowOrigins:     []string{&quot;*&quot;},
        AllowMethods:     []string{&quot;PUT&quot;, &quot;PATCH&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;},
        AllowHeaders:     []string{&quot;Origin&quot;, &quot;Authorization&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Content-Type&quot;},
        ExposeHeaders:    []string{&quot;Content-Length&quot;, &quot;Access-Control-Allow-Origin&quot;},
        AllowCredentials: true,
    }))

    // Использование встроенного в Go сервера.
    http.Handle(&quot;/&quot;, http.FileServer(&amp;assetfs.AssetFS{Asset: Asset, AssetDir: AssetDir, Prefix: &quot;&quot;}))
    http.ListenAndServe(&quot;:8080&quot;, nil)
}
</code></pre></div><p>Примечание: Обратите внимание на то, что в приведенном выше коде мы использовали <code>assetfs.AssetFS</code> для загрузки файлов. Это позволяет упаковать все файлы проекта в один исполняемый файл.</p> <ol start="3"><li>Создайте файл <code>bindata.go</code>, в котором будут содержаться данные о вашем проекте. Для этого запустите следующую команду:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>go-bindata -o=bindata.go -pkg=main static/... templates/...
</code></pre></div><p>Эта команда создаст файл <code>bindata.go</code>, в котором будут содержаться данные о всех файлах из папок <code>static</code> и <code>templates</code>.</p> <ol start="4"><li>Теперь вы можете скомпилировать ваш Beego проект в один исполняемый файл. Для этого используйте команду:</li></ol> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>go build -o=app main.go bindata.go
</code></pre></div><p>Эта команда создаст исполняемый файл <code>app</code>, который содержит все файлы вашего проекта.</p> <p>Примечание: Если вы используете операционную систему Windows, замените команду <code>go build</code> на команду <code>go build -ldflags &quot;-H=windowsgui&quot;</code>, чтобы запустить приложение без открытия окна командной строки.</p> <h2 id="напиши-на-golang-на-gin-приложение-для-хранения-информации-о-книгах"><a class="header-anchor" href="#напиши-на-golang-на-gin-приложение-для-хранения-информации-о-книгах">#</a> напиши на golang на gin приложение для хранения информации о книгах</h2> <p>Конечно, вот пример приложения на Golang с использованием фреймворка Gin для хранения информации о книгах:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;errors&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>

 <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// Book структура для хранения информации о книге</span>
<span class="token keyword">type</span> Book <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 ID     <span class="token builtin">string</span> <span class="token string">`json:&quot;id&quot;`</span>
 Title  <span class="token builtin">string</span> <span class="token string">`json:&quot;title&quot;`</span>
 Author <span class="token builtin">string</span> <span class="token string">`json:&quot;author&quot;`</span>
<span class="token punctuation">}</span>

<span class="token comment">// Database база данных для хранения книг</span>
<span class="token keyword">type</span> Database <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 books <span class="token punctuation">[</span><span class="token punctuation">]</span>Book
<span class="token punctuation">}</span>

<span class="token comment">// GetBooks возвращает список всех книг</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>Database<span class="token punctuation">)</span> <span class="token function">GetBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Book <span class="token punctuation">{</span>
 <span class="token keyword">return</span> db<span class="token punctuation">.</span>books
<span class="token punctuation">}</span>

<span class="token comment">// GetBook возвращает книгу с указанным ID</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>Database<span class="token punctuation">)</span> <span class="token function">GetBook</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>Book<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> book <span class="token operator">:=</span> <span class="token keyword">range</span> db<span class="token punctuation">.</span>books <span class="token punctuation">{</span>
  <span class="token keyword">if</span> book<span class="token punctuation">.</span>ID <span class="token operator">==</span> id <span class="token punctuation">{</span>
   <span class="token keyword">return</span> book<span class="token punctuation">,</span> <span class="token boolean">nil</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> Book<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;book not found&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// AddBook добавляет новую книгу в базу данных</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>Database<span class="token punctuation">)</span> <span class="token function">AddBook</span><span class="token punctuation">(</span>book Book<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 db<span class="token punctuation">.</span>books <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span>books<span class="token punctuation">,</span> book<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// DeleteBook удаляет книгу с указанным ID из базы данных</span>
<span class="token keyword">func</span> <span class="token punctuation">(</span>db <span class="token operator">*</span>Database<span class="token punctuation">)</span> <span class="token function">DeleteBook</span><span class="token punctuation">(</span>id <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
 <span class="token keyword">for</span> i<span class="token punctuation">,</span> book <span class="token operator">:=</span> <span class="token keyword">range</span> db<span class="token punctuation">.</span>books <span class="token punctuation">{</span>
  <span class="token keyword">if</span> book<span class="token punctuation">.</span>ID <span class="token operator">==</span> id <span class="token punctuation">{</span>
   db<span class="token punctuation">.</span>books <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>db<span class="token punctuation">.</span>books<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>books<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token operator">...</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span> <span class="token boolean">nil</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;book not found&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 db <span class="token operator">:=</span> Database<span class="token punctuation">{</span><span class="token punctuation">}</span>

 <span class="token comment">// Создание экземпляра Gin</span>
 r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token comment">// Обработчик получения списка всех книг</span>
 r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  books <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">GetBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> books<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token comment">// Обработчик получения книги по ID</span>
 r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/books/:id&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  id <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  book<span class="token punctuation">,</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">GetBook</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
  <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
   c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">:</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> book<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token comment">// Обработчик добавления новой книги</span>
 r<span class="token punctuation">.</span><span class="token function">POST</span><span class="token punctuation">(</span><span class="token string">&quot;/books&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> book Book
  <span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">ShouldBindJSON</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
   c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusBadRequest<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">:</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  db<span class="token punctuation">.</span><span class="token function">AddBook</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span>
  c<span class="token punctuation">.</span><span class="token function">Status</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusCreated<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token comment">// Обработчик удаления книги по ID</span>
 r<span class="token punctuation">.</span><span class="token function">DELETE</span><span class="token punctuation">(</span><span class="token string">&quot;/books/:id&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  id <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">if</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">DeleteBook</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
   c<span class="token punctuation">.</span><span class="token function">JSON</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">:</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  c<span class="token punctuation">.</span><span class="token function">Status</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token comment">// Запуск приложения на порту 8080</span>
 <span class="token keyword">if</span> err <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере создается структура Book для хранения информации о книге, а также структура Database для хранения списка книг и методов для работы с ними. Затем создается экземпляр Gin, который обрабатывает запросы для получения списка книг, получения книги по ID, добавления новой книги и удаления книги по ID.</p> <h2 id="какие-в-golang-в-gin-могут-использоваться-шаблонизаторы"><a class="header-anchor" href="#какие-в-golang-в-gin-могут-использоваться-шаблонизаторы">#</a> какие в golang в gin могут использоваться шаблонизаторы</h2> <p>В фреймворке Gin для рендеринга HTML-шаблонов можно использовать различные шаблонизаторы. Вот некоторые из них:</p> <ol><li><p>html/template - это стандартный пакет Go для рендеринга HTML-шаблонов. Он поставляется вместе с языком Go и поддерживает широкий спектр функциональных возможностей, таких как условия, циклы, переменные и т.д.</p></li> <li><p>Ace - это шаблонизатор, написанный на Go. Он поддерживает широкий спектр функциональных возможностей, таких как наследование шаблонов, вложенные шаблоны, условия, циклы и т.д.</p></li> <li><p>Amber - это шаблонизатор, написанный на Ruby. Он имеет простой синтаксис и поддерживает наследование шаблонов, условия, циклы и многое другое.</p></li> <li><p>Mustache - это шаблонизатор, написанный на JavaScript. Он поддерживает широкий спектр функциональных возможностей, таких как условия, циклы, переменные и т.д.</p></li> <li><p>Pongo2 - это шаблонизатор, написанный на Go. Он имеет простой синтаксис и поддерживает множество функциональных возможностей, таких как наследование шаблонов, условия, циклы и т.д.</p></li> <li><p>Handlebars - это шаблонизатор, написанный на JavaScript. Он имеет простой синтаксис и поддерживает широкий спектр функциональных возможностей, таких как наследование шаблонов, условия, циклы и т.д.</p></li></ol> <p>В Gin для использования шаблонизаторов можно воспользоваться пакетом <code>github.com/gin-gonic/gin/render</code>. Этот пакет определяет интерфейс Renderer, который может быть реализован любым из перечисленных выше шаблонизаторов.</p> <h2 id="напиши-на-golang-на-gin-приложоние-которое-выводит-данные-в-таблице-с-возможностью-сортировки-и-фильтрации-по-столбцам"><a class="header-anchor" href="#напиши-на-golang-на-gin-приложоние-которое-выводит-данные-в-таблице-с-возможностью-сортировки-и-фильтрации-по-столбцам">#</a> напиши на golang на gin приложоние которое выводит данные в таблице с возможностью сортировки и фильтрации по столбцам</h2> <p>Код для такого приложения на Golang с использованием Gin может выглядеть следующим образом:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;net/http&quot;</span>
 <span class="token string">&quot;strconv&quot;</span>
 <span class="token string">&quot;strings&quot;</span>

 <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">// Структура для хранения данных</span>
<span class="token keyword">type</span> Data <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 ID        <span class="token builtin">int</span>
 Name      <span class="token builtin">string</span>
 Age       <span class="token builtin">int</span>
 Email     <span class="token builtin">string</span>
 CreatedAt <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token comment">// Функция для генерации фейковых данных</span>
<span class="token keyword">func</span> <span class="token function">generateData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Data <span class="token punctuation">{</span>
 <span class="token keyword">var</span> data <span class="token punctuation">[</span><span class="token punctuation">]</span>Data
 <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
  d <span class="token operator">:=</span> Data<span class="token punctuation">{</span>
   ID<span class="token punctuation">:</span>        i<span class="token punctuation">,</span>
   Name<span class="token punctuation">:</span>      <span class="token string">&quot;User &quot;</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">,</span>
   Age<span class="token punctuation">:</span>       <span class="token number">20</span> <span class="token operator">+</span> i<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">,</span>
   Email<span class="token punctuation">:</span>     <span class="token string">&quot;user&quot;</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;@example.com&quot;</span><span class="token punctuation">,</span>
   CreatedAt<span class="token punctuation">:</span> <span class="token string">&quot;2022-01-&quot;</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>i<span class="token operator">%</span><span class="token number">28</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
  data <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> d<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> data
<span class="token punctuation">}</span>

<span class="token comment">// Функция для сортировки данных по столбцу</span>
<span class="token keyword">func</span> <span class="token function">sortData</span><span class="token punctuation">(</span>data <span class="token punctuation">[</span><span class="token punctuation">]</span>Data<span class="token punctuation">,</span> column <span class="token builtin">string</span><span class="token punctuation">,</span> order <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Data <span class="token punctuation">{</span>
 <span class="token keyword">switch</span> column <span class="token punctuation">{</span>
 <span class="token keyword">case</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> order <span class="token operator">==</span> <span class="token string">&quot;asc&quot;</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ID <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>ID <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>ID <span class="token operator">&gt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>ID <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token keyword">case</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> order <span class="token operator">==</span> <span class="token string">&quot;asc&quot;</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Name <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Name <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Name <span class="token operator">&gt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Name <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token keyword">case</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> order <span class="token operator">==</span> <span class="token string">&quot;asc&quot;</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Age <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Age <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Age <span class="token operator">&gt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Age <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token keyword">case</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> order <span class="token operator">==</span> <span class="token string">&quot;asc&quot;</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Email <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Email <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>Email <span class="token operator">&gt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>Email <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token keyword">case</span> <span class="token string">&quot;created_at&quot;</span><span class="token punctuation">:</span>
  <span class="token keyword">if</span> order <span class="token operator">==</span> <span class="token string">&quot;asc&quot;</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>CreatedAt <span class="token operator">&lt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>CreatedAt <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
   sort<span class="token punctuation">.</span><span class="token function">Slice</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>CreatedAt <span class="token operator">&gt;</span> data<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>CreatedAt <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> data
<span class="token punctuation">}</span>

<span class="token comment">// Функция для фильтрации данных по столбцу</span>
<span class="token keyword">func</span> <span class="token function">filterData</span><span class="token punctuation">(</span>data <span class="token punctuation">[</span><span class="token punctuation">]</span>Data<span class="token punctuation">,</span> column <span class="token builtin">string</span><span class="token punctuation">,</span> keyword <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Data <span class="token punctuation">{</span>
 <span class="token keyword">var</span> filteredData <span class="token punctuation">[</span><span class="token punctuation">]</span>Data
 <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> d <span class="token operator">:=</span> <span class="token keyword">range</span> data <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> column <span class="token punctuation">{</span>
  <span class="token keyword">case</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>ID<span class="token punctuation">)</span><span class="token punctuation">,</span> keyword<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    filteredData <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>filteredData<span class="token punctuation">,</span> d<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
  <span class="token keyword">case</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> keyword<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    filteredData <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>filteredData<span class="token punctuation">,</span> d<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
  <span class="token keyword">case</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>Age<span class="token punctuation">)</span><span class="token punctuation">,</span> keyword<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    filteredData <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>filteredData<span class="token punctuation">,</span> d<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
  <span class="token keyword">case</span> <span class="token string">&quot;email&quot;</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>Email<span class="token punctuation">,</span> keyword<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    filteredData <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>filteredData<span class="token punctuation">,</span> d<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
  <span class="token keyword">case</span> <span class="token string">&quot;created_at&quot;</span><span class="token punctuation">:</span>
   <span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>CreatedAt<span class="token punctuation">,</span> keyword<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    filteredData <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>filteredData<span class="token punctuation">,</span> d<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">return</span> filteredData
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token comment">// Обработчик запроса на главную страницу</span>
 r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Генерируем фейковые данные</span>
  data <span class="token operator">:=</span> <span class="token function">generateData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token comment">// Получаем параметры сортировки и фильтрации из URL</span>
  sortColumn <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;sort_column&quot;</span><span class="token punctuation">)</span>
  sortOrder <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;sort_order&quot;</span><span class="token punctuation">)</span>
  filterColumn <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;filter_column&quot;</span><span class="token punctuation">)</span>
  filterKeyword <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">Query</span><span class="token punctuation">(</span><span class="token string">&quot;filter_keyword&quot;</span><span class="token punctuation">)</span>

  <span class="token comment">// Сортируем данные</span>
  <span class="token keyword">if</span> sortColumn <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> sortOrder <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
   data <span class="token operator">=</span> <span class="token function">sortData</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> sortColumn<span class="token punctuation">,</span> sortOrder<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Фильтруем данные</span>
  <span class="token keyword">if</span> filterColumn <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> filterKeyword <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
   data <span class="token operator">=</span> filter
   <span class="token function">Data</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> filterColumn<span class="token punctuation">,</span> filterKeyword<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Отображаем данные в таблице</span>
  c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span>
   <span class="token string">&quot;Data&quot;</span><span class="token punctuation">:</span>        data<span class="token punctuation">,</span>
   <span class="token string">&quot;SortColumn&quot;</span><span class="token punctuation">:</span>  sortColumn<span class="token punctuation">,</span>
   <span class="token string">&quot;SortOrder&quot;</span><span class="token punctuation">:</span>   sortOrder<span class="token punctuation">,</span>
   <span class="token string">&quot;FilterColumn&quot;</span><span class="token punctuation">:</span> filterColumn<span class="token punctuation">,</span>
   <span class="token string">&quot;FilterKeyword&quot;</span><span class="token punctuation">:</span> filterKeyword<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном коде мы определяем структуру <code>Data</code> для хранения наших данных. Затем мы создаем функцию <code>generateData</code>, которая генерирует фейковые данные. Далее мы определяем две функции для сортировки и фильтрации данных по столбцам.</p> <p>В основной функции <code>main</code> мы создаем обработчик запроса на главную страницу. В этом обработчике мы сначала генерируем фейковые данные, затем получаем параметры сортировки и фильтрации из URL и применяем их к данным. Наконец, мы отображаем данные в таблице с помощью шаблона <code>index.html</code> и передаем в него параметры сортировки и фильтрации.</p> <p>Шаблон <code>index.html</code> может выглядеть следующим образом:</p> <div class="language-html extra-class"><pre v-pre="" class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Table with sorting and filtering<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">table, th, td</span> <span class="token punctuation">{</span>
   <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
   <span class="token property">border-collapse</span><span class="token punctuation">:</span> collapse<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">th, td</span> <span class="token punctuation">{</span>
   <span class="token property">padding</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">th</span> <span class="token punctuation">{</span>
   <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
 </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>'<span class="token operator">/</span><span class="token operator">?</span>sort_column<span class="token operator">=</span>id<span class="token operator">&amp;</span>sort_order<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">if</span> eq <span class="token punctuation">.</span>SortColumn </span><span class="token punctuation">&quot;</span></span></span><span class="token attr-name">id&quot;}}{{if</span> <span class="token attr-name">eq</span> <span class="token attr-name">.SortOrder</span> <span class="token attr-name">&quot;asc&quot;}}desc{{else}}asc{{end}}{{else}}asc{{end}}'&quot;</span><span class="token punctuation">&gt;</span></span>ID<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>'<span class="token operator">/</span><span class="token operator">?</span>sort_column<span class="token operator">=</span>name<span class="token operator">&amp;</span>sort_order<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">if</span> eq <span class="token punctuation">.</span>SortColumn </span><span class="token punctuation">&quot;</span></span></span><span class="token attr-name">name&quot;}}{{if</span> <span class="token attr-name">eq</span> <span class="token attr-name">.SortOrder</span> <span class="token attr-name">&quot;asc&quot;}}desc{{else}}asc{{end}}{{else}}asc{{end}}'&quot;</span><span class="token punctuation">&gt;</span></span>Name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>'<span class="token operator">/</span><span class="token operator">?</span>sort_column<span class="token operator">=</span>age<span class="token operator">&amp;</span>sort_order<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">if</span> eq <span class="token punctuation">.</span>SortColumn </span><span class="token punctuation">&quot;</span></span></span><span class="token attr-name">age&quot;}}{{if</span> <span class="token attr-name">eq</span> <span class="token attr-name">.SortOrder</span> <span class="token attr-name">&quot;asc&quot;}}desc{{else}}asc{{end}}{{else}}asc{{end}}'&quot;</span><span class="token punctuation">&gt;</span></span>Age<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>'<span class="token operator">/</span><span class="token operator">?</span>sort_column<span class="token operator">=</span>email<span class="token operator">&amp;</span>sort_order<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">if</span> eq <span class="token punctuation">.</span>SortColumn </span><span class="token punctuation">&quot;</span></span></span><span class="token attr-name">email&quot;}}{{if</span> <span class="token attr-name">eq</span> <span class="token attr-name">.SortOrder</span> <span class="token attr-name">&quot;asc&quot;}}desc{{else}}asc{{end}}{{else}}asc{{end}}'&quot;</span><span class="token punctuation">&gt;</span></span>Email<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value javascript language-javascript">window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href<span class="token operator">=</span>'<span class="token operator">/</span><span class="token operator">?</span>sort_column<span class="token operator">=</span>created_at<span class="token operator">&amp;</span>sort_order<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token keyword">if</span> eq <span class="token punctuation">.</span>SortColumn </span><span class="token punctuation">&quot;</span></span></span><span class="token attr-name">created_at&quot;}}{{if</span> <span class="token attr-name">eq</span> <span class="token attr-name">.SortOrder</span> <span class="token attr-name">&quot;asc&quot;}}desc{{else}}asc{{end}}{{else}}asc{{end}}'&quot;</span><span class="token punctuation">&gt;</span></span>Created At<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter_id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{if eq .FilterColumn <span class="token punctuation">&quot;</span></span><span class="token attr-name">id&quot;}}{{.FilterKeyword}}{{end}}&quot;</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter_name<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{if eq .FilterColumn <span class="token punctuation">&quot;</span></span><span class="token attr-name">name&quot;}}{{.FilterKeyword}}{{end}}&quot;</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter_age<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{if eq .FilterColumn <span class="token punctuation">&quot;</span></span><span class="token attr-name">age&quot;}}{{.FilterKeyword}}{{end}}&quot;</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter_email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{if eq .FilterColumn <span class="token punctuation">&quot;</span></span><span class="token attr-name">email&quot;}}{{.FilterKeyword}}{{end}}&quot;</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter_created_at<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{if eq .FilterColumn <span class="token punctuation">&quot;</span></span><span class="token attr-name">created_at&quot;}}{{.FilterKeyword}}{{end}}&quot;</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  {{range .Data}}
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{.ID}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{.Name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{.Age}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{.Email}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>{{.CreatedAt}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
  {{end}}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>В этом шаблоне мы определяем таблицу с пятью столбцами: <code>ID</code>, <code>Name</code>, <code>Age</code>, <code>Email</code> и <code>Created At</code>. Каждая ячейка заголовка таблицы имеет атрибут <code>onclick</code>, который вызывает JavaScript-функцию для сортировки данных по соответствующему столбцу. Каждая строка таблицы содержит данные из структуры <code>Data</code>.</p> <p>Также мы добавляем строки для фильтрации данных. Каждая строка содержит поле ввода для фильтрации по соответствующему столбцу. Значение поля ввода устанавливается на основе параметров фильтрации из URL.</p> <p>Приложение готово к запуску. Чтобы запустить его, сохраните код в файле <code>main.go</code>, установите Gin и запустите приложение с помощью команды <code>go run main.go</code>. После этого вы можете открыть <code>http://localhost:8080</code> в своем браузере и протестировать приложение.</p> <h2 id="golang-getting-struct-attribute-name"><a class="header-anchor" href="#golang-getting-struct-attribute-name">#</a> Golang- Getting struct attribute name</h2> <p>Use the Type:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;reflect&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> MultiQuestions <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    QuestionId   <span class="token builtin">int64</span>
    QuestionType <span class="token builtin">string</span>
    QuestionText <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>q <span class="token operator">*</span>MultiQuestions<span class="token punctuation">)</span> <span class="token function">StructAttrName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>MultiQuestions<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StructAttrName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="http://play.golang.org/p/su7VIKXBE2" target="_blank" rel="noopener noreferrer">http://play.golang.org/p/su7VIKXBE2<OutboundLink></OutboundLink></a></p> <p>You also can consider to utility functions defined in <a href="https://github.com/fatih/structure" target="_blank" rel="noopener noreferrer"><code>github.com/fatih/structure</code><OutboundLink></OutboundLink></a>, like the <a href="https://github.com/fatih/structure/blob/69a6a30d8e7fca1a64ac04d1a2db629079603db0/structure.go#L120-L146" target="_blank" rel="noopener noreferrer"><code>Fields(s interface{}) []string</code><OutboundLink></OutboundLink></a> one, which work on pointers or objects, including <code>struct</code> fields within the <code>struct</code>.</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;reflect&quot;</span>

    <span class="token string">&quot;github.com/fatih/structure&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> MultiQuestions <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    QuestionId   <span class="token builtin">int64</span>
    QuestionType <span class="token builtin">string</span>
    QuestionText <span class="token builtin">string</span>
    SubMQ        SubMultiQuestions
<span class="token punctuation">}</span>

<span class="token keyword">type</span> SubMultiQuestions <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>q <span class="token operator">*</span>MultiQuestions<span class="token punctuation">)</span> <span class="token function">StructAttrName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> reflect<span class="token punctuation">.</span><span class="token function">Indirect</span><span class="token punctuation">(</span>reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Field</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Name
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>MultiQuestions<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">StructAttrName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">Fields</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>MultiQuestions<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">Fields</span><span class="token punctuation">(</span>MultiQuestions<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Output:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>SubMQ
<span class="token punctuation">[</span>QuestionId QuestionType QuestionText SubMQ<span class="token punctuation">]</span>
<span class="token punctuation">[</span>QuestionId QuestionType QuestionText SubMQ<span class="token punctuation">]</span>
</code></pre></div><p>See a full example in this <a href="http://play.golang.org/p/smKfn0lx1t" target="_blank" rel="noopener noreferrer">play.golang.org<OutboundLink></OutboundLink></a></p> <h2 id="golang-dynamic-access-to-a-struct-property"><a class="header-anchor" href="#golang-dynamic-access-to-a-struct-property">#</a> Golang dynamic access to a struct property</h2> <p>Use the <a href="http://godoc.org/reflect" target="_blank" rel="noopener noreferrer">reflect<OutboundLink></OutboundLink></a> package to set a field by name:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token comment">// setField sets field of v with given name to given value.</span>
<span class="token keyword">func</span> <span class="token function">setField</span><span class="token punctuation">(</span>v <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> name <span class="token builtin">string</span><span class="token punctuation">,</span> value <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    <span class="token comment">// v must be a pointer to a struct</span>
    rv <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">ValueOf</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
    <span class="token keyword">if</span> rv<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Ptr <span class="token operator">||</span> rv<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>Struct <span class="token punctuation">{</span>
        <span class="token keyword">return</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;v must be pointer to struct&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Dereference pointer</span>
    rv <span class="token operator">=</span> rv<span class="token punctuation">.</span><span class="token function">Elem</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Lookup field by name</span>
    fv <span class="token operator">:=</span> rv<span class="token punctuation">.</span><span class="token function">FieldByName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token operator">!</span>fv<span class="token punctuation">.</span><span class="token function">IsValid</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;not a field name: %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Field must be exported</span>
    <span class="token keyword">if</span> <span class="token operator">!</span>fv<span class="token punctuation">.</span><span class="token function">CanSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;cannot set field %s&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// We expect a string field</span>
    <span class="token keyword">if</span> fv<span class="token punctuation">.</span><span class="token function">Kind</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> reflect<span class="token punctuation">.</span>String <span class="token punctuation">{</span>
        <span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;%s is not a string field&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Set the value</span>
    fv<span class="token punctuation">.</span><span class="token function">SetString</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Call it like this:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">var</span> config SshConfig

<span class="token operator">...</span>

err <span class="token operator">:=</span> <span class="token function">setField</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>config<span class="token punctuation">,</span> split<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>split<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
   <span class="token comment">// handle error</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="напиши-примеры-использования-writefile-в-golang"><a class="header-anchor" href="#напиши-примеры-использования-writefile-в-golang">#</a> напиши примеры использования WriteFile в golang</h2> <p><code>WriteFile</code> - это функция из пакета <code>io/ioutil</code>, которая записывает байты в файл. Вот несколько примеров использования <code>WriteFile</code> в Golang:</p> <ol><li>Запись строки в файл:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;io/ioutil&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 message <span class="token operator">:=</span> <span class="token string">&quot;Hello, World!&quot;</span>

 err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">WriteFile</span><span class="token punctuation">(</span><span class="token string">&quot;output.txt&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0644</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Error writing file:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;File written successfully&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Этот код записывает строку &quot;Hello, World!&quot; в файл <code>output.txt</code>. Функция <code>WriteFile</code> принимает имя файла в качестве первого аргумента, байты для записи в качестве второго аргумента и права доступа к файлу в качестве третьего аргумента.</p> <ol start="2"><li>Запись байтов в файл:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;io/ioutil&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 data <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">,</span> <span class="token number">114</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">}</span>

 err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">WriteFile</span><span class="token punctuation">(</span><span class="token string">&quot;output.txt&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token number">0644</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Error writing file:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;File written successfully&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Этот код записывает байты в файл <code>output.txt</code>. В этом примере используется срез байтов для представления данных, которые нужно записать в файл.</p> <ol start="3"><li>Добавление данных в файл:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;io/ioutil&quot;</span>
 <span class="token string">&quot;os&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 message <span class="token operator">:=</span> <span class="token string">&quot;Hello, World!\n&quot;</span>

 <span class="token comment">// Открытие файла для записи</span>
 file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">OpenFile</span><span class="token punctuation">(</span><span class="token string">&quot;output.txt&quot;</span><span class="token punctuation">,</span> os<span class="token punctuation">.</span>O_APPEND<span class="token operator">|</span>os<span class="token punctuation">.</span>O_CREATE<span class="token operator">|</span>os<span class="token punctuation">.</span>O_WRONLY<span class="token punctuation">,</span> <span class="token number">0644</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Error opening file:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token comment">// Добавление данных в файл</span>
 <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">WriteString</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Error writing file:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;File written successfully&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Этот код открывает файл <code>output.txt</code> для записи с помощью <code>os.OpenFile</code> и добавляет строку &quot;Hello, World!\n&quot; в конец файла с помощью <code>file.WriteString</code>. Обратите внимание, что в этом примере используется <code>os.OpenFile</code>, а не <code>ioutil.WriteFile</code>.</p> <h2 id="напиши-как-получить-список-фаилов-используя-compress-gzip-в-golang"><a class="header-anchor" href="#напиши-как-получить-список-фаилов-используя-compress-gzip-в-golang">#</a> напиши как получить список файлов используя     compress/gzip в golang</h2> <p>Для получения списка файлов, содержащихся в gzip-архиве в Golang, необходимо выполнить следующие шаги:</p> <ol><li>Открыть gzip-файл с помощью функции <code>os.Open()</code> и передать ее в функцию <code>gzip.NewReader()</code>, чтобы создать объект <code>gzip.Reader</code>.</li> <li>Прочитать заголовок архива с помощью метода <code>Next()</code> объекта <code>gzip.Reader</code>.</li> <li>Если заголовок архива содержит информацию о файле, то вызвать метод <code>Name</code> объекта <code>gzip.Header</code>, чтобы получить имя файла.</li> <li>Повторять шаги 2-3 для каждого файла в архиве, до тех пор, пока метод <code>Next()</code> не вернет ошибку <code>io.EOF</code>, что означает конец архива.</li></ol> <p>Пример кода:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;compress/gzip&quot;</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;io&quot;</span>
    <span class="token string">&quot;os&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    file<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;example.gz&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    reader<span class="token punctuation">,</span> err <span class="token operator">:=</span> gzip<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> reader<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        header<span class="token punctuation">,</span> err <span class="token operator">:=</span> reader<span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">==</span> io<span class="token punctuation">.</span>EOF <span class="token punctuation">{</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> header<span class="token punctuation">.</span><span class="token function">Mode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">IsRegular</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>header<span class="token punctuation">.</span>Name<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном примере мы открываем gzip-файл <code>example.gz</code>, создаем объект <code>gzip.Reader</code>, итерируемся по файлам в архиве и выводим их имена. Если файл является директорией или символической ссылкой, то он будет пропущен.</p> <h2 id="может-ли-gz-соджержать-несколько-фаилов"><a class="header-anchor" href="#может-ли-gz-соджержать-несколько-фаилов">#</a> может ли gz соджержать несколько файлов</h2> <p>Да, gzip-файл может содержать несколько файлов, объединенных в архив. Для этого каждый файл в архиве должен быть сжат с помощью gzip-компрессии и записан в gzip-файл последовательно, один за другим.</p> <p>При чтении такого gzip-файла в Golang, как описано в предыдущем ответе, метод <code>Next()</code> объекта <code>gzip.Reader</code> будет возвращать заголовки каждого файла в архиве, и вы сможете обрабатывать каждый файл отдельно.</p> <h2 id="напиши-mitmproxy-на-go-с-веб-интерфеисом"><a class="header-anchor" href="#напиши-mitmproxy-на-go-с-веб-интерфеисом">#</a> напиши mitmproxy на go с веб-интерфейсом</h2> <p>Для написания mitmproxy на Go с веб-интерфейсом можно использовать следующие библиотеки:</p> <ul><li><code>gopacket</code> для работы с сетевыми пакетами;</li> <li><code>http</code> для работы с HTTP-запросами и ответами;</li> <li><code>websocket</code> для реализации веб-интерфейса.</li></ul> <p>Пример кода:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;log&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>

 <span class="token string">&quot;github.com/google/gopacket&quot;</span>
 <span class="token string">&quot;github.com/google/gopacket/layers&quot;</span>
 <span class="token string">&quot;github.com/google/gopacket/pcap&quot;</span>
 <span class="token string">&quot;github.com/gorilla/websocket&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> upgrader <span class="token operator">=</span> websocket<span class="token punctuation">.</span>Upgrader<span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 iface <span class="token operator">:=</span> <span class="token string">&quot;eth0&quot;</span> <span class="token comment">// интерфейс, на котором будут перехватываться пакеты</span>
 handle<span class="token punctuation">,</span> err <span class="token operator">:=</span> pcap<span class="token punctuation">.</span><span class="token function">OpenLive</span><span class="token punctuation">(</span>iface<span class="token punctuation">,</span> <span class="token number">65535</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> pcap<span class="token punctuation">.</span>BlockForever<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">defer</span> handle<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token comment">// установка фильтра на перехватываемые пакеты</span>
 filter <span class="token operator">:=</span> <span class="token string">&quot;tcp port 80 or tcp port 443&quot;</span>
 err <span class="token operator">=</span> handle<span class="token punctuation">.</span><span class="token function">SetBPFFilter</span><span class="token punctuation">(</span>filter<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// запуск веб-сервера на порту 8080</span>
 http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> handleWebsocket<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token comment">// перехват пакетов</span>
 packetSource <span class="token operator">:=</span> gopacket<span class="token punctuation">.</span><span class="token function">NewPacketSource</span><span class="token punctuation">(</span>handle<span class="token punctuation">,</span> handle<span class="token punctuation">.</span><span class="token function">LinkType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token keyword">for</span> packet <span class="token operator">:=</span> <span class="token keyword">range</span> packetSource<span class="token punctuation">.</span><span class="token function">Packets</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// обработка только TCP-пакетов</span>
  <span class="token keyword">if</span> tcpLayer <span class="token operator">:=</span> packet<span class="token punctuation">.</span><span class="token function">Layer</span><span class="token punctuation">(</span>layers<span class="token punctuation">.</span>LayerTypeTCP<span class="token punctuation">)</span><span class="token punctuation">;</span> tcpLayer <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
   tcp <span class="token operator">:=</span> tcpLayer<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token operator">*</span>layers<span class="token punctuation">.</span>TCP<span class="token punctuation">)</span>
   <span class="token keyword">if</span> tcp<span class="token punctuation">.</span>SYN <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>tcp<span class="token punctuation">.</span>ACK <span class="token punctuation">{</span>
    <span class="token comment">// обработка только начала TCP-сессии</span>
    <span class="token keyword">go</span> <span class="token function">handleSession</span><span class="token punctuation">(</span>packet<span class="token punctuation">)</span>
   <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">handleSession</span><span class="token punctuation">(</span>packet gopacket<span class="token punctuation">.</span>Packet<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// обработка TCP-сессии между клиентом и сервером</span>
 <span class="token comment">// перехват и изменение HTTP-запросов и ответов</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">handleWebsocket</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// обработка веб-сокета для отправки данных на веб-страницу</span>
 conn<span class="token punctuation">,</span> err <span class="token operator">:=</span> upgrader<span class="token punctuation">.</span><span class="token function">Upgrade</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> r<span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">defer</span> conn<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token keyword">for</span> <span class="token punctuation">{</span>
  <span class="token comment">// отправка данных на веб-страницу</span>
  <span class="token keyword">if</span> err <span class="token operator">:=</span> conn<span class="token punctuation">.</span><span class="token function">WriteMessage</span><span class="token punctuation">(</span>websocket<span class="token punctuation">.</span>TextMessage<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
   log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
   <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Конечно, этот код является только примером и требует доработки и тестирования. Кроме того, для реализации полноценного mitmproxy на Go потребуется больше времени и усилий.</p> <h2 id="напиши-man-in-the-middle-proxy-на-golang-с-веб-интерфеисом-для-фильтрации"><a class="header-anchor" href="#напиши-man-in-the-middle-proxy-на-golang-с-веб-интерфеисом-для-фильтрации">#</a> напиши man in the middle proxy на golang с веб-интерфейсом для фильтрации</h2> <p>Ниже приведен пример реализации простого man-in-the-middle прокси на Go с веб-интерфейсом для фильтрации. Прокси перехватывает HTTP-запросы и ответы между клиентом и сервером, позволяет изменять их и отправлять их дальше. Веб-интерфейс позволяет настраивать фильтры для перехвата только определенных запросов и ответов.</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;io/ioutil&quot;</span>
 <span class="token string">&quot;log&quot;</span>
 <span class="token string">&quot;net&quot;</span>
 <span class="token string">&quot;net/http&quot;</span>
 <span class="token string">&quot;net/http/httputil&quot;</span>
 <span class="token string">&quot;net/url&quot;</span>
 <span class="token string">&quot;strings&quot;</span>
 <span class="token string">&quot;sync&quot;</span>

 <span class="token string">&quot;github.com/gorilla/mux&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Proxy <span class="token keyword">struct</span> <span class="token punctuation">{</span>
 mu           sync<span class="token punctuation">.</span>Mutex
 transport    <span class="token operator">*</span>http<span class="token punctuation">.</span>Transport
 roundTripper <span class="token operator">*</span>http<span class="token punctuation">.</span>RoundTripper
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">NewProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>Proxy <span class="token punctuation">{</span>
 p <span class="token operator">:=</span> <span class="token operator">&amp;</span>Proxy<span class="token punctuation">{</span>
  transport<span class="token punctuation">:</span> <span class="token operator">&amp;</span>http<span class="token punctuation">.</span>Transport<span class="token punctuation">{</span>
   Proxy<span class="token punctuation">:</span> http<span class="token punctuation">.</span>ProxyFromEnvironment<span class="token punctuation">,</span>
   DialContext<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span>net<span class="token punctuation">.</span>Dialer<span class="token punctuation">{</span>
    Timeout<span class="token punctuation">:</span>   <span class="token number">30</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">,</span>
    KeepAlive<span class="token punctuation">:</span> <span class="token number">30</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">,</span>
    DualStack<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>DialContext<span class="token punctuation">,</span>
   MaxIdleConns<span class="token punctuation">:</span>          <span class="token number">100</span><span class="token punctuation">,</span>
   IdleConnTimeout<span class="token punctuation">:</span>       <span class="token number">90</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">,</span>
   TLSHandshakeTimeout<span class="token punctuation">:</span>   <span class="token number">10</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">,</span>
   ExpectContinueTimeout<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span>

 p<span class="token punctuation">.</span>roundTripper <span class="token operator">=</span> <span class="token operator">&amp;</span>http<span class="token punctuation">.</span>RoundTripper<span class="token punctuation">{</span>
  Transport<span class="token punctuation">:</span> p<span class="token punctuation">.</span>transport<span class="token punctuation">,</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">return</span> p
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>p <span class="token operator">*</span>Proxy<span class="token punctuation">)</span> <span class="token function">ServeHTTP</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s %s %s&quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>RemoteAddr<span class="token punctuation">,</span> r<span class="token punctuation">.</span>Method<span class="token punctuation">,</span> r<span class="token punctuation">.</span>URL<span class="token punctuation">)</span>

 <span class="token comment">// Добавьте здесь логику фильтрации запросов, если это необходимо</span>
 <span class="token keyword">if</span> r<span class="token punctuation">.</span>URL<span class="token punctuation">.</span>Path <span class="token operator">==</span> <span class="token string">&quot;/filtered&quot;</span> <span class="token punctuation">{</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Filtered request&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusForbidden<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 proxyReq <span class="token operator">:=</span> httputil<span class="token punctuation">.</span><span class="token function">NewRequest</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Method<span class="token punctuation">,</span> r<span class="token punctuation">.</span>URL<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
 proxyReq<span class="token punctuation">.</span>Header <span class="token operator">=</span> r<span class="token punctuation">.</span>Header
 proxyReq<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Del</span><span class="token punctuation">(</span><span class="token string">&quot;Proxy-Connection&quot;</span><span class="token punctuation">)</span>

 resp<span class="token punctuation">,</span> err <span class="token operator">:=</span> p<span class="token punctuation">.</span>roundTripper<span class="token punctuation">.</span><span class="token function">RoundTrip</span><span class="token punctuation">(</span>proxyReq<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;RoundTrip error: %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusBadGateway<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">defer</span> resp<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 respBytes<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  log<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;ReadAll error: %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
  http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
  <span class="token keyword">return</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">for</span> k<span class="token punctuation">,</span> vv <span class="token operator">:=</span> <span class="token keyword">range</span> resp<span class="token punctuation">.</span>Header <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> vv <span class="token punctuation">{</span>
   w<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
 w<span class="token punctuation">.</span><span class="token function">WriteHeader</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>StatusCode<span class="token punctuation">)</span>
 w<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>respBytes<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 r <span class="token operator">:=</span> mux<span class="token punctuation">.</span><span class="token function">NewRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 proxy <span class="token operator">:=</span> <span class="token function">NewProxy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 r<span class="token punctuation">.</span><span class="token function">PathPrefix</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span>proxy<span class="token punctuation">)</span>

 log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Для запуска этого прокси необходимо убедиться, что в вашей сети нет других сервисов на порту 8080, и запустить его следующей командой:</p> <div class="language-sh extra-class"><pre v-pre="" class="language-sh"><code>go run proxy.go
</code></pre></div><p>После этого вы можете настроить свой браузер на использование этого прокси-сервера и перейти на страницу <code>http://localhost:8080/</code>, чтобы начать использование веб-интерфейса. На этой странице вы можете указать фильтры для перехвата запросов и ответов, а также просмотреть и изменить содержимое перехваченных запросов и ответов.</p> <h2 id="напиши-scrapping-код-на-golang-для-получения-статеи-с-саитов"><a class="header-anchor" href="#напиши-scrapping-код-на-golang-для-получения-статеи-с-саитов">#</a> напиши scrapping код на golang для получения статей с сайтов</h2> <p>Код для получения статей с сайта на Golang может быть следующим:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;log&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
    <span class="token string">&quot;io/ioutil&quot;</span>

    <span class="token string">&quot;github.com/PuerkitoBio/goquery&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Запрашиваем страницу сайта</span>
    response<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.example.com/articles&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> response<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Считываем содержимое страницы</span>
    body<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Создаем объект goquery для парсинга HTML</span>
    doc<span class="token punctuation">,</span> err <span class="token operator">:=</span> goquery<span class="token punctuation">.</span><span class="token function">NewDocumentFromReader</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Находим все ссылки на статьи</span>
    doc<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Each</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>index <span class="token builtin">int</span><span class="token punctuation">,</span> element <span class="token operator">*</span>goquery<span class="token punctuation">.</span>Selection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        href<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> element<span class="token punctuation">.</span><span class="token function">Attr</span><span class="token punctuation">(</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>href<span class="token punctuation">,</span> <span class="token string">&quot;/articles/&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Запрашиваем страницу статьи</span>
            articleResponse<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">defer</span> articleResponse<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment">// Считываем содержимое страницы статьи</span>
            articleBody<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>articleResponse<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// Парсим содержимое страницы статьи</span>
            articleDoc<span class="token punctuation">,</span> err <span class="token operator">:=</span> goquery<span class="token punctuation">.</span><span class="token function">NewDocumentFromReader</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>articleBody<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// Находим заголовок и содержимое статьи</span>
            title <span class="token operator">:=</span> articleDoc<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">&quot;h1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            content <span class="token operator">:=</span> articleDoc<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">&quot;.content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment">// Выводим заголовок и содержимое статьи на экран</span>
            fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n%s\n&quot;</span><span class="token punctuation">,</span> title<span class="token punctuation">,</span> content<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Этот код получает список всех ссылок на статьи на странице сайта, затем для каждой статьи запрашивает ее страницу и парсит содержимое, выводя заголовок и содержимое на экран. В примере используется библиотека goquery для парсинга HTML.</p> <h2 id="напиши-crawler-на-golang-для-сохранения-статеи-с-саита"><a class="header-anchor" href="#напиши-crawler-на-golang-для-сохранения-статеи-с-саита">#</a> напиши crawler на golang для сохранения статей с сайта</h2> <p>Вот пример кода для создания веб-сканера на Golang, который будет сохранять статьи с сайта в базу данных:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;log&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
    <span class="token string">&quot;io/ioutil&quot;</span>
    <span class="token string">&quot;strings&quot;</span>

    <span class="token string">&quot;github.com/PuerkitoBio/goquery&quot;</span>
    <span class="token string">&quot;github.com/jinzhu/gorm&quot;</span>
    <span class="token boolean">_</span> <span class="token string">&quot;github.com/jinzhu/gorm/dialects/mysql&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">type</span> Article <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ID      <span class="token builtin">uint</span>   <span class="token string">`gorm:&quot;primary_key&quot;`</span>
    Title   <span class="token builtin">string</span> <span class="token string">`gorm:&quot;not null&quot;`</span>
    Content <span class="token builtin">string</span> <span class="token string">`gorm:&quot;not null&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Открываем соединение с базой данных</span>
    db<span class="token punctuation">,</span> err <span class="token operator">:=</span> gorm<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;mysql&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;user:password@/dbname?charset=utf8&amp;parseTime=True&amp;loc=Local&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> db<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Создаем таблицу для статей, если она не существует</span>
    db<span class="token punctuation">.</span><span class="token function">AutoMigrate</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>Article<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// Запрашиваем страницу сайта</span>
    response<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.example.com/articles&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> response<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Считываем содержимое страницы</span>
    body<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Создаем объект goquery для парсинга HTML</span>
    doc<span class="token punctuation">,</span> err <span class="token operator">:=</span> goquery<span class="token punctuation">.</span><span class="token function">NewDocumentFromReader</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Находим все ссылки на статьи</span>
    doc<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Each</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>index <span class="token builtin">int</span><span class="token punctuation">,</span> element <span class="token operator">*</span>goquery<span class="token punctuation">.</span>Selection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        href<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> element<span class="token punctuation">.</span><span class="token function">Attr</span><span class="token punctuation">(</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> strings<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>href<span class="token punctuation">,</span> <span class="token string">&quot;/articles/&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Запрашиваем страницу статьи</span>
            articleResponse<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">defer</span> articleResponse<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment">// Считываем содержимое страницы статьи</span>
            articleBody<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>articleResponse<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// Парсим содержимое страницы статьи</span>
            articleDoc<span class="token punctuation">,</span> err <span class="token operator">:=</span> goquery<span class="token punctuation">.</span><span class="token function">NewDocumentFromReader</span><span class="token punctuation">(</span>strings<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>articleBody<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// Находим заголовок и содержимое статьи</span>
            title <span class="token operator">:=</span> articleDoc<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">&quot;h1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            content <span class="token operator">:=</span> articleDoc<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token string">&quot;.content&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

            <span class="token comment">// Создаем новую статью</span>
            article <span class="token operator">:=</span> Article<span class="token punctuation">{</span>
                Title<span class="token punctuation">:</span>   title<span class="token punctuation">,</span>
                Content<span class="token punctuation">:</span> content<span class="token punctuation">,</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// Сохраняем статью в базу данных</span>
            <span class="token keyword">if</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>article<span class="token punctuation">)</span><span class="token punctuation">.</span>Error<span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>

            <span class="token comment">// Выводим заголовок статьи на экран</span>
            fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s\n&quot;</span><span class="token punctuation">,</span> title<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Этот код получает список всех ссылок на статьи на странице сайта, затем для каждой статьи запрашивает ее страницу, парсит содержимое и сохраняет статью в базу данных. В примере используется библиотека goquery для парсинга HTML и библиотека gorm для работы с базой данных MySQL.</p> <h2 id="напиши-список-папок-типичного-golang-проекта-и-для-чего-они-нужны"><a class="header-anchor" href="#напиши-список-папок-типичного-golang-проекта-и-для-чего-они-нужны">#</a> напиши список папок типичного golang проекта и для чего они нужны</h2> <ol><li><code>cmd</code> - содержит исполняемые файлы для запуска проекта.</li> <li><code>internal</code> - содержит код, который не должен быть использован вне проекта.</li> <li><code>pkg</code> - содержит код, который может быть использован в других проектах.</li> <li><code>vendor</code> - содержит сторонние библиотеки и зависимости проекта.</li> <li><code>api</code> - содержит файлы для реализации API.</li> <li><code>config</code> - содержит файлы конфигурации и переменных окружения.</li> <li><code>test</code> - содержит юнит-тесты для проекта.</li> <li><code>docs</code> - содержит документацию по проекту.</li> <li><code>scripts</code> - содержит скрипты для автоматизации различных задач.</li> <li><code>tools</code> - содержит инструменты для разработки и тестирования проекта.</li></ol> <p>Каждая из этих папок имеет свои цели и задачи, которые помогают разработчикам организовать и управлять проектом в более эффективном и простом способе.</p> <h2 id="package-xxx-is-not-in-goroot-when-building-a-go-project"><a class="header-anchor" href="#package-xxx-is-not-in-goroot-when-building-a-go-project">#</a> &quot;package XXX is not in GOROOT&quot; when building a Go project</h2> <p>В более новых версиях (после 1.13) Go вам не нужно устанавливать переменные среды, такие как <code>GOPATH</code>, <code>GOBIN</code>и т. д.</p> <p>Вам также необходимо иметь <code>go.mod</code>файл в корне проекта. Это сделает каталог модулем Go. Здесь также <code>.git/</code>находится . <code>go.mod</code>Это означает, что для каждого репозитория требуется только один . Внутри корня проекта вы можете сделать<code>go mod init remote-repo.com/username/repository</code></p> <p>Я установил Go с помощью Homebrew на macOS <code>GOROOT</code>. <code>/opt/homebrew/Cellar/go/1.17.5/libexec</code>В этом расположении находятся стандартная библиотека и среды выполнения для Go.</p> <p><code>test</code>и <code>run</code>команды выполняются в формате <code>go COMMAND package_path/xxx</code>. Без указания package_path <code>./</code>и просто запуска <code>go COMMAND xxx</code>компилятор предполагает, что модуль <em>xxx</em> находится в GOROOT, и выдает ошибку, <code>package xxx is not in GOROOT (path/to/GOROOT/src/xxx)</code>потому что он не существует.</p> <p>Такое поведение ожидается, потому что пакет, с которым мы работаем, не является частью Go SDK, т. е. не находится в <code>GOROOT</code>. Пакет, с которым мы работаем, окажется либо в рабочем пространстве go, либо в текущем рабочем каталоге. Запуск <code>go install</code>компилирует и помещает исполняемый двоичный файл <code>$GOBIN</code>(также <code>$GOPATH/bin</code>известный <code>$GOPATH</code>как рабочая область Go). Запуск <code>go build</code>изнутри пакета компилирует и помещает исполняемый файл в этот каталог.</p> <p>Вы не указали файлы внутри <code>server/</code>пакета и какой файл имеет основную функцию, поэтому я буду эмулировать 3 рабочих процесса калькулятора, каждый из которых демонстрирует большую сложность. Последний рабочий процесс аналогичен вашей структуре каталогов.</p> <h2 id="структура-каталогов"><a class="header-anchor" href="#структура-каталогов">#</a> Структура каталогов</h2> <h3 id="версия-1"><a class="header-anchor" href="#версия-1">#</a> Версия 1:</h3> <ul><li><p>Начало работы с пакетами</p></li> <li><p>Базовая функциональность</p></li></ul> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>calculatorv1
├── <span class="token keyword">go</span><span class="token punctuation">.</span>mod                      <span class="token operator">&lt;-</span> <span class="token keyword">go</span> mod init github<span class="token punctuation">.</span>com<span class="token operator">/</span>yourname<span class="token operator">/</span>calculatorv1
└── basic<span class="token operator">/</span>
    ├── add<span class="token punctuation">.</span><span class="token keyword">go</span>
    ├── add_test<span class="token punctuation">.</span><span class="token keyword">go</span>
    ├── main<span class="token punctuation">.</span><span class="token keyword">go</span>
    ├── multiply<span class="token punctuation">.</span><span class="token keyword">go</span>
    └── multiply_test<span class="token punctuation">.</span><span class="token keyword">go</span>
</code></pre></div><h3 id="версия-2"><a class="header-anchor" href="#версия-2">#</a> Версия 2:</h3> <ul><li><p>Больше функциональности</p></li> <li><p>Несколько пакетов</p></li></ul> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>calculatorv2
├── <span class="token keyword">go</span><span class="token punctuation">.</span>mod                      <span class="token operator">&lt;-</span> <span class="token keyword">go</span> mod init github<span class="token punctuation">.</span>com<span class="token operator">/</span>yourname<span class="token operator">/</span>calculatorv2
├── main<span class="token punctuation">.</span><span class="token keyword">go</span>
└── basic<span class="token operator">/</span>
│   ├── add<span class="token punctuation">.</span><span class="token keyword">go</span>
│   ├── add_test<span class="token punctuation">.</span><span class="token keyword">go</span>
│   ├── multiply<span class="token punctuation">.</span><span class="token keyword">go</span>
│   └── multiply_test<span class="token punctuation">.</span><span class="token keyword">go</span>
└─── advanced<span class="token operator">/</span>
     ├── square<span class="token punctuation">.</span><span class="token keyword">go</span>
     └── square_test<span class="token punctuation">.</span><span class="token keyword">go</span>
</code></pre></div><h3 id="версия-3"><a class="header-anchor" href="#версия-3">#</a> Версия 3:</h3> <ul><li><p>Еще больше функциональности</p></li> <li><p>Вложенные пакеты</p></li></ul> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>calculatorv3
├── <span class="token keyword">go</span><span class="token punctuation">.</span>mod                      <span class="token operator">&lt;-</span> <span class="token keyword">go</span> mod init github<span class="token punctuation">.</span>com<span class="token operator">/</span>yourname<span class="token operator">/</span>calculatorv3
├── main<span class="token punctuation">.</span><span class="token keyword">go</span>
└── basic<span class="token operator">/</span>
│   ├── add<span class="token punctuation">.</span><span class="token keyword">go</span>
│   ├── add_test<span class="token punctuation">.</span><span class="token keyword">go</span>
│   ├── multiply<span class="token punctuation">.</span><span class="token keyword">go</span>
│   └── multiply_test<span class="token punctuation">.</span><span class="token keyword">go</span>
└─── advanced<span class="token operator">/</span>
     ├── square<span class="token punctuation">.</span><span class="token keyword">go</span>
     ├── square_test<span class="token punctuation">.</span><span class="token keyword">go</span>
     └── scientific<span class="token operator">/</span>
         ├── declog<span class="token punctuation">.</span><span class="token keyword">go</span>
         └── declog_test<span class="token punctuation">.</span><span class="token keyword">go</span>
</code></pre></div><hr> <h2 id="рабочии-процесс"><a class="header-anchor" href="#рабочии-процесс">#</a> Рабочий процесс</h2> <p><strong>Примечание.</strong> Замените <code>xxx</code>на <code>basic</code>, <code>advanced</code>или <code>advanced/scientific</code>в зависимости от версии, с которой вы работаете.</p> <ul><li><p>Инициализируйте модуль Go в каталоге проекта (один из <code>calculatorv1</code>, <code>calculatorv2</code>или <code>calculatorv3</code>), используя<code>go mod init</code></p></li> <li><p>Запустить тесты</p> <p><code>go test -v ./...</code> (из корня проекта рекурсивно выполнить все наборы тестов)</p> <p>ИЛИ</p> <p><code>go test -v ./xxx</code> (из корня проекта запустите набор тестов в пакете «xxx»)</p> <p>ИЛИ</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>cd xxx<span class="token operator">/</span>
<span class="token keyword">go</span> test <span class="token operator">-</span>v            # <span class="token punctuation">(</span>from inside the <span class="token keyword">package</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>Скомпилировать и выполнить пакет</p> <p><code>go run ./...</code> (из корня проекта рекурсивно запустить все <code>.go</code>файлы, кроме тестов)</p> <p>ИЛИ</p> <p><code>go run ./xxx</code> (из корня проекта запустить все <code>.go</code>файлы пакета &quot;xxx&quot;, кроме тестов)</p> <p>ИЛИ</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>cd xxx
<span class="token keyword">go</span> run <span class="token punctuation">.</span>              # <span class="token punctuation">(</span>from inside the <span class="token keyword">package</span><span class="token punctuation">)</span>
</code></pre></div><p><strong>ПРИМЕЧАНИЕ</strong> . Исполняемыми являются только файлы в основном пакете, т. е. файлы, имеющие объявление <code>package main</code>. Это означает, что он <code>go run ./xxx</code>будет работать только с версией 1, а не с версиями 2 и 3. Вместо этого для версий 2 и 3 запустите<code>go run main.go</code></p></li></ul> <hr> <h2 id="код"><a class="header-anchor" href="#код">#</a> Код</h2> <p><strong>Очень легко заполнить неполные биты</strong></p> <h3 id="версия-1-2"><a class="header-anchor" href="#версия-1-2">#</a> Версия 1</h3> <p><strong>add.go</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">func</span> <span class="token function">addition</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>
</code></pre></div><p><strong>add_test.go</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;testing&quot;</span>

<span class="token keyword">func</span> <span class="token function">TestAdd</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    t<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;adding two positive numbers&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">:=</span> <span class="token function">addition</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        expected <span class="token operator">:=</span> <span class="token number">4</span>
        
        <span class="token keyword">if</span> sum <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;Expected %d; but got %d&quot;</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    t<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;adding two negative numbers&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">:=</span> <span class="token function">addition</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span>
        expected <span class="token operator">:=</span> <span class="token operator">-</span><span class="token number">7</span>

        <span class="token keyword">if</span> sum <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;Expected %d; but got %d&quot;</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    t<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;adding one positive and one negative integer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">:=</span> <span class="token function">addition</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span>
        expected <span class="token operator">:=</span> <span class="token operator">-</span><span class="token number">2</span>

        <span class="token keyword">if</span> sum <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;Expected %d; but got %d&quot;</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
<span class="token punctuation">}</span>
</code></pre></div><p><strong>main.go</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> num1 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">var</span> num2 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">2</span>
    
    sum <span class="token operator">:=</span> <span class="token function">addition</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
    product <span class="token operator">:=</span> <span class="token function">multiplication</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span>

    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;The sum of %d and %d is %d\n&quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;The multiplication of %d and %d is %d\n&quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> product<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="версия-2-2"><a class="header-anchor" href="#версия-2-2">#</a> Версия 2</h3> <p><strong>main.go</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;github.com/yourname/calculatorv2/basic&quot;</span>
    <span class="token string">&quot;github.com/yourname/calculatorv2/advanced&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> num1 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">var</span> num2 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">2</span>
    
    product <span class="token operator">:=</span> basic<span class="token punctuation">.</span><span class="token function">Multiplication</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
    square <span class="token operator">:=</span> advanced<span class="token punctuation">.</span><span class="token function">Square</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>

    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;The product of %d and %d is %d\n&quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> product<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;The square of %d is %d\n&quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">,</span> square<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>умножить.иди</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> basic

<span class="token keyword">func</span> <span class="token function">Multiplication</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">,</span> y <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> y
<span class="token punctuation">}</span>
</code></pre></div><p><strong>multi_test.go</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> basic

<span class="token keyword">import</span> <span class="token string">&quot;testing&quot;</span>

<span class="token keyword">func</span> <span class="token function">TestMultiply</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    t<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;multiplying two positive numbers&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">:=</span> <span class="token function">Multiplication</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
        expected <span class="token operator">:=</span> <span class="token number">4</span>
        
        <span class="token keyword">if</span> sum <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;Expected %d; but got %d&quot;</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    t<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;multiplying two negative numbers&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">:=</span> <span class="token function">Multiplication</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span>
        expected <span class="token operator">:=</span> <span class="token number">12</span>

        <span class="token keyword">if</span> sum <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;Expected %d; but got %d&quot;</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    t<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;multiplying one positive and one negative integer&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">:=</span> <span class="token function">Multiplication</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span>
        expected <span class="token operator">:=</span> <span class="token operator">-</span><span class="token number">3</span>

        <span class="token keyword">if</span> sum <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;Expected %d; but got %d&quot;</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
<span class="token punctuation">}</span>
</code></pre></div><p><strong>квадрат.го</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> advanced

<span class="token keyword">func</span> <span class="token function">Square</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x
<span class="token punctuation">}</span>
</code></pre></div><h3 id="версия-3-2"><a class="header-anchor" href="#версия-3-2">#</a> Версия 3</h3> <p><strong>main.go</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;github.com/yourname/calculatorv3/basic&quot;</span>
    <span class="token string">&quot;github.com/yourname/calculatorv3/advanced&quot;</span>
    <span class="token string">&quot;github.com/yourname/calculatorv3/advanced/scientific&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> num1 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">var</span> num2 <span class="token builtin">int</span> <span class="token operator">=</span> <span class="token number">2</span>
    <span class="token keyword">var</span> num3 <span class="token builtin">float64</span> <span class="token operator">=</span> <span class="token number">2</span>
    
    product <span class="token operator">:=</span> basic<span class="token punctuation">.</span><span class="token function">Multiplication</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span>
    square <span class="token operator">:=</span> advanced<span class="token punctuation">.</span><span class="token function">Square</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>
    decimallog <span class="token operator">:=</span> scientific<span class="token punctuation">.</span><span class="token function">DecimalLog</span><span class="token punctuation">(</span>num3<span class="token punctuation">)</span>

    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;The product of %d and %d is %d\n&quot;</span><span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> product<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;The square of %d is %d\n&quot;</span><span class="token punctuation">,</span> num2<span class="token punctuation">,</span> square<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;The decimal log (base 10) of %f is %f\n&quot;</span><span class="token punctuation">,</span> num3<span class="token punctuation">,</span> decimallog<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>квадрат.го</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> advanced

<span class="token keyword">func</span> <span class="token function">Square</span><span class="token punctuation">(</span>x <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> x <span class="token operator">*</span> x
<span class="token punctuation">}</span>
</code></pre></div><p><strong>declog.go</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> scientific

<span class="token keyword">import</span> <span class="token string">&quot;math&quot;</span>

<span class="token keyword">func</span> <span class="token function">DecimalLog</span><span class="token punctuation">(</span>x <span class="token builtin">float64</span><span class="token punctuation">)</span> <span class="token builtin">float64</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> math<span class="token punctuation">.</span><span class="token function">Log10</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>declog_test.go</strong></p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> scientific

<span class="token keyword">import</span> <span class="token string">&quot;testing&quot;</span>

<span class="token keyword">func</span> <span class="token function">TestDecimalLog</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    t<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;adding two positive numbers&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">:=</span> <span class="token function">DecimalLog</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
        expected <span class="token operator">:=</span> <span class="token number">2.0</span>
        
        <span class="token keyword">if</span> sum <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;Expected %f; but got %f&quot;</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    t<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;adding two negative numbers&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token operator">*</span>testing<span class="token punctuation">.</span>T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        sum <span class="token operator">:=</span> <span class="token function">DecimalLog</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        expected <span class="token operator">:=</span> <span class="token number">1.0</span>

        <span class="token keyword">if</span> sum <span class="token operator">!=</span> expected <span class="token punctuation">{</span>
            t<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;Expected %f; but got %f&quot;</span><span class="token punctuation">,</span> expected<span class="token punctuation">,</span> sum<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="как-в-golang-распарсить-yaml-фаил-и-вывести-рекурсивно-все-элементы-без-использования-struct"><a class="header-anchor" href="#как-в-golang-распарсить-yaml-фаил-и-вывести-рекурсивно-все-элементы-без-использования-struct">#</a> как в golang распарсить yaml файл и вывести рекурсивно все элементы без использования  struct</h2> <p>Для распарсинга YAML файлов в Go можно использовать пакет <code>gopkg.in/yaml.v2</code>. Ниже приведен пример кода, который считывает YAML файл в байтовый массив, распарсивает его и выводит все элементы рекурсивно:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;io/ioutil&quot;</span>

    <span class="token string">&quot;gopkg.in/yaml.v2&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Чтение YAML файла в байтовый массив</span>
    data<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadFile</span><span class="token punctuation">(</span><span class="token string">&quot;config.yaml&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Распарсивание YAML</span>
    <span class="token keyword">var</span> result <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    err <span class="token operator">=</span> yaml<span class="token punctuation">.</span><span class="token function">Unmarshal</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token operator">&amp;</span>result<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Рекурсивный вывод элементов</span>
    <span class="token function">printYaml</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">printYaml</span><span class="token punctuation">(</span>val <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> indent <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> v <span class="token operator">:=</span> val<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> k<span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> v <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s%s:\n&quot;</span><span class="token punctuation">,</span> <span class="token function">getIndent</span><span class="token punctuation">(</span>indent<span class="token punctuation">)</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span>
            <span class="token function">printYaml</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> indent<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> v <span class="token punctuation">{</span>
            <span class="token function">printYaml</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> indent<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s%v\n&quot;</span><span class="token punctuation">,</span> <span class="token function">getIndent</span><span class="token punctuation">(</span>indent<span class="token punctuation">)</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">getIndent</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">string</span><span class="token punctuation">(</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> n<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном примере используется рекурсивная функция <code>printYaml</code>, которая принимает на вход текущий элемент и уровень вложенности. Если текущий элемент является словарем, то функция выводит его ключ и рекурсивно вызывает саму себя для каждого значения. Если текущий элемент является массивом, то функция рекурсивно вызывает саму себя для каждого элемента. В остальных случаях функция просто выводит значение элемента. Функция <code>getIndent</code> используется для формирования отступов в зависимости от уровня вложенности.</p> <h2 id="как-с-помощью-библиотеки-colly-в-golang-выбрать-второи-элемент-спомощью-onhtml"><a class="header-anchor" href="#как-с-помощью-библиотеки-colly-в-golang-выбрать-второи-элемент-спомощью-onhtml">#</a> как с помощью библиотеки colly в golang выбрать второй элемент спомощью OnHTML</h2> <p>Библиотека <code>colly</code> в Go позволяет парсить HTML страницы с помощью селекторов CSS. Для выбора второго элемента можно использовать селектор <code>:nth-child(2)</code>.</p> <p>Пример кода:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;fmt&quot;</span>

    <span class="token string">&quot;github.com/gocolly/colly&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c <span class="token operator">:=</span> colly<span class="token punctuation">.</span><span class="token function">NewCollector</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    c<span class="token punctuation">.</span><span class="token function">OnHTML</span><span class="token punctuation">(</span><span class="token string">&quot;div:nth-child(2)&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>e <span class="token operator">*</span>colly<span class="token punctuation">.</span>HTMLElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>Text<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    c<span class="token punctuation">.</span><span class="token function">Visit</span><span class="token punctuation">(</span><span class="token string">&quot;https://example.com&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном примере создается новый коллектор <code>c</code>. Далее мы используем метод <code>OnHTML</code>, чтобы указать, что нужно выполнить определенную функцию, когда на странице будет найден элемент, соответствующий указанному селектору. В данном случае мы выбираем второй <code>div</code> на странице.</p> <p>В функции обратного вызова мы используем метод <code>Text</code> элемента, чтобы вывести текст второго элемента. Мы можем использовать любой другой метод, например, <code>Attr</code> для получения атрибутов элемента.</p> <p>В конце мы вызываем метод <code>Visit</code>, чтобы начать парсинг указанной страницы.</p> <h2 id="как-в-gin-templates-в-golang-вывести-список-фаилов-из-директории"><a class="header-anchor" href="#как-в-gin-templates-в-golang-вывести-список-фаилов-из-директории">#</a> как в gin templates в golang вывести список файлов из директории</h2> <p>Чтобы вывести список файлов из директории в шаблоне Gin, можно использовать стандартную библиотеку Go для работы с файлами и передать данные в шаблон через переменные.</p> <p>Ниже приведен пример кода, который показывает, как вывести список файлов из директории в шаблоне Gin:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;html/template&quot;</span>
    <span class="token string">&quot;io/ioutil&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
    <span class="token string">&quot;os&quot;</span>

    <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    r<span class="token punctuation">.</span><span class="token function">LoadHTMLGlob</span><span class="token punctuation">(</span><span class="token string">&quot;templates/*.html&quot;</span><span class="token punctuation">)</span> <span class="token comment">// Загрузка шаблонов</span>

    <span class="token comment">// Обработчик запроса</span>
    r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        files<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadDir</span><span class="token punctuation">(</span><span class="token string">&quot;./files&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            c<span class="token punctuation">.</span><span class="token function">AbortWithError</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> filenames <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
        <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> file <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">IsDir</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                filenames <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>filenames<span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        data <span class="token operator">:=</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span>
            <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span>    <span class="token string">&quot;Список файлов&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;filenames&quot;</span><span class="token punctuation">:</span> filenames<span class="token punctuation">,</span>
        <span class="token punctuation">}</span>

        c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном примере мы используем функцию <code>ioutil.ReadDir</code>, чтобы получить список файлов в директории <code>./files</code>. Затем мы проходимся по каждому файлу и добавляем его имя в срез <code>filenames</code>. Мы передаем этот срез в шаблон через переменную <code>filenames</code>.</p> <p>Далее мы можем создать файл <code>index.html</code> в папке <code>templates</code>, который будет выглядеть примерно так:</p> <div class="language-html extra-class"><pre v-pre="" class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{ .title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ .title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
        {{ range .filenames }}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>{{ . }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
        {{ end }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>В данном шаблоне мы используем цикл <code>range</code>, чтобы вывести каждое имя файла в отдельном теге <code>li</code>.</p> <p>Обратите внимание, что в данном примере мы используем функцию <code>c.AbortWithError</code>, чтобы вернуть ошибку сервера 500, если не удалось прочитать директорию. Это важно, чтобы избежать утечки информации или ошибок в продакшен-окружении.</p> <h2 id="как-в-gin-в-golang-расширить-extend-шаблон-другим-шаблоном-вставив-в-него-содержимое"><a class="header-anchor" href="#как-в-gin-в-golang-расширить-extend-шаблон-другим-шаблоном-вставив-в-него-содержимое">#</a> как в gin в golang расширить(extend) шаблон другим шаблоном вставив в него содержимое</h2> <p>Gin поддерживает расширение шаблонов, которое позволяет создавать один основной шаблон, который затем можно расширять другими шаблонами. Расширение шаблонов в Gin осуществляется с помощью функции <code>template.ParseFiles</code> стандартной библиотеки Go.</p> <p>Ниже приведен пример кода, который показывает, как расширить шаблон в Gin:</p> <p><code>base.html</code>:</p> <div class="language-html extra-class"><pre v-pre="" class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>{{ .title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    {{ block &quot;content&quot; . }}
    {{ end }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>index.html</code>:</p> <div class="language-html extra-class"><pre v-pre="" class="language-html"><code>{{ define &quot;content&quot; }}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>{{ .message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
{{ end }}
</code></pre></div><p><code>main.go</code>:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;net/http&quot;</span>

    <span class="token string">&quot;github.com/gin-gonic/gin&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    r<span class="token punctuation">.</span><span class="token function">LoadHTMLGlob</span><span class="token punctuation">(</span><span class="token string">&quot;templates/*.html&quot;</span><span class="token punctuation">)</span> <span class="token comment">// Загрузка шаблонов</span>

    <span class="token comment">// Обработчик запроса</span>
    r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        data <span class="token operator">:=</span> gin<span class="token punctuation">.</span>H<span class="token punctuation">{</span>
            <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span>   <span class="token string">&quot;Пример страницы&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;message&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Привет, мир!&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        c<span class="token punctuation">.</span><span class="token function">HTML</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span>StatusOK<span class="token punctuation">,</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном примере мы создаем два шаблона: <code>base.html</code> и <code>index.html</code>. Шаблон <code>base.html</code> содержит общую разметку веб-страницы и блок <code>content</code>, который будет заполнен содержимым другого шаблона. Шаблон <code>index.html</code> расширяет шаблон <code>base.html</code>, определяя блок <code>content</code> и содержимое этого блока.</p> <p>В функции обработки запроса мы передаем переменные в шаблон <code>index.html</code> как обычно, но при вызове функции <code>HTML</code> указываем шаблон <code>base.html</code> в качестве основного шаблона. Это указывается вторым параметром функции <code>HTML</code> в виде списка имен шаблонов.</p> <p>Обратите внимание, что в шаблоне <code>base.html</code> мы используем функцию <code>block</code> для определения блока <code>content</code>. В шаблоне <code>index.html</code> мы используем функцию <code>define</code>, чтобы определить содержимое блока <code>content</code>. Это позволяет использовать шаблон <code>index.html</code> в качестве расширения шаблона <code>base.html</code>.</p> <h2 id="как-в-golang-мерджить-map"><a class="header-anchor" href="#как-в-golang-мерджить-map">#</a> как в golang мерджить map</h2> <p>Для мерджа (объединения) двух <code>map</code> в Go можно использовать цикл <code>for</code> и оператор <code>range</code>. Внутри цикла мы просто перебираем все ключи и значения второй <code>map</code> и добавляем их в первый <code>map</code>. Если ключ уже существует в первом <code>map</code>, мы перезаписываем его значение.</p> <p>Пример мерджа двух <code>map</code> в Go:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>map1 := map[string]int{
    &quot;a&quot;: 1,
    &quot;b&quot;: 2,
    &quot;c&quot;: 3,
}
map2 := map[string]int{
    &quot;b&quot;: 3,
    &quot;c&quot;: 4,
    &quot;d&quot;: 5,
}

for k, v := range map2 {
    map1[k] = v
}

fmt.Println(map1) // выводит map[a:1 b:3 c:4 d:5]
</code></pre></div><p>В этом примере мы объявляем две <code>map</code>: <code>map1</code> и <code>map2</code>. Затем мы перебираем все ключи и значения <code>map2</code> при помощи цикла <code>for</code> и оператора <code>range</code>. Внутри цикла мы добавляем ключ и значение в <code>map1</code>, используя оператор присваивания <code>=</code>. Если ключ уже существует в <code>map1</code>, его значение перезаписывается значением из <code>map2</code>.</p> <p>В итоге мы выводим <code>map1</code> на консоль, чтобы убедиться, что все ключи и значения из <code>map2</code> были добавлены в <code>map1</code>.</p> <h2 id="как-в-gin-golang-использовать-переменные-разных-типов-map-struct-и-т-д"><a class="header-anchor" href="#как-в-gin-golang-использовать-переменные-разных-типов-map-struct-и-т-д">#</a> как в gin golang использовать переменные разных типов (map, struct и т.д.)</h2> <p>В Gin для передачи переменных разных типов в шаблон можно использовать <code>gin.H</code>. <code>gin.H</code> является типом <code>map[string]interface{}</code>, который может содержать переменные разных типов, таких как <code>int</code>, <code>string</code>, <code>map</code>, <code>struct</code> и другие.</p> <p>Пример использования переменных разных типов в Gin:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package main

import (
    &quot;net/http&quot;

    &quot;github.com/gin-gonic/gin&quot;
)

type Person struct {
    Name string
    Age  int
}

func main() {
    r := gin.Default()

    // создаем переменные разных типов
    message := &quot;Привет, мир!&quot;
    numbers := []int{1, 2, 3, 4, 5}
    person := Person{Name: &quot;Иван&quot;, Age: 30}
    data := map[string]string{&quot;foo&quot;: &quot;bar&quot;, &quot;baz&quot;: &quot;qux&quot;}

    r.GET(&quot;/&quot;, func(c *gin.Context) {
        // передаем переменные в шаблон при помощи gin.H
        c.HTML(http.StatusOK, &quot;index.tmpl&quot;, gin.H{
            &quot;message&quot;: message,
            &quot;numbers&quot;: numbers,
            &quot;person&quot;:  person,
            &quot;data&quot;:    data,
        })
    })

    r.Run(&quot;:8080&quot;)
}
</code></pre></div><p>В этом примере мы создаем переменные разных типов: <code>message</code> типа <code>string</code>, <code>numbers</code> типа <code>[]int</code>, <code>person</code> типа <code>Person</code> и <code>data</code> типа <code>map[string]string</code>. Затем мы передаем эти переменные в шаблон при помощи <code>gin.H</code>. В шаблоне мы можем использовать эти переменные, обращаясь к ним по их ключам.</p> <p>Пример использования переменных в шаблоне:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>&lt;h1&gt;{{ .message }}&lt;/h1&gt;

&lt;ul&gt;
{{ range .numbers }}
    &lt;li&gt;{{ . }}&lt;/li&gt;
{{ end }}
&lt;/ul&gt;

&lt;p&gt;Имя: {{ .person.Name }}&lt;/p&gt;
&lt;p&gt;Возраст: {{ .person.Age }}&lt;/p&gt;

{{ range $key, $value := .data }}
    &lt;p&gt;{{ $key }}: {{ $value }}&lt;/p&gt;
{{ end }}
</code></pre></div><p>В этом примере мы используем переменные, переданные в шаблон, при помощи конструкций <code>{{ .key }}</code> и <code>{{ range }}</code>. Обратите внимание, что мы можем обращаться к полям структуры <code>person</code> при помощи точечной нотации (<code>{{ .person.Name }}</code> и <code>{{ .person.Age }}</code>). Кроме того, мы можем использовать цикл <code>range</code> для перебора элементов <code>data</code>.</p> <h2 id="как-в-gin-golang-использовать-переменные-с-типом-map-и-как-получать-доступ-к-определенному-значению"><a class="header-anchor" href="#как-в-gin-golang-использовать-переменные-с-типом-map-и-как-получать-доступ-к-определенному-значению">#</a> как в gin golang использовать переменные с типом map и как получать доступ к определенному значению</h2> <p>В Gin для использования переменных с типом <code>map</code> в шаблоне можно использовать <code>gin.H</code>. <code>gin.H</code> является типом <code>map[string]interface{}</code>, который может содержать переменные разных типов, включая <code>map</code>.</p> <p>Пример использования переменной с типом <code>map</code> в Gin:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>package main

import (
    &quot;net/http&quot;

    &quot;github.com/gin-gonic/gin&quot;
)

func main() {
    r := gin.Default()

    // создаем переменную типа map
    data := map[string]interface{}{
        &quot;name&quot;: &quot;Иван&quot;,
        &quot;age&quot;:  30,
        &quot;email&quot;: map[string]string{
            &quot;work&quot;: &quot;ivan@example.com&quot;,
            &quot;home&quot;: &quot;ivan@home.com&quot;,
        },
    }

    r.GET(&quot;/&quot;, func(c *gin.Context) {
        // передаем переменную в шаблон при помощи gin.H
        c.HTML(http.StatusOK, &quot;index.tmpl&quot;, gin.H{
            &quot;data&quot;: data,
        })
    })

    r.Run(&quot;:8080&quot;)
}
</code></pre></div><p>В этом примере мы создаем переменную <code>data</code> типа <code>map[string]interface{}</code>. Эта переменная содержит значения разных типов, включая другую <code>map</code>. Затем мы передаем эту переменную в шаблон при помощи <code>gin.H</code>.</p> <p>Чтобы получить доступ к определенному значению в переменной типа <code>map</code> в шаблоне, мы можем использовать точечную нотацию (<code>.</code>) для обращения к полям и индексам. Например, чтобы получить значение поля <code>name</code>, мы можем использовать <code>{{ .data.name }}</code>. А чтобы получить значение поля <code>work</code> из вложенной <code>map</code>, мы можем использовать <code>{{ .data.email.work }}</code>.</p> <p>Пример использования переменной с типом <code>map</code> в шаблоне:</p> <div class="language- extra-class"><pre v-pre="" class="language-text"><code>&lt;p&gt;Имя: {{ .data.name }}&lt;/p&gt;
&lt;p&gt;Возраст: {{ .data.age }}&lt;/p&gt;
&lt;p&gt;Рабочий email: {{ .data.email.work }}&lt;/p&gt;
&lt;p&gt;Домашний email: {{ .data.email.home }}&lt;/p&gt;
</code></pre></div><p>В этом примере мы используем переменную <code>data</code> в шаблоне, обращаясь к ее полям и индексам при помощи точечной нотации (<code>.</code>).</p> <h2 id="как-в-colly-golang-получить-html-страницы"><a class="header-anchor" href="#как-в-colly-golang-получить-html-страницы">#</a> как в colly golang получить html страницы</h2> <p>Для получения HTML страницы с помощью библиотеки colly в Golang нужно создать коллектор и зарегистрировать функцию-обработчик для события &quot;OnResponse&quot;. В этой функции можно получить HTML страницу из объекта &quot;Response&quot;.</p> <p>Пример кода:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;github.com/gocolly/colly&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment">// Создаем новый коллектор</span>
 c <span class="token operator">:=</span> colly<span class="token punctuation">.</span><span class="token function">NewCollector</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

 <span class="token comment">// Регистрируем обработчик для события &quot;OnResponse&quot;</span>
 c<span class="token punctuation">.</span><span class="token function">OnResponse</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span>r <span class="token operator">*</span>colly<span class="token punctuation">.</span>Response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Получаем HTML страницу</span>
  html <span class="token operator">:=</span> <span class="token function">string</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>

 <span class="token comment">// Переходим на нужную страницу</span>
 c<span class="token punctuation">.</span><span class="token function">Visit</span><span class="token punctuation">(</span><span class="token string">&quot;https://example.com/&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Здесь мы создаем новый коллектор и регистрируем обработчик для события &quot;OnResponse&quot;. В этом обработчике мы получаем HTML страницу из объекта &quot;Response&quot; и выводим ее в консоль.</p> <p>Затем мы вызываем метод &quot;Visit&quot; для перехода на нужную страницу. После этого будет вызван обработчик для события &quot;OnResponse&quot;, который получит HTML страницу.</p> <h2 id="что-за-строка-в-golang-в-struct-рядом-с-аргументом-как-она-называется-и-что-она-может"><a class="header-anchor" href="#что-за-строка-в-golang-в-struct-рядом-с-аргументом-как-она-называется-и-что-она-может">#</a> что за строка в golang в struct рядом с аргументом ``, как она называется и что она может</h2> <p>Строка, которую вы видите рядом с аргументом в Golang, называется тегом структуры (Struct Tags). Тег структуры - это строка, которая может содержать метаданные для поля структуры.</p> <p>Тег структуры представляет собой строку, которая следует за именем поля структуры и заключена в обратные апострофы (``). Эта строка может содержать несколько пар &quot;ключ-значение&quot;, разделенных символом &quot;;&quot;.</p> <p>Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ID    <span class="token builtin">int</span>    <span class="token string">`json:&quot;id&quot; gorm:&quot;primary_key&quot;`</span>
    Name  <span class="token builtin">string</span> <span class="token string">`json:&quot;name&quot;`</span>
    Email <span class="token builtin">string</span> <span class="token string">`json:&quot;email&quot; gorm:&quot;unique&quot;`</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Здесь мы определяем структуру &quot;User&quot;, которая имеет три поля: &quot;ID&quot;, &quot;Name&quot; и &quot;Email&quot;. Каждое поле имеет тег структуры, который содержит метаданные для этого поля.</p> <p>Например, поле &quot;ID&quot; имеет тег структуры <code>json:&quot;id&quot; gorm:&quot;primary_key&quot;</code>. Здесь &quot;json&quot; и &quot;gorm&quot; - это ключи, которые указывают на то, как должны быть сериализованы и десериализованы поля структуры при использовании JSON и ORM. Значение &quot;id&quot; для ключа &quot;json&quot; указывает на то, что поле &quot;ID&quot; должно быть сериализовано в JSON как &quot;id&quot;. Значение &quot;primary_key&quot; для ключа &quot;gorm&quot; указывает на то, что поле &quot;ID&quot; должно быть первичным ключом в таблице базы данных при использовании GORM.</p> <p>Теги структуры могут использоваться для многих целей, например для задания правил валидации, форматирования, связывания с базой данных и т.д.</p> <h2 id="как-она-struct-tags-считывается"><a class="header-anchor" href="#как-она-struct-tags-считывается">#</a> как она (Struct Tags) считывается</h2> <p>Для считывания тега структуры в Golang используется пакет &quot;reflect&quot;. Функция &quot;reflect.TypeOf&quot; принимает любое значение и возвращает его тип, включая теги структуры.</p> <p>Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ID    <span class="token builtin">int</span>    <span class="token string">`json:&quot;id&quot; gorm:&quot;primary_key&quot;`</span>
    Name  <span class="token builtin">string</span> <span class="token string">`json:&quot;name&quot;`</span>
    Email <span class="token builtin">string</span> <span class="token string">`json:&quot;email&quot; gorm:&quot;unique&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    user <span class="token operator">:=</span> User<span class="token punctuation">{</span>ID<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> Name<span class="token punctuation">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span> Email<span class="token punctuation">:</span> <span class="token string">&quot;john.doe@example.com&quot;</span><span class="token punctuation">}</span>

    <span class="token comment">// Получение типа структуры</span>
    userType <span class="token operator">:=</span> reflect<span class="token punctuation">.</span><span class="token function">TypeOf</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>

    <span class="token comment">// Получение тега структуры для поля &quot;ID&quot;</span>
    idField<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> userType<span class="token punctuation">.</span><span class="token function">FieldByName</span><span class="token punctuation">(</span><span class="token string">&quot;ID&quot;</span><span class="token punctuation">)</span>
    idTag <span class="token operator">:=</span> idField<span class="token punctuation">.</span>Tag

    <span class="token comment">// Вывод тега структуры для поля &quot;ID&quot;</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>idTag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// id</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>idTag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;gorm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>     <span class="token comment">// primary_key</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>idTag<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&quot;unknown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// &quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Здесь мы определяем структуру &quot;User&quot; с тегами структуры для полей и используем функцию &quot;reflect.TypeOf&quot; для получения типа структуры. Затем мы используем метод &quot;FieldByName&quot; для получения поля &quot;ID&quot; и метод &quot;Tag&quot; для получения его тега структуры.</p> <p>Метод &quot;Tag.Get&quot; используется для доступа к значению тега структуры по заданному ключу. В данном примере мы выводим значение тега &quot;json&quot; и &quot;gorm&quot; для поля &quot;ID&quot;. Если ключ не найден, то метод &quot;Get&quot; возвращает пустую строку.</p> <h2 id="как-в-gorm-golang-проверить-find-на-ошибку"><a class="header-anchor" href="#как-в-gorm-golang-проверить-find-на-ошибку">#</a> как в gorm golang проверить Find на ошибку</h2> <p>При выполнении запроса &quot;Find&quot; в GORM в Golang можно проверять наличие ошибки с помощью функции &quot;Error&quot; или &quot;RecordNotFound&quot;.</p> <p>Функция &quot;Error&quot; возвращает ошибку, которая может быть обработана вручную, например:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">var</span> users <span class="token punctuation">[</span><span class="token punctuation">]</span>User
<span class="token keyword">if</span> err <span class="token operator">:=</span> db<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>users<span class="token punctuation">)</span><span class="token punctuation">.</span>Error<span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token comment">// Обработка ошибки</span>
    log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Здесь мы выполняем запрос &quot;Find&quot; для получения всех пользователей из базы данных. Если возникнет ошибка, то функция &quot;Error&quot; вернет ее и мы можем обработать ее по своему усмотрению.</p> <p>Функция &quot;RecordNotFound&quot; проверяет, были ли найдены записи в результате выполнения запроса &quot;Find&quot;. Если записи не найдены, то функция &quot;RecordNotFound&quot; вернет значение &quot;true&quot;. Эту функцию можно использовать для проверки наличия записей в базе данных, например:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">var</span> users <span class="token punctuation">[</span><span class="token punctuation">]</span>User
<span class="token keyword">if</span> db<span class="token punctuation">.</span><span class="token function">Find</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>users<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RecordNotFound</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Обработка случая, когда записи не найдены</span>
    log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Записи не найдены&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Здесь мы также выполняем запрос &quot;Find&quot; для получения всех пользователей из базы данных, но проверяем наличие записей с помощью функции &quot;RecordNotFound&quot;. Если записи не найдены, то выводим сообщение об этом.</p> <h2 id="как-в-golang-поместить-сообщение-ошибки-в-строковую-переменную"><a class="header-anchor" href="#как-в-golang-поместить-сообщение-ошибки-в-строковую-переменную">#</a> как в golang поместить сообщение ошибки в строковую переменную</h2> <p>Для помещения сообщения об ошибке в строковую переменную в Golang можно использовать функцию &quot;Error()&quot; или &quot;String()&quot; для получения текстового представления ошибки.</p> <p>Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;errors&quot;</span>
 <span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 err <span class="token operator">:=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;Произошла ошибка&quot;</span><span class="token punctuation">)</span>
 errMsg <span class="token operator">:=</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>errMsg<span class="token punctuation">)</span>

 <span class="token keyword">var</span> err2 <span class="token builtin">error</span>
 errMsg2 <span class="token operator">:=</span> err2<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>errMsg2<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Здесь мы создаем новую ошибку с помощью функции &quot;errors.New&quot; и получаем ее текстовое представление с помощью функции &quot;Error()&quot;. Затем мы создаем переменную &quot;err2&quot; типа &quot;error&quot; без ошибки и также получаем ее текстовое представление.</p> <p>Если переменная &quot;err&quot; содержит ошибку, то ее текстовое представление будет содержать сообщение об ошибке. Если переменная &quot;err2&quot; не содержит ошибки, то ее текстовое представление будет пустой строкой.</p> <p>Также можно использовать функцию &quot;fmt.Sprintf&quot; для форматирования сообщения об ошибке в строку:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>errMsg <span class="token operator">:=</span> fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span><span class="token string">&quot;Произошла ошибка: %s&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>Здесь мы создаем строку с помощью функции &quot;fmt.Sprintf&quot;, которая включает сообщение об ошибке из переменной &quot;err&quot;.</p> <h2 id="как-в-go-запустить-отдельныи-отдельные-процессы-без-блокировки"><a class="header-anchor" href="#как-в-go-запустить-отдельныи-отдельные-процессы-без-блокировки">#</a> как в go запустить отдельный отдельные процессы без блокировки</h2> <p>В Go для запуска отдельных процессов без блокировки можно использовать методы <code>Start()</code> и <code>Wait()</code> из пакета <code>os/exec</code>. Пример:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
 <span class="token string">&quot;fmt&quot;</span>
 <span class="token string">&quot;os/exec&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 cmd <span class="token operator">:=</span> exec<span class="token punctuation">.</span><span class="token function">Command</span><span class="token punctuation">(</span><span class="token string">&quot;ls&quot;</span><span class="token punctuation">)</span>
 err <span class="token operator">:=</span> cmd<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Command started&quot;</span><span class="token punctuation">)</span>
 err <span class="token operator">=</span> cmd<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
 <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>
 fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Command finished&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы создаем новый процесс с помощью <code>exec.Command(&quot;ls&quot;)</code>. Затем мы запускаем процесс с помощью <code>cmd.Start()</code> и выводим сообщение &quot;Command started&quot;. Затем мы ждем, пока процесс завершится, с помощью <code>cmd.Wait()</code>, и выводим сообщение &quot;Command finished&quot;. Обратите внимание, что <code>Wait()</code> блокирует выполнение программы до завершения процесса. Если вы хотите запустить несколько процессов параллельно, вам нужно будет использовать горутины.</p> <h2 id="напиши-все-возжоные-примеры-использования-go-рутины"><a class="header-anchor" href="#напиши-все-возжоные-примеры-использования-go-рутины">#</a> напиши все возжоные примеры использования go рутины</h2> <p>Вот несколько примеров использования горутин в Go:</p> <ol><li>Простой пример, который выводит числа от 1 до 10:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// ожидание завершения работы горутины</span>
    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Пример использования горутин для обработки массива чисел:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    nums <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span>
    ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">int</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> n <span class="token operator">:=</span> <span class="token keyword">range</span> nums <span class="token punctuation">{</span>
            ch <span class="token operator">&lt;-</span> n <span class="token operator">*</span> n
        <span class="token punctuation">}</span>
        <span class="token function">close</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> res <span class="token operator">:=</span> <span class="token keyword">range</span> ch <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>Пример использования горутин для параллельного выполнения задач:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    task1 <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// выполнение задачи 1</span>
    <span class="token punctuation">}</span>
    task2 <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// выполнение задачи 2</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">go</span> <span class="token function">task1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">go</span> <span class="token function">task2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// ожидание завершения работы обеих горутин</span>
    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>Пример использования горутин для обработки HTTP-запросов:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// обработка запроса в отдельной горутине</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="5"><li>Пример использования горутин для чтения данных из нескольких файлов:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    files <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;file1.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;file2.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;file3.txt&quot;</span><span class="token punctuation">}</span>
    ch <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">string</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> f <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span>
        <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>filename <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            data<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            ch <span class="token operator">&lt;-</span> <span class="token function">string</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token operator">&lt;-</span>ch<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Это только несколько примеров использования горутин в Go. Они могут использоваться для параллельного выполнения задач, чтения и записи данных, обработки HTTP-запросов и многого другого.</p> <h2 id="напиши-все-возжоные-примеры-использования-в-go-waitgroup"><a class="header-anchor" href="#напиши-все-возжоные-примеры-использования-в-go-waitgroup">#</a> напиши все возжоные примеры использования в go waitgroup</h2> <p>Вот несколько примеров использования <code>WaitGroup</code> в Go:</p> <ol><li>Пример использования <code>WaitGroup</code> для ожидания завершения выполнения нескольких горутин:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>id <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;goroutine %d is done\n&quot;</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;all goroutines are done&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Пример использования <code>WaitGroup</code> для выполнения нескольких задач в параллель:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup
    tasks <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// выполнение задачи 1</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// выполнение задачи 2</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// выполнение задачи 3</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> task <span class="token operator">:=</span> <span class="token keyword">range</span> tasks <span class="token punctuation">{</span>
        wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>t <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">t</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;all tasks are done&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>Пример использования <code>WaitGroup</code> для чтения данных из нескольких файлов:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup
    files <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;file1.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;file2.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;file3.txt&quot;</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> f <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span>
        wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>filename <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            data<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;all files are read&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>Пример использования <code>WaitGroup</code> для выполнения HTTP-запросов:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup
    urls <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">{</span><span class="token string">&quot;http://example.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://google.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://facebook.com&quot;</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> url <span class="token operator">:=</span> <span class="token keyword">range</span> urls <span class="token punctuation">{</span>
        wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span>u <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            resp<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">defer</span> resp<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            body<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;all requests are done&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Это только несколько примеров использования <code>WaitGroup</code> в Go. Он может использоваться для параллельного выполнения задач, чтения и записи данных, обработки HTTP-запросов и многого другого.</p> <h2 id="что-такое-и-как-используется-embed-fs-в-go"><a class="header-anchor" href="#что-такое-и-как-используется-embed-fs-в-go">#</a> что такое и как используется embed.FS в go</h2> <p><code>embed.FS</code> - это новая функциональность, добавленная в Go 1.16, которая позволяет встроить файлы в бинарный файл программы.</p> <p><code>embed.FS</code> представляет собой файловую систему, которая может быть встроена в исполняемый файл и доступна во время выполнения. Это позволяет сделать программу более переносимой и упрощает ее развертывание, так как не нужно копировать или перемещать дополнительные файлы.</p> <p>Пример использования <code>embed.FS</code>:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;embed&quot;</span>
    <span class="token string">&quot;fmt&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">//go:embed hello.txt</span>
<span class="token keyword">var</span> hello <span class="token builtin">string</span>

<span class="token comment">//go:embed data/*</span>
<span class="token keyword">var</span> data embed<span class="token punctuation">.</span>FS

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>hello<span class="token punctuation">)</span>

    files<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> data<span class="token punctuation">.</span><span class="token function">ReadDir</span><span class="token punctuation">(</span><span class="token string">&quot;data&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> file <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы встроили файл <code>hello.txt</code> в строковую переменную <code>hello</code> и весь каталог <code>data/</code> в переменную типа <code>embed.FS</code> с помощью комментариев <code>//go:embed</code>.</p> <p>Затем мы используем <code>fmt.Println(hello)</code> для вывода содержимого файла <code>hello.txt</code> и <code>data.ReadDir(&quot;data&quot;)</code> для получения списка файлов в каталоге <code>data/</code>.</p> <p>Обратите внимание, что файлы встроенной файловой системы доступны только для чтения. Если вы хотите изменять файлы, необходимо скопировать их в другое место перед изменением.</p> <h2 id="как-пользоваться-директивои-go-embed"><a class="header-anchor" href="#как-пользоваться-директивои-go-embed">#</a> как пользоваться директивой //go:embed</h2> <p>Директива <code>//go:embed</code> позволяет встроить файлы в исполняемый файл программы с помощью пакета <code>embed</code>, который был добавлен в Go 1.16.</p> <p>Для использования директивы <code>//go:embed</code>, необходимо выполнить следующие шаги:</p> <ol><li><p>Импортировать пакет <code>embed</code>: <code>import &quot;embed&quot;</code></p></li> <li><p>Использовать директиву <code>//go:embed</code> перед строкой, содержащей путь к файлу или каталогу, который нужно встроить в исполняемый файл.</p></li></ol> <p>Например, если вы хотите встроить файл <code>config.json</code> в исполняемый файл, то необходимо написать следующий код:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;embed&quot;</span>

<span class="token comment">//go:embed config.json</span>
<span class="token keyword">var</span> configData <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Используем содержимое файла config.json</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Если вы хотите встроить все файлы в каталоге, то используйте директиву <code>//go:embed</code> с шаблоном пути к каталогу.</p> <p>Например, если вы хотите встроить все файлы в каталоге <code>templates</code>, то необходимо написать следующий код:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;embed&quot;</span>

<span class="token comment">//go:embed templates/*</span>
<span class="token keyword">var</span> templateFiles embed<span class="token punctuation">.</span>FS

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Используем содержимое файлов в каталоге templates</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы использовали переменную типа <code>embed.FS</code>, чтобы получить доступ к содержимому встроенных файлов.</p> <p>Директива <code>//go:embed</code> может использоваться только в файлах, которые находятся в корневом пакете программы. Кроме того, директива может использоваться только для статических файлов, которые доступны во время компиляции программы.</p> <h2 id="напиши-веб-сервер-с-api-которыи-использует-директиву-go-embed-для-упаковки-static-фаилов-для-страницы-с-интерфеисом"><a class="header-anchor" href="#напиши-веб-сервер-с-api-которыи-использует-директиву-go-embed-для-упаковки-static-фаилов-для-страницы-с-интерфеисом">#</a> напиши веб сервер с api который использует директиву //go:embed для упаковки static файлов для страницы с интерфейсом</h2> <p>Код веб-сервера с API, использующего директиву <code>//go:embed</code> для упаковки статических файлов для страницы с интерфейсом, может выглядеть следующим образом:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;embed&quot;</span>
    <span class="token string">&quot;encoding/json&quot;</span>
    <span class="token string">&quot;fmt&quot;</span>
    <span class="token string">&quot;log&quot;</span>
    <span class="token string">&quot;net/http&quot;</span>
<span class="token punctuation">)</span>

<span class="token comment">//go:embed static/* templates/*</span>
<span class="token keyword">var</span> embeddedFiles embed<span class="token punctuation">.</span>FS

<span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Name  <span class="token builtin">string</span> <span class="token string">`json:&quot;name&quot;`</span>
    Email <span class="token builtin">string</span> <span class="token string">`json:&quot;email&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Обработчик API</span>
    http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/api/user&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        user <span class="token operator">:=</span> User<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> Email<span class="token punctuation">:</span> <span class="token string">&quot;john@example.com&quot;</span><span class="token punctuation">}</span>
        json<span class="token punctuation">.</span><span class="token function">NewEncoder</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Encode</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// Обработчик статических файлов и страницы с интерфейсом</span>
    http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> r<span class="token punctuation">.</span>URL<span class="token punctuation">.</span>Path <span class="token operator">==</span> <span class="token string">&quot;/&quot;</span> <span class="token punctuation">{</span>
            <span class="token comment">// Выводим страницу с интерфейсом</span>
            tmpl<span class="token punctuation">,</span> err <span class="token operator">:=</span> embeddedFiles<span class="token punctuation">.</span><span class="token function">ReadFile</span><span class="token punctuation">(</span><span class="token string">&quot;templates/index.html&quot;</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;File not found&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">)</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">}</span>
            w<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>tmpl<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// Возвращаем статический файл</span>
            file<span class="token punctuation">,</span> err <span class="token operator">:=</span> embeddedFiles<span class="token punctuation">.</span><span class="token function">ReadFile</span><span class="token punctuation">(</span><span class="token string">&quot;static&quot;</span> <span class="token operator">+</span> r<span class="token punctuation">.</span>URL<span class="token punctuation">.</span>Path<span class="token punctuation">)</span>
            <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;File not found&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusNotFound<span class="token punctuation">)</span>
                <span class="token keyword">return</span>
            <span class="token punctuation">}</span>
            w<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// Запускаем веб-сервер на порту 8080</span>
    log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span>http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В этом примере мы определили переменную <code>embeddedFiles</code> с помощью директивы <code>//go:embed</code>, чтобы упаковать все файлы в каталогах <code>static/</code> и <code>templates/</code>. Затем мы создали обработчики для API и статических файлов.</p> <p>Обработчик для страницы с интерфейсом проверяет URL-путь и, если он равен <code>/</code>, выводит файл <code>index.html</code> из каталога <code>templates/</code>. Для обработки статических файлов мы добавили префикс <code>/static/</code> к URL-пути и искали файлы в каталоге <code>static/</code>.</p> <p>В конце мы запустили веб-сервер на порту 8080 с помощью функции <code>http.ListenAndServe()</code>.</p> <h2 id="как-в-go-работать-с-env-и-как-задать-дефолтные-значения"><a class="header-anchor" href="#как-в-go-работать-с-env-и-как-задать-дефолтные-значения">#</a> как в go работать с env и как задать дефолтные значения</h2> <p>В Go для работы с переменными окружения используется пакет <code>os</code>. Для чтения значения переменной окружения можно использовать функцию <code>os.Getenv(name)</code>, где <code>name</code> - это имя переменной.</p> <p>Пример чтения значения переменной окружения:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>port <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Getenv</span><span class="token punctuation">(</span><span class="token string">&quot;PORT&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> port <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
    port <span class="token operator">=</span> <span class="token string">&quot;8080&quot;</span> <span class="token comment">// значение по умолчанию</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном примере мы читаем значение переменной окружения <code>PORT</code> и, если оно пустое, то присваиваем значение по умолчанию &quot;8080&quot;.</p> <p>Чтобы задать значения переменных окружения по умолчанию, можно использовать пакет <code>godotenv</code>. Этот пакет загружает переменные окружения из файла <code>.env</code> в корневой папке проекта и помещает их в переменные окружения.</p> <p>Пример использования <code>godotenv</code>:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">import</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;github.com/joho/godotenv&quot;</span>
    <span class="token string">&quot;log&quot;</span>
    <span class="token string">&quot;os&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    err <span class="token operator">:=</span> godotenv<span class="token punctuation">.</span><span class="token function">Load</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">Fatal</span><span class="token punctuation">(</span><span class="token string">&quot;Error loading .env file&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    port <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Getenv</span><span class="token punctuation">(</span><span class="token string">&quot;PORT&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> port <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
        port <span class="token operator">=</span> <span class="token string">&quot;8080&quot;</span> <span class="token comment">// значение по умолчанию из файла .env</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном примере мы загружаем переменные окружения из файла <code>.env</code> с помощью функции <code>godotenv.Load()</code>. Если файл <code>.env</code> не найден или происходит ошибка чтения, то программа завершится с ошибкой.</p> <p>После загрузки переменных окружения мы можем использовать их в программе с помощью функции <code>os.Getenv(name)</code>, как и раньше. Если переменная окружения не определена, то будет использовано значение по умолчанию из файла <code>.env</code>.</p> <h2 id="как-в-golang-отправить-в-http-handlefunc-фаил-pdf-прочтенныи-с-диска"><a class="header-anchor" href="#как-в-golang-отправить-в-http-handlefunc-фаил-pdf-прочтенныи-с-диска">#</a> как в golang отправить в http.HandleFunc файл pdf прочтенный с диска?</h2> <p>Для отправки файла PDF в Go используется пакет <code>net/http</code>. Вот пример кода, который отправляет файл PDF при обращении к определенному пути:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    http<span class="token punctuation">.</span><span class="token function">HandleFunc</span><span class="token punctuation">(</span><span class="token string">&quot;/pdf&quot;</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>w http<span class="token punctuation">.</span>ResponseWriter<span class="token punctuation">,</span> r <span class="token operator">*</span>http<span class="token punctuation">.</span>Request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Открываем файл PDF</span>
        pdf<span class="token punctuation">,</span> err <span class="token operator">:=</span> os<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;/path/to/pdf/file.pdf&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Ошибка открытия файла&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">defer</span> pdf<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token comment">// Устанавливаем заголовок Content-Type для отправки файла PDF</span>
        w<span class="token punctuation">.</span><span class="token function">Header</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;application/pdf&quot;</span><span class="token punctuation">)</span>

        <span class="token comment">// Копируем содержимое файла PDF в ответ</span>
        <span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">:=</span> io<span class="token punctuation">.</span><span class="token function">Copy</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> pdf<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            http<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> <span class="token string">&quot;Ошибка отправки файла&quot;</span><span class="token punctuation">,</span> http<span class="token punctuation">.</span>StatusInternalServerError<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    http<span class="token punctuation">.</span><span class="token function">ListenAndServe</span><span class="token punctuation">(</span><span class="token string">&quot;:8080&quot;</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>В данном примере мы используем функцию <code>http.HandleFunc</code> для обработки запросов к пути <code>/pdf</code>. При обращении к этому пути открываем файл PDF и устанавливаем заголовок Content-Type для отправки файла PDF. Затем мы копируем содержимое файла PDF в ответ, используя функцию <code>io.Copy</code>, и отправляем его клиенту. Если возникает ошибка при открытии или отправке файла, мы отправляем соответствующий HTTP-код ошибки.</p> <h2 id="как-в-go-gorm-удалить-все-записи-в-таблице"><a class="header-anchor" href="#как-в-go-gorm-удалить-все-записи-в-таблице">#</a> как в go gorm удалить все записи в таблице?</h2> <p>Для удаления всех записей в таблице с помощью GORM в Go нужно выполнить следующие шаги:</p> <ol><li>Определить модель для таблицы, из которой будут удаляться записи. Например, для таблицы &quot;users&quot; можно определить модель следующим образом:</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code><span class="token keyword">type</span> User <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ID   <span class="token builtin">uint</span>
    Name <span class="token builtin">string</span>
    Age  <span class="token builtin">int</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="2"><li>Получить экземпляр <code>gorm.DB</code> для этой таблицы с помощью функции <code>gorm.Open()</code> или <code>gorm.DB()</code>.</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>db<span class="token punctuation">,</span> err <span class="token operator">:=</span> gorm<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;postgres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;host=localhost user=postgres dbname=test password=secret&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">defer</span> db<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li>Вызвать метод <code>Delete()</code> на экземпляре <code>gorm.DB</code>, указав модель как аргумент.</li></ol> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>db<span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>User<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Таким образом, полный код для удаления всех записей в таблице &quot;users&quot; с помощью GORM будет выглядеть следующим образом:</p> <div class="language-go extra-class"><pre v-pre="" class="language-go"><code>db<span class="token punctuation">,</span> err <span class="token operator">:=</span> gorm<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span><span class="token string">&quot;postgres&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;host=localhost user=postgres dbname=test password=secret&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
    <span class="token function">panic</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">defer</span> db<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

db<span class="token punctuation">.</span><span class="token function">Delete</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>User<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>Этот код удалит все записи из таблицы &quot;users&quot;. Обратите внимание, что этот код не удаляет таблицу, а только все ее записи. Если вы хотите удалить таблицу, вам нужно использовать метод <code>DropTableIfExists()</code>.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/doc_notes/assets/js/app.d7b7570d.js" defer></script><script src="/doc_notes/assets/js/2.733019b2.js" defer></script><script src="/doc_notes/assets/js/177.6e464bd5.js" defer></script>
  </body>
</html>
